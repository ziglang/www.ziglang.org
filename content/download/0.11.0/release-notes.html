<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>0.11.0 Release Notes âš¡ The Zig Programming Language</title>
    <link rel="icon" href="https://ziglang.org/favicon.png">
    <style>
      :root{
         --nav-width: 24em;
         --nav-margin-l: 1em;
      }
      body{
        font-family: system-ui, -apple-system, Roboto, "Segoe UI", sans-serif;
        margin: 0;
        line-height: 1.5;
      }
      header {
        padding: 0 1em;
      }
      h1, h2, h3, h4, h5 {
        margin: 0.5em 0 0.5em;
        line-height: 1.2;
        font-weight: bold;
        clear: both;
      }
      h1, h2 { font-size: 2.0em; }
      h3 { font-size: 1.5em; }
      h4 { font-size: 1.25em; }
      h5 { font-size: 1.0em; }
      #contents {
        max-width: 60em;
        margin: auto;
        padding: 0 1em;
      }
      #navigation {
        padding: 0 1em;
      }

      @media screen and (min-width: 1025px) {
        header {
          margin-left: calc(var(--nav-width) + var(--nav-margin-l));
        }
        header h1 {
          margin: auto;
          max-width: 30em;
        }
        #navigation {
          overflow: auto;
          width: var(--nav-width);
          height: 100vh;
          position: fixed;
          top:0;
          left:0;
          bottom:0;
          padding: unset;
          margin-left: var(--nav-margin-l);
        }
        #navigation nav ul {
          padding-left: 1em;
        }
        #contents-wrapper {
          margin-left: calc(var(--nav-width) + var(--nav-margin-l));
        }
    }

    a:hover,a:focus {
      background: #fff2a8;
    }
    dt {
      font-weight: bold;
    }
    th, td {
      padding: 0.6em;
    }
    tr:nth-child(even) {
      background: #f2f3f3;
    }
    .t0_1, .t37, .t37_1 {
      font-weight: bold;
    }
    .t2_0 {
      color: #575757;
    }
    .t31_1 {
      color: #b40000;
    }
    .t32_1 {
      color: green;
    }
    .t36_1 {
      color: #005C7A;
    }
    .file {
      font-weight: bold;
      border: unset;
    }
    code {
      background: #f8f8f8;
      border: 1px dotted silver;
      padding-left: 0.3em;
      padding-right: 0.3em;
    }
    pre > code {
      display: block;
      overflow: auto;
      padding: 0.5em;
      border: 1px solid #eee;
      line-height: normal;
    }
    samp {
      background: #fafafa;
    }
    pre > samp {
      display: block;
      overflow: auto;
      padding: 0.5em;
      border: 1px solid #eee;
      line-height: normal;
    }
    kbd {
      font-weight: bold;
    }
    .table-wrapper {
      width: 100%;
      overflow-x: auto;
    }

    .tok-kw {
        color: #333;
        font-weight: bold;
    }
    .tok-str {
        color: #d14;
    }
    .tok-builtin {
        color: #005C7A;
    }
    .tok-comment {
        color: #545454;
        font-style: italic;
    }
    .tok-fn {
        color: #900;
        font-weight: bold;
    }
    .tok-null {
        color: #005C5C;
    }
    .tok-number {
        color: #005C5C;
    }
    .tok-type {
        color: #458;
        font-weight: bold;
    }

    figure {
      margin: auto 0;
    }
    figure pre {
      margin-top: 0;
    }

    figcaption {
      padding-left: 0.5em;
      font-size: small;
      border-top-left-radius: 5px;
      border-top-right-radius: 5px;
    }
    figcaption.zig-cap {
      background: #fcdba5;
    }
    figcaption.c-cap {
      background: #a8b9cc;
      color: #000;
    }
    figcaption.peg-cap {
      background: #fcdba5;
    }
    figcaption.javascript-cap {
      background: #365d95;
      color: #fff;
    }
    figcaption.shell-cap {
      background: #ccc;
      color: #000;
    }

    aside {
      border-left: 0.25em solid #f7a41d;
      padding: 0 1em 0 1em;
    }

    h1 a, h2 a, h3 a, h4 a, h5 a {
      text-decoration: none;
      color: #333;
    }

    a.hdr {
      visibility: hidden;
    }
    h1:hover > a.hdr, h2:hover > a.hdr, h3:hover > a.hdr, h4:hover > a.hdr, h5:hover > a.hdr {
      visibility: visible;
    }

    pre {
      counter-reset: line;
    }
    pre .line:before {
      counter-increment: line;
      content: counter(line);
      display: inline-block;
      padding-right: 1em;
      width: 2em;
      text-align: right;
      color: #999;
    }
    th pre code {
        background: none;
    }
    th .line:before {
        display: none;
    }

    #logo {
      width: 100%;
      height: 7em;
      display: block;
      background-image: url(https://ziglang.org/img/zig-logo-dark.svg);
      background-repeat: no-repeat;
    }

    #stage2-progress-dark {
      display: none;
    }

    .diff-red {
      background-color: #ffaeae;
      display: block;
    }
    .diff-green {
      background-color: #bfb;
      display: block;
    }

    @media (prefers-color-scheme: dark) {
      body{
          background:#121212;
          color: #ccc;
      }
      a {
          color: #88f;
      }
      a:hover,a:focus {
          color: #000;
      }
      tr:nth-child(even) {
        background: #1e1e1e;
      }
      .t2_0 {
          color: grey;
      }
      .t31_1 {
          color: red;
      }
      .t32_1 {
          color: #00B800;
      }
      .t36_1 {
          color: #0086b3;
      }
      code {
        background: #222;
        border-color: #444;
      }
      pre > code {
          color: #ccc;
          background: #222;
          border: unset;
      }
      samp {
        background: #000;
        color: #ccc;
      }
      pre > samp {
        border: unset;
      }
      .tok-kw {
          color: #eee;
      }
      .tok-str {
          color: #2e5;
      }
      .tok-builtin {
          color: #ff894c;
      }
      .tok-comment {
          color: #aa7;
      }
      .tok-fn {
          color: #B1A0F8;
      }
      .tok-null {
          color: #ff8080;
      }
      .tok-number {
          color: #ff8080;
      }
      .tok-type {
          color: #68f;
      }
      h1 a, h2 a, h3 a, h4 a, h5 a {
          color: #aaa;
      }
      figcaption.zig-cap {
          background-color: #b27306;
          color: #000;
      }
      figcaption.peg-cap {
          background-color: #b27306;
          color: #000;
      }
      figcaption.shell-cap {
        background: #2a2a2a;
        color: #fff;
      }
      #logo {
        background-image: url(https://ziglang.org/img/zig-logo-light.svg);
      }
      #stage2-progress-dark {
        display: block;
      }
      #stage2-progress-light {
        display: none;
      }
      .diff-red {
        background-color: #410000;
      }
      .diff-green {
        background-color: #002d00;
      }
    }
  </style>
  </head>
  <body>
    <div id="contents">
    <a href="https://ziglang.org/"><span id="logo"></span></a>
    <h1>0.11.0 Release Notes</h1>
    <img alt="Zero the Ziguana" src="https://ziglang.org/img/Zero_1.svg" style="height: 18em; float: right">
    <p>
    <a href="https://ziglang.org/download/#release-0.11.0">Download &amp; Documentation</a>
    </p>
    <p>
    Zig is a general-purpose programming language and toolchain for maintaining
    <strong>robust</strong>, <strong>optimal</strong>, and <strong>reusable</strong> software.
    </p>
    <p>
    Backed by the <a href="/zsf/">Zig Software Foundation</a>,
    the project is <strong>financially sustainable</strong>. These core team members
    are paid for their time:
    </p>
    <ul style="columns: 3">
      <li><a href="https://andrewkelley.me/">Andrew Kelley</a></li>
      <li><a href="https://kristoff.it/">Loris Cro</a></li>
      <li><a href="http://www.jakubkonka.com/">Jakub Konka</a></li>
      <li><a href="https://vexu.eu/">Veikka Tuominen</a></li>
      <li><a href="https://github.com/jacobly0">Jacob Young</a></li>
    </ul>
    <p>
    Please consider a <a href="/zsf/">recurring donation to the ZSF</a>
    to help us pay more contributors!
    </p>
    <p>
    This release features <strong>8 months of work</strong>:
    changes from <strong>269 different contributors</strong>, spread among
    <strong>4457 commits</strong>. It is the dÃ©but of <a href="#Package-Management">Package Management</a>.</p>
    <h2 id="Table-of-Contents"><a href="#toc-Table-of-Contents">Table of Contents</a> <a class="hdr" href="#Table-of-Contents">Â§</a></h2>

    

    <ul>
        <li><a id="toc-Table-of-Contents" href="#Table-of-Contents">Table of Contents</a></li>
        <li><a id="toc-Support-Table" href="#Support-Table">Support Table</a>
        <ul>
            <li><a id="toc-Tier-System" href="#Tier-System">Tier System</a>
            <ul>
                <li><a id="toc-Tier-1-Support" href="#Tier-1-Support">Tier 1 Support</a></li>
                <li><a id="toc-Tier-2-Support" href="#Tier-2-Support">Tier 2 Support</a></li>
                <li><a id="toc-Tier-3-Support" href="#Tier-3-Support">Tier 3 Support</a></li>
                <li><a id="toc-Tier-4-Support" href="#Tier-4-Support">Tier 4 Support</a></li>
            </ul></li>
            <li><a id="toc-CPU-Architectures" href="#CPU-Architectures">CPU Architectures</a>
            <ul>
                <li><a id="toc-x86" href="#x86">x86</a></li>
                <li><a id="toc-ARM" href="#ARM">ARM</a></li>
                <li><a id="toc-WebAssembly" href="#WebAssembly">WebAssembly</a>
                <ul>
                    <li><a id="toc-WasmAllocator" href="#WasmAllocator">WasmAllocator</a></li>
                </ul></li>
                <li><a id="toc-SPARC" href="#SPARC">SPARC</a></li>
                <li><a id="toc-PowerPC" href="#PowerPC">PowerPC</a></li>
                <li><a id="toc-AVR" href="#AVR">AVR</a></li>
                <li><a id="toc-GPGPU" href="#GPGPU">GPGPU</a></li>
            </ul></li>
            <li><a id="toc-Operating-Systems" href="#Operating-Systems">Operating Systems</a>
            <ul>
                <li><a id="toc-Windows" href="#Windows">Windows</a>
                <ul>
                    <li><a id="toc-Resource-Files-res" href="#Resource-Files-res">Resource Files (.res)</a></li>
                    <li><a id="toc-Support-UNC-Rooted-Drive-Relative-and-NamespacedDevice-Paths" href="#Support-UNC-Rooted-Drive-Relative-and-NamespacedDevice-Paths">Support UNC, Rooted, Drive-Relative, and Namespaced/Device Paths</a></li>
                    <li><a id="toc-ARM64-Windows" href="#ARM64-Windows">ARM64 Windows</a></li>
                </ul></li>
                <li><a id="toc-Linux" href="#Linux">Linux</a></li>
                <li><a id="toc-macOS" href="#macOS">macOS</a></li>
                <li><a id="toc-FreeBSD" href="#FreeBSD">FreeBSD</a></li>
                <li><a id="toc-OpenBSD" href="#OpenBSD">OpenBSD</a></li>
                <li><a id="toc-NetBSD" href="#NetBSD">NetBSD</a></li>
                <li><a id="toc-WASI" href="#WASI">WASI</a></li>
                <li><a id="toc-UEFI" href="#UEFI">UEFI</a></li>
                <li><a id="toc-Plan9" href="#Plan9">Plan9</a></li>
            </ul></li>
        </ul></li>
        <li><a id="toc-Documentation" href="#Documentation">Documentation</a>
        <ul>
            <li><a id="toc-Language-Reference" href="#Language-Reference">Language Reference</a></li>
            <li><a id="toc-Autodoc" href="#Autodoc">Autodoc</a>
            <ul>
                <li><a id="toc-New-Search-System-15475" href="#New-Search-System-15475">New Search System (#15475)</a></li>
                <li><a id="toc-Other-Improvements" href="#Other-Improvements">Other Improvements</a></li>
            </ul></li>
        </ul></li>
        <li><a id="toc-Language-Changes" href="#Language-Changes">Language Changes</a>
        <ul>
            <li><a id="toc-Peer-Type-Resolution-Improvements" href="#Peer-Type-Resolution-Improvements">Peer Type Resolution Improvements</a></li>
            <li><a id="toc-Multi-Object-For-Loops" href="#Multi-Object-For-Loops">Multi-Object For Loops</a></li>
            <li><a id="toc-memcpy-and-memset" href="#memcpy-and-memset">@memcpy and @memset</a></li>
            <li><a id="toc-min-and-max" href="#min-and-max">@min and @max</a></li>
            <li><a id="toc-trap" href="#trap">@trap</a></li>
            <li><a id="toc-inComptime" href="#inComptime">@inComptime</a></li>
            <li><a id="toc-Split-qualCast-into-constCast-and-volatileCast" href="#Split-qualCast-into-constCast-and-volatileCast">Split @qualCast into @constCast and @volatileCast</a></li>
            <li><a id="toc-Rename-Casting-Builtins" href="#Rename-Casting-Builtins">Rename Casting Builtins</a></li>
            <li><a id="toc-Cast-Inference" href="#Cast-Inference">Cast Inference</a>
            <ul>
                <li><a id="toc-Pointer-Casts" href="#Pointer-Casts">Pointer Casts</a></li>
                <li><a id="toc-splat" href="#splat">@splat</a></li>
            </ul></li>
            <li><a id="toc-Tuple-Type-Declarations" href="#Tuple-Type-Declarations">Tuple Type Declarations</a></li>
            <li><a id="toc-Concatenation-of-Arrays-and-Tuples" href="#Concatenation-of-Arrays-and-Tuples">Concatenation of Arrays and Tuples</a></li>
            <li><a id="toc-Allow-Indexing-Tuple-and-Vector-Pointers" href="#Allow-Indexing-Tuple-and-Vector-Pointers">Allow Indexing Tuple and Vector Pointers</a></li>
            <li><a id="toc-Overflow-Builtins-Return-Tuples" href="#Overflow-Builtins-Return-Tuples">Overflow Builtins Return Tuples</a></li>
            <li><a id="toc-Slicing-By-Length" href="#Slicing-By-Length">Slicing By Length</a></li>
            <li><a id="toc-Inline-Function-Call-Comptime-Propagation" href="#Inline-Function-Call-Comptime-Propagation">Inline Function Call Comptime Propagation</a></li>
            <li><a id="toc-Exporting-C-Variadic-Functions" href="#Exporting-C-Variadic-Functions">Exporting C Variadic Functions</a></li>
            <li><a id="toc-Added-c_char-Type" href="#Added-c_char-Type">Added c_char Type</a></li>
            <li><a id="toc-Forbid-Runtime-Operations-in-comptime-Blocks-" href="#Forbid-Runtime-Operations-in-comptime-Blocks-">Forbid Runtime Operations in comptime Blocks </a></li>
            <li><a id="toc-intFromBool-always-returns-u1" href="#intFromBool-always-returns-u1">@intFromBool always returns u1</a></li>
            <li><a id="toc-fieldParentPtr-Supports-Unions" href="#fieldParentPtr-Supports-Unions">@fieldParentPtr Supports Unions</a></li>
            <li><a id="toc-typeInfo-No-Longer-Returns-Private-Declarations" href="#typeInfo-No-Longer-Returns-Private-Declarations">@typeInfo No Longer Returns Private Declarations</a></li>
            <li><a id="toc-Zero-Sized-Fields-Allowed-in-Extern-Structs" href="#Zero-Sized-Fields-Allowed-in-Extern-Structs">Zero-Sized Fields Allowed in Extern Structs</a></li>
            <li><a id="toc-Eliminate-Bound-Functions" href="#Eliminate-Bound-Functions">Eliminate Bound Functions</a></li>
            <li><a id="toc-call-Stack" href="#call-Stack">@call Stack</a></li>
            <li><a id="toc-Allow-Tautological-Integer-Comparisons" href="#Allow-Tautological-Integer-Comparisons">Allow Tautological Integer Comparisons</a></li>
            <li><a id="toc-Forbid-Source-Files-Being-Part-of-Multiple-Modules" href="#Forbid-Source-Files-Being-Part-of-Multiple-Modules">Forbid Source Files Being Part of Multiple Modules</a></li>
            <li><a id="toc-Single-Item-Array-Pointers-Gain-ptr-Field" href="#Single-Item-Array-Pointers-Gain-ptr-Field">Single-Item Array Pointers Gain .ptr Field</a></li>
            <li><a id="toc-Allow-Method-Call-Syntax-on-Optional-Pointers" href="#Allow-Method-Call-Syntax-on-Optional-Pointers">Allow Method Call Syntax on Optional Pointers</a></li>
            <li><a id="toc-comptime-Function-Calls-No-Longer-Cause-Runtime-Analysis" href="#comptime-Function-Calls-No-Longer-Cause-Runtime-Analysis">comptime Function Calls No Longer Cause Runtime Analysis</a></li>
            <li><a id="toc-Multi-Item-Switch-Prong-Type-Coercion" href="#Multi-Item-Switch-Prong-Type-Coercion">Multi-Item Switch Prong Type Coercion</a></li>
            <li><a id="toc-Allow-Functions-to-Return-null-and-undefined" href="#Allow-Functions-to-Return-null-and-undefined">Allow Functions to Return null and undefined</a></li>
            <li><a id="toc-Generic-Function-Calls" href="#Generic-Function-Calls">Generic Function Calls</a></li>
            <li><a id="toc-Naked-Functions" href="#Naked-Functions">Naked Functions</a></li>
        </ul></li>
        <li><a id="toc-Standard-Library" href="#Standard-Library">Standard Library</a>
        <ul>
            <li><a id="toc-Compile-Time-Configuration-Consolidated" href="#Compile-Time-Configuration-Consolidated">Compile-Time Configuration Consolidated</a></li>
            <li><a id="toc-Memory-Allocation" href="#Memory-Allocation">Memory Allocation</a>
            <ul>
                <li><a id="toc-Allow-Shrink-To-Fail" href="#Allow-Shrink-To-Fail">Allow Shrink To Fail</a></li>
            </ul></li>
            <li><a id="toc-Strings" href="#Strings">Strings</a>
            <ul>
                <li><a id="toc-Restrict-memspan-and-memlen-to-Sentinel-Terminated-Pointers" href="#Restrict-memspan-and-memlen-to-Sentinel-Terminated-Pointers">Restrict mem.span and mem.len to Sentinel-Terminated Pointers</a></li>
            </ul></li>
            <li><a id="toc-Math" href="#Math">Math</a></li>
            <li><a id="toc-File-System" href="#File-System">File System</a></li>
            <li><a id="toc-Data-Structures" href="#Data-Structures">Data Structures</a></li>
            <li><a id="toc-Sorting" href="#Sorting">Sorting</a></li>
            <li><a id="toc-Compression" href="#Compression">Compression</a></li>
            <li><a id="toc-Crypto" href="#Crypto">Crypto</a>
            <ul>
                <li><a id="toc-New-Features" href="#New-Features">New Features</a></li>
                <li><a id="toc-Breaking-Changes" href="#Breaking-Changes">Breaking Changes</a></li>
                <li><a id="toc-Keccak" href="#Keccak">Keccak</a></li>
                <li><a id="toc-Kyber" href="#Kyber">Kyber</a></li>
                <li><a id="toc-Constant-Time-Allocation-Free-Field-Arithmetic" href="#Constant-Time-Allocation-Free-Field-Arithmetic">Constant-Time, Allocation-Free Field Arithmetic</a></li>
                <li><a id="toc-Configurable-Side-Channels-Mitigations" href="#Configurable-Side-Channels-Mitigations">Configurable Side Channels Mitigations</a></li>
                <li><a id="toc-Hello-Ascon-Farewell-to-Gimli-and-Xoodoo" href="#Hello-Ascon-Farewell-to-Gimli-and-Xoodoo">Hello Ascon; Farewell to Gimli and Xoodoo</a></li>
                <li><a id="toc-stdcrypto-Bug-Fixes" href="#stdcrypto-Bug-Fixes">std.crypto Bug Fixes</a></li>
                <li><a id="toc-Performance-Improvements" href="#Performance-Improvements">Performance Improvements</a></li>
            </ul></li>
            <li><a id="toc-Concurrency" href="#Concurrency">Concurrency</a></li>
            <li><a id="toc-Networking" href="#Networking">Networking</a>
            <ul>
                <li><a id="toc-TLS-Client" href="#TLS-Client">TLS Client</a></li>
                <li><a id="toc-HTTP-Client" href="#HTTP-Client">HTTP Client</a></li>
                <li><a id="toc-Ignore-SIGPIPE-by-Default" href="#Ignore-SIGPIPE-by-Default">Ignore SIGPIPE by Default</a></li>
            </ul></li>
            <li><a id="toc-Testing" href="#Testing">Testing</a></li>
            <li><a id="toc-Debugging" href="#Debugging">Debugging</a>
            <ul>
                <li><a id="toc-Stack-Unwinding" href="#Stack-Unwinding">Stack Unwinding</a></li>
                <li><a id="toc-External-Debug-Info" href="#External-Debug-Info">External Debug Info</a></li>
            </ul></li>
            <li><a id="toc-Formatted-Printing" href="#Formatted-Printing">Formatted Printing</a></li>
            <li><a id="toc-JSON" href="#JSON">JSON</a>
            <ul>
                <li><a id="toc-codeparsecode-replaced-by-codeparseFromSlicecode-or-other-codeparseFromcode" href="#codeparsecode-replaced-by-codeparseFromSlicecode-or-other-codeparseFromcode"><code>parse</code> replaced by <code>parseFromSlice</code> or other <code>parseFrom*</code></a>
                <ul>
                    <li><a id="toc-codeparseFreecode-replaced-by-codeParsedTdeinitcode" href="#codeparseFreecode-replaced-by-codeParsedTdeinitcode"><code>parseFree</code> replaced by <code>Parsed(T).deinit()</code></a></li>
                </ul></li>
                <li><a id="toc-codeParserparsecode-replaced-by-codeparseFromSlicecode-into-codeValuecode" href="#codeParserparsecode-replaced-by-codeparseFromSlicecode-into-codeValuecode"><code>Parser.parse</code> replaced by <code>parseFromSlice</code> into <code>Value</code></a>
                <ul>
                    <li><a id="toc-codeValueTreecode-replaced-by-codeParsedValuecode" href="#codeValueTreecode-replaced-by-codeParsedValuecode"><code>ValueTree</code> replaced by <code>Parsed(Value)</code></a></li>
                </ul></li>
                <li><a id="toc-codewriteStreamcode-API-simplification" href="#codewriteStreamcode-API-simplification"><code>writeStream</code> API simplification</a>
                <ul>
                    <li><a id="toc-Custom-codejsonStringifycode-signature-changed" href="#Custom-codejsonStringifycode-signature-changed">Custom <code>jsonStringify</code> signature changed</a></li>
                    <li><a id="toc-codestringifycode-limits-nesting-to-256-by-default" href="#codestringifycode-limits-nesting-to-256-by-default"><code>stringify</code> limits nesting to 256 by default</a></li>
                </ul></li>
                <li><a id="toc-codeStringifyOptionscode-overhauled" href="#codeStringifyOptionscode-overhauled"><code>StringifyOptions</code> overhauled</a></li>
                <li><a id="toc-codeTokenStreamcode-replaced-by-codeScannercode" href="#codeTokenStreamcode-replaced-by-codeScannercode"><code>TokenStream</code> replaced by <code>Scanner</code></a></li>
                <li><a id="toc-codeStreamingParsercode-replaced-by-codeReadercode" href="#codeStreamingParsercode-replaced-by-codeReadercode"><code>StreamingParser</code> replaced by <code>Reader</code></a></li>
                <li><a id="toc-parsestringify-for-codeunioncode-types" href="#parsestringify-for-codeunioncode-types">parse/stringify for <code>union</code> types</a></li>
                <li><a id="toc-An-allocator-is-always-required-for-parsing-now" href="#An-allocator-is-always-required-for-parsing-now">An allocator is always required for parsing now</a></li>
            </ul></li>
            <li><a id="toc-posix_spawn-Considered-Harmful" href="#posix_spawn-Considered-Harmful">posix_spawn Considered Harmful</a></li>
        </ul></li>
        <li><a id="toc-Build-System" href="#Build-System">Build System</a>
        <ul>
            <li><a id="toc-Share-the-Compilers-Cache-System" href="#Share-the-Compilers-Cache-System">Share the Compiler's Cache System</a></li>
            <li><a id="toc-Steps-Run-In-Parallel" href="#Steps-Run-In-Parallel">Steps Run In Parallel</a></li>
            <li><a id="toc-Embrace-LazyPath-for-Inputs-and-Outputs" href="#Embrace-LazyPath-for-Inputs-and-Outputs">Embrace LazyPath for Inputs and Outputs</a></li>
            <li><a id="toc-Build-Summary" href="#Build-Summary">Build Summary</a></li>
            <li><a id="toc-System-Resource-Awareness" href="#System-Resource-Awareness">System Resource Awareness</a></li>
            <li><a id="toc-Foreign-Target-Execution-and-Testing" href="#Foreign-Target-Execution-and-Testing">Foreign Target Execution and Testing</a></li>
            <li><a id="toc-Package-Management" href="#Package-Management">Package Management</a></li>
            <li><a id="toc-Configuration-File-Generation" href="#Configuration-File-Generation">Configuration File Generation</a></li>
            <li><a id="toc-Run-Step-Enhancements" href="#Run-Step-Enhancements">Run Step Enhancements</a></li>
        </ul></li>
        <li><a id="toc-Compiler" href="#Compiler">Compiler</a>
        <ul>
            <li><a id="toc-Performance" href="#Performance">Performance</a></li>
            <li><a id="toc-Bootstrapping" href="#Bootstrapping">Bootstrapping</a></li>
            <li><a id="toc-Reproducible-Builds" href="#Reproducible-Builds">Reproducible Builds</a></li>
            <li><a id="toc-C-ABI-Compatibility" href="#C-ABI-Compatibility">C ABI Compatibility</a></li>
            <li><a id="toc-C-Translation" href="#C-Translation">C Translation</a></li>
            <li><a id="toc-Cache-System" href="#Cache-System">Cache System</a></li>
            <li><a id="toc-Code-Generation" href="#Code-Generation">Code Generation</a>
            <ul>
                <li><a id="toc-LLVM-Backend" href="#LLVM-Backend">LLVM Backend</a></li>
                <li><a id="toc-C-Backend" href="#C-Backend">C Backend</a></li>
                <li><a id="toc-x86-Backend" href="#x86-Backend">x86 Backend</a></li>
                <li><a id="toc-WebAssembly-Backend" href="#WebAssembly-Backend">WebAssembly Backend</a></li>
                <li><a id="toc-SPIR-V-Backend" href="#SPIR-V-Backend">SPIR-V Backend</a></li>
                <li><a id="toc-aarch64-Backend" href="#aarch64-Backend">aarch64 Backend</a></li>
            </ul></li>
            <li><a id="toc-Error-Return-Tracing" href="#Error-Return-Tracing">Error Return Tracing</a></li>
            <li><a id="toc-Safety-Checks" href="#Safety-Checks">Safety Checks</a></li>
            <li><a id="toc-Struct-Field-Order" href="#Struct-Field-Order">Struct Field Order</a></li>
            <li><a id="toc-Incremental-Compilation" href="#Incremental-Compilation">Incremental Compilation</a></li>
            <li><a id="toc-New-Module-CLI" href="#New-Module-CLI">New Module CLI</a></li>
        </ul></li>
        <li><a id="toc-Linker" href="#Linker">Linker</a>
        <ul>
            <li><a id="toc-MachO" href="#MachO">MachO</a></li>
            <li><a id="toc-COFF" href="#COFF">COFF</a></li>
            <li><a id="toc-ELF" href="#ELF">ELF</a></li>
            <li><a id="toc-WASM-Modules" href="#WASM-Modules">WASM Modules</a></li>
            <li><a id="toc-DWARF" href="#DWARF">DWARF</a></li>
            <li><a id="toc-Move-Library-Path-Resolution-to-the-Frontend" href="#Move-Library-Path-Resolution-to-the-Frontend">Move Library Path Resolution to the Frontend</a></li>
        </ul></li>
        <li><a id="toc-Bug-Fixes" href="#Bug-Fixes">Bug Fixes</a>
        <ul>
            <li><a id="toc-This-Release-Contains-Bugs" href="#This-Release-Contains-Bugs">This Release Contains Bugs</a></li>
            <li><a id="toc-Bug-Stability-Program" href="#Bug-Stability-Program">Bug Stability Program</a></li>
        </ul></li>
        <li><a id="toc-Toolchain" href="#Toolchain">Toolchain</a>
        <ul>
            <li><a id="toc-LLVM-16" href="#LLVM-16">LLVM 16</a></li>
            <li><a id="toc-musl-124" href="#musl-124">musl 1.2.4</a></li>
            <li><a id="toc-glibc-234" href="#glibc-234">glibc 2.34</a></li>
            <li><a id="toc-mingw-w64-1101" href="#mingw-w64-1101">mingw-w64 11.0.1</a></li>
            <li><a id="toc-WASI-libc" href="#WASI-libc">WASI-libc</a></li>
            <li><a id="toc-compiler-rt" href="#compiler-rt">compiler-rt</a>
            <ul>
                <li><a id="toc-Bundling-Into-Object-Files" href="#Bundling-Into-Object-Files">Bundling Into Object Files</a></li>
            </ul></li>
            <li><a id="toc-zig-cc" href="#zig-cc">zig cc</a>
            <ul>
                <li><a id="toc-Fail-Hard-on-Unsupported-Linker-Flags" href="#Fail-Hard-on-Unsupported-Linker-Flags">Fail Hard on Unsupported Linker Flags</a></li>
            </ul></li>
            <li><a id="toc-zig-c" href="#zig-c">zig c++</a></li>
            <li><a id="toc-zig-fmt" href="#zig-fmt">zig fmt</a>
            <ul>
                <li><a id="toc-Canonicalization-of-Identifiers" href="#Canonicalization-of-Identifiers">Canonicalization of Identifiers</a></li>
            </ul></li>
            <li><a id="toc-zig-objcopy" href="#zig-objcopy">zig objcopy</a></li>
        </ul></li>
        <li><a id="toc-Roadmap" href="#Roadmap">Roadmap</a>
        <ul>
            <li><a id="toc-Accepted-Proposals" href="#Accepted-Proposals">Accepted Proposals</a></li>
        </ul></li>
        <li><a id="toc-Thank-You-Contributors" href="#Thank-You-Contributors">Thank You Contributors!</a></li>
        <li><a id="toc-Thank-You-Sponsors" href="#Thank-You-Sponsors">Thank You Sponsors!</a></li>
    </ul>

    

    <h2 id="Support-Table"><a href="#toc-Support-Table">Support Table</a> <a class="hdr" href="#Support-Table">Â§</a></h2>

    <h3 id="Tier-System"><a href="#toc-Tier-System">Tier System</a> <a class="hdr" href="#Tier-System">Â§</a></h3>

    <p>
    A green check mark (âœ…) indicates the target meets all the requirements for the
    support tier. The other icons indicate what is <em>preventing the target from
      reaching the support tier</em>. In other words, the icons are
    <strong>to-do items</strong>. If you find any wrong data here please
    <a href="https://github.com/ziglang/www.ziglang.org">submit a pull request</a>!
    </p>
    <h4 id="Tier-1-Support"><a href="#toc-Tier-1-Support">Tier 1 Support</a> <a class="hdr" href="#Tier-1-Support">Â§</a></h4>

    <ul>
      <li>Not only can Zig generate machine code for these targets, but the
        <a href="#Standard-Library">Standard Library</a> cross-platform abstractions have implementations
        for these targets.</li>
      <li>The CI server automatically tests these targets on every commit to master
        branch. The ğŸ§ª icon means this target does not yet have CI test coverage.</li>
      <li>The CI server automatically produces pre-built binaries for these targets,
        on every commit to master, and updates
        <a href="https://ziglang.org/download/">the download page</a> with links.
        The ğŸ“¦ icon means the download page is missing this target.
      </li>
      <li>These targets have <a href="#Debugging">debug info capabilities</a> and therefore
        produce stack traces on failed assertions.</li>
      <li>libc is available for this target even when cross compiling.</li>
      <li>All the behavior tests and applicable standard library tests pass for this target.
          All language features are known to work correctly. Experimental features do not
          count towards disqualifying an operating system or architecture from Tier 1.
          The ğŸ› icon means there are known <a href="#This-Release-Contains-Bugs">bugs</a> preventing
          this target from reaching Tier 1.
      </li>
      <li><a href="#zig-cc">zig cc</a>, <a href="#zig-c">zig c++</a>, and related toolchain commands support
        this target.</li>
      <li>If the Operating System is proprietary then the target is not marked deprecated
        by the vendor. The ğŸ’€ icon means the OS is officially deprecated,
        <a href="https://support.apple.com/en-us/HT208436">such as macos/x86</a>.</li>
    </ul>
    <table>
    <thead>
    <tr>
    <th></th>
    <th>freestanding</th>
    <th>Linux 3.16+</th>
    <th>macOS 11+</th>
    <th>Windows 10+</th>
    <th>WASI</th>
    </tr>
    </thead>
    <tbody>
    <tr>
    <td>x86_64</td>
    <td>âœ…</td>
    <td>âœ…</td>
    <td>âœ…</td>
    <td>âœ…</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>x86</td>
    <td>âœ…</td>
    <td><a href="https://github.com/ziglang/zig/issues/1929">#1929</a> ğŸ›</td>
    <td>ğŸ’€</td>
    <td><a href="https://github.com/ziglang/zig/issues/537">#537</a> ğŸ›</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>aarch64</td>
    <td>âœ…</td>
    <td><a href="https://github.com/ziglang/zig/issues/2443">#2443</a> ğŸ›</td>
    <td>âœ…</td>
    <td><a href="https://github.com/ziglang/zig/issues/16665">#16665</a> ğŸ›</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>arm</td>
    <td>âœ…</td>
    <td><a href="https://github.com/ziglang/zig/issues/3174">#3174</a> ğŸ›</td>
    <td>ğŸ’€</td>
    <td>ğŸ›ğŸ“¦ğŸ§ª</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>mips</td>
    <td>âœ…</td>
    <td><a href="https://github.com/ziglang/zig/issues/3345">#3345</a> ğŸ›ğŸ“¦</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>riscv64</td>
    <td>âœ…</td>
    <td><a href="https://github.com/ziglang/zig/issues/4456">#4456</a> ğŸ›</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>sparc64</td>
    <td>âœ…</td>
    <td><a href="https://github.com/ziglang/zig/issues/4931">#4931</a> ğŸ›ğŸ“¦ğŸ§ª</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>powerpc64</td>
    <td>âœ…</td>
    <td>ğŸ›</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>powerpc</td>
    <td>âœ…</td>
    <td>ğŸ›</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>wasm32</td>
    <td>âœ…</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>âœ…</td>
    </tr>
    </tbody>
    </table>
    

    <h4 id="Tier-2-Support"><a href="#toc-Tier-2-Support">Tier 2 Support</a> <a class="hdr" href="#Tier-2-Support">Â§</a></h4>

    <ul>
    <li>The <a href="#Standard-Library">Standard Library</a> supports this target, but it is possible that some
      APIs will give an "Unsupported OS" compile error. One can link with libc or other
      libraries to fill in the gaps in the standard library. The ğŸ“– icon means the
      standard library is too incomplete to be considered Tier 2 worthy.</li>
    <li>These targets are known to work, but may not be automatically tested, so there
      are occasional regressions. ğŸ” means that nobody has really looked into this target
      so whether or not it works is unknown.</li>
    <li>Some tests may be disabled for these targets as we work toward
      <a href="#Tier-1-Support">Tier 1 Support</a>.</li>
    </ul>
    <table>
    <thead>
    <tr>
    <th></th>
    <th>free standing</th>
    <th>Linux 3.16+</th>
    <th>macOS 11+</th>
    <th>Windows 10+</th>
    <th>FreeBSD 12.0+</th>
    <th>NetBSD 8.0+</th>
    <th>Dragon FlyBSD 5.8+</th>
    <th>OpenBSD 7.3+</th>
    <th>UEFI</th>
    </tr>
    </thead>
    <tbody>
    <tr>
    <td>x86_64</td>
    <td><a href="#Tier-1-Support">Tier 1</a></td>
    <td><a href="#Tier-1-Support">Tier 1</a></td>
    <td><a href="#Tier-1-Support">Tier 1</a></td>
    <td><a href="#Tier-1-Support">Tier 1</a></td>
    <td>âœ…</td>
    <td>âœ…</td>
    <td>âœ…</td>
    <td>âœ…</td>
    <td>âœ…</td>
    </tr>
    <tr>
    <td>x86</td>
    <td><a href="#Tier-1-Support">Tier 1</a></td>
    <td>âœ…</td>
    <td>ğŸ’€</td>
    <td>âœ…</td>
    <td>ğŸ”</td>
    <td>ğŸ”</td>
    <td>N/A</td>
    <td>ğŸ”</td>
    <td>âœ…</td>
    </tr>
    <tr>
    <td>aarch64</td>
    <td><a href="#Tier-1-Support">Tier 1</a></td>
    <td>âœ…</td>
    <td><a href="#Tier-1-Support">Tier 1</a></td>
    <td>âœ…</td>
    <td>ğŸ”</td>
    <td>ğŸ”</td>
    <td>N/A</td>
    <td>ğŸ”</td>
    <td>ğŸ”</td>
    </tr>
    <tr>
    <td>arm</td>
    <td><a href="#Tier-1-Support">Tier 1</a></td>
    <td>âœ…</td>
    <td>ğŸ’€</td>
    <td>ğŸ”</td>
    <td>ğŸ”</td>
    <td>ğŸ”</td>
    <td>N/A</td>
    <td>ğŸ”</td>
    <td>ğŸ”</td>
    </tr>
    <tr>
    <td>mips64</td>
    <td>âœ…</td>
    <td>âœ…</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>ğŸ”</td>
    <td>ğŸ”</td>
    <td>N/A</td>
    <td>ğŸ”</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>mips</td>
    <td><a href="#Tier-1-Support">Tier 1</a></td>
    <td>âœ…</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>ğŸ”</td>
    <td>ğŸ”</td>
    <td>N/A</td>
    <td>ğŸ”</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>powerpc64</td>
    <td><a href="#Tier-1-Support">Tier 1</a></td>
    <td>âœ…</td>
    <td>ğŸ’€</td>
    <td>N/A</td>
    <td>ğŸ”</td>
    <td>ğŸ”</td>
    <td>N/A</td>
    <td>ğŸ”</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>powerpc</td>
    <td><a href="#Tier-1-Support">Tier 1</a></td>
    <td>âœ…</td>
    <td>ğŸ’€</td>
    <td>N/A</td>
    <td>ğŸ”</td>
    <td>ğŸ”</td>
    <td>N/A</td>
    <td>ğŸ”</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>riscv64</td>
    <td><a href="#Tier-1-Support">Tier 1</a></td>
    <td>âœ…</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>ğŸ”</td>
    <td>ğŸ”</td>
    <td>N/A</td>
    <td>ğŸ”</td>
    <td>ğŸ”</td>
    </tr>
    <tr>
    <td>sparc64</td>
    <td><a href="#Tier-1-Support">Tier 1</a></td>
    <td>âœ…</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>ğŸ”</td>
    <td>ğŸ”</td>
    <td>N/A</td>
    <td>ğŸ”</td>
    <td>N/A</td>
    </tr>
    </tbody>
    </table>
    

    <h4 id="Tier-3-Support"><a href="#toc-Tier-3-Support">Tier 3 Support</a> <a class="hdr" href="#Tier-3-Support">Â§</a></h4>

    <ul>
    <li>The standard library has little to no knowledge of the existence of this
        target.</li>
    <li>If this target is provided by LLVM, LLVM has the target enabled by default.</li>
    <li>These targets are not frequently tested; one will likely need to contribute
      to Zig in order to build for these targets.</li>
    <li>The Zig compiler might need to be updated with a few things such as<ul>
       <li>what sizes are the C integer types</li>
       <li>C ABI calling convention for this target</li>
       <li>start code and default panic handler</li>
      </ul></li>
     <li><code>zig targets</code> is guaranteed to include this target.</li>
    </ul>
    <table>
      <thead>
        <tr>
          <th></th>
          <th>freestanding</th>
          <th>Linux 3.16+</th>
          <th>Windows 10+</th>
          <th>FreeBSD 12.0+</th>
          <th>NetBSD 8.0+</th>
          <th>UEFI</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>x86_64</td>
          <td><a href="#Tier-1-Support">Tier 1</a></td>
          <td><a href="#Tier-1-Support">Tier 1</a></td>
          <td><a href="#Tier-1-Support">Tier 1</a></td>
          <td><a href="#Tier-2-Support">Tier 2</a></td>
          <td><a href="#Tier-2-Support">Tier 2</a></td>
          <td><a href="#Tier-2-Support">Tier 2</a></td>
        </tr>
        <tr>
          <td>x86</td>
          <td><a href="#Tier-1-Support">Tier 1</a></td>
          <td><a href="#Tier-2-Support">Tier 2</a></td>
          <td><a href="#Tier-2-Support">Tier 2</a></td>
          <td>âœ…</td>
          <td>âœ…</td>
          <td><a href="#Tier-2-Support">Tier 2</a></td>
        </tr>
        <tr>
          <td>aarch64</td>
          <td><a href="#Tier-1-Support">Tier 1</a></td>
          <td><a href="#Tier-2-Support">Tier 2</a></td>
          <td>âœ…</td>
          <td>âœ…</td>
          <td>âœ…</td>
          <td>âœ…</td>
        </tr>
        <tr>
          <td>arm</td>
          <td><a href="#Tier-1-Support">Tier 1</a></td>
          <td><a href="#Tier-2-Support">Tier 2</a></td>
          <td>âœ…</td>
          <td>âœ…</td>
          <td>âœ…</td>
          <td>âœ…</td>
        </tr>
        <tr>
          <td>mips64</td>
          <td><a href="#Tier-2-Support">Tier 2</a></td>
          <td><a href="#Tier-2-Support">Tier 2</a></td>
          <td>N/A</td>
          <td>âœ…</td>
          <td>âœ…</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>mips</td>
          <td><a href="#Tier-1-Support">Tier 1</a></td>
          <td><a href="#Tier-2-Support">Tier 2</a></td>
          <td>N/A</td>
          <td>âœ…</td>
          <td>âœ…</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>riscv64</td>
          <td><a href="#Tier-1-Support">Tier 1</a></td>
          <td><a href="#Tier-2-Support">Tier 2</a></td>
          <td>N/A</td>
          <td>âœ…</td>
          <td>âœ…</td>
          <td>âœ…</td>
        </tr>
        <tr>
          <td>powerpc32</td>
          <td><a href="#Tier-2-Support">Tier 2</a></td>
          <td><a href="#Tier-2-Support">Tier 2</a></td>
          <td>N/A</td>
          <td>âœ…</td>
          <td>âœ…</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>powerpc64</td>
          <td><a href="#Tier-2-Support">Tier 2</a></td>
          <td><a href="#Tier-2-Support">Tier 2</a></td>
          <td>N/A</td>
          <td>âœ…</td>
          <td>âœ…</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>bpf</td>
          <td>âœ…</td>
          <td>âœ…</td>
          <td>N/A</td>
          <td>âœ…</td>
          <td>âœ…</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>hexagon</td>
          <td>âœ…</td>
          <td>âœ…</td>
          <td>N/A</td>
          <td>âœ…</td>
          <td>âœ…</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>amdgcn</td>
          <td>âœ…</td>
          <td>âœ…</td>
          <td>N/A</td>
          <td>âœ…</td>
          <td>âœ…</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>sparc</td>
          <td>âœ…</td>
          <td>âœ…</td>
          <td>N/A</td>
          <td>âœ…</td>
          <td>âœ…</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>s390x</td>
          <td>âœ…</td>
          <td>âœ…</td>
          <td>N/A</td>
          <td>âœ…</td>
          <td>âœ…</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>lanai</td>
          <td>âœ…</td>
          <td>âœ…</td>
          <td>N/A</td>
          <td>âœ…</td>
          <td>âœ…</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>csky</td>
          <td>âœ…</td>
          <td>âœ…</td>
          <td>N/A</td>
          <td>âœ…</td>
          <td>âœ…</td>
          <td>N/A</td>
        </tr>
      </tbody>
    </table>
    <table>
      <thead>
        <tr>
          <th></th>
          <th>freestanding</th>
          <th>emscripten</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>wasm32</td>
          <td><a href="#Tier-1-Support">Tier 1</a></td>
          <td>âœ…</td>
        </tr>
      </tbody>
    </table>
    

    <h4 id="Tier-4-Support"><a href="#toc-Tier-4-Support">Tier 4 Support</a> <a class="hdr" href="#Tier-4-Support">Â§</a></h4>

    <ul>
      <li>Support for these targets is entirely experimental.</li>
      <li>If this target is provided by LLVM, LLVM may have the target as an
        experimental target, which means that you need to use Zig-provided binaries
        for the target to be available, or build LLVM from source with special configure flags.
        <code>zig targets</code> will display the target if it is available.</li>
      <li>This target may be considered deprecated by an official party, in
        which case this target will remain forever stuck in Tier 4.</li>
      <li>This target may only support <code>-femit-asm</code> and cannot emit
        object files, in which case <code>-fno-emit-bin</code> is enabled by
        default and cannot be overridden.</li>
    </ul>
    <p>Tier 4 targets:</p>
    <ul style="columns: 3">
      <li>avr</li>
      <li>riscv32</li>
      <li>xcore</li>
      <li>nvptx</li>
      <li>msp430</li>
      <li>r600</li>
      <li>arc</li>
      <li>tce</li>
      <li>le</li>
      <li>amdil</li>
      <li>hsail</li>
      <li>spir</li>
      <li>kalimba</li>
      <li>shave</li>
      <li>renderscript</li>
      <li>32-bit x86 macOS, 32-bit ARM macOS, powerpc32 and powerpc64 macOS, because
        <a href="https://support.apple.com/en-us/HT208436">Apple has officially dropped support for them</a>.</li>
    </ul>
    
    

    <h3 id="CPU-Architectures"><a href="#toc-CPU-Architectures">CPU Architectures</a> <a class="hdr" href="#CPU-Architectures">Â§</a></h3>

    <h4 id="x86"><a href="#toc-x86">x86</a> <a class="hdr" href="#x86">Â§</a></h4>

    <p>The baseline value used for "i386" was a pentium4 CPU model,
    which is actually i686. It is also possible to target a more bare bones
    CPU than pentium4. Therefore it is more correct to use "x86" rather than
    "i386" for this CPU architecture. This architecture has been renamed in
    the CLI and <a href="#Standard-Library">Standard Library</a> APIs (#4663).</p>
    

    <h4 id="ARM"><a href="#toc-ARM">ARM</a> <a class="hdr" href="#ARM">Â§</a></h4>

    <p>Removed the always-single-threaded limitation for libc++ (#6573).</p>
    <p>Fixed <a href="#Bootstrapping">Bootstrapping</a> on this host.</p>
    <p>Development builds of Zig are now available on the
      <a href="/download">download page</a> with every successful CI run.</p>
    

    <h4 id="WebAssembly"><a href="#toc-WebAssembly">WebAssembly</a> <a class="hdr" href="#WebAssembly">Â§</a></h4>

    <p><a href="https://github.com/Luukdegram">Luuk de Gram</a> writes:</p>
<p>Starting from this release, Zig no longer unconditionally passes
<code>--allow-undefined</code> to the <a href="#Linker">Linker</a>. By removing this flag, the user
will now be faced with an error during the linking stage rather than a panic
during runtime for undefined functions. If your project requires such
behavior, the flag <code>import-symbols</code> can be used which will allow
undefined symbols during linking.</p>
<p>For this change we also had to update the
strategy of exporting all symbols to the host. We no longer unconditionally
export all symbols to the host. Previously this would result in unwanted
symbols existing in the final binary. By default we now only export the symbol
to the linker, meaning they will only be visible to other object files so they
can be resolved correctly. If you wish to export a symbol to the host
environment, the flag <code>--export=[name]</code> can be used. Alternatively,
the flag <code>-rdynamic</code> can be used to export all visible symbols to
the host environment. By setting the <code>visibilibity</code> field to
<code>.hidden</code> on <code>std.builtin.ExportOptions</code> a symbol will
remain only visible to the linker and not be exported to the host. With this
breaking change, the linker will behave the same whether a user is using
<a href="#zig-cc">zig cc</a> or Clang directly.</p>
    <h5 id="WasmAllocator"><a href="#toc-WasmAllocator">WasmAllocator</a> <a class="hdr" href="#WasmAllocator">Â§</a></h5>

    <p>The <a href="#Standard-Library">Standard Library</a> gained <code>std.heap.wasm_allocator</code>, a WebAssembly-only simple, fast, and small allocator (#13513). It is able to simultaneously achieve all three
    of these things thanks to the new <a href="#Memory-Allocation">Memory Allocation</a> API of Zig 0.11.0 which
    <a href="#Allow-Shrink-To-Fail">allows shrink to fail</a>.</p>
    <figure><figcaption class="zig-cap"><cite class="file">example.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">const</span> std = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;std&quot;</span>);</span>
<span class="line"><span class="tok-kw">export</span> <span class="tok-kw">fn</span> <span class="tok-fn">alloc</span>() ?*<span class="tok-type">i32</span> {</span>
<span class="line">    <span class="tok-kw">return</span> std.heap.wasm_allocator.create(<span class="tok-type">i32</span>) <span class="tok-kw">catch</span> <span class="tok-null">null</span>;</span>
<span class="line">}</span>
<span class="line"><span class="tok-kw">export</span> <span class="tok-kw">fn</span> <span class="tok-fn">free</span>(p: *<span class="tok-type">i32</span>) <span class="tok-type">void</span> {</span>
<span class="line">    std.heap.wasm_allocator.destroy(p);</span>
<span class="line">}</span></code></pre></figure>
    <p>Compiled with <code>-target wasm32-freestanding -OReleaseSmall</code>, this example
    produces a 1 KB wasm object file. It is used as the memory allocator when
    <a href="#Bootstrapping">Bootstrapping</a> Zig.</p>
    
    

    <h4 id="SPARC"><a href="#toc-SPARC">SPARC</a> <a class="hdr" href="#SPARC">Â§</a></h4>

    TODO
    

    <h4 id="PowerPC"><a href="#toc-PowerPC">PowerPC</a> <a class="hdr" href="#PowerPC">Â§</a></h4>

    TODO
    

    <h4 id="AVR"><a href="#toc-AVR">AVR</a> <a class="hdr" href="#AVR">Â§</a></h4>

    <p>AVR remains an experimental target, however, in this release cycle, the <a href="#Compiler">Compiler</a>
    implements AVR address spaces, and places functions on AVR in the flash address space.</p>
    

    <h4 id="GPGPU"><a href="#toc-GPGPU">GPGPU</a> <a class="hdr" href="#GPGPU">Â§</a></h4>

    <p><a href="https://github.com/Snektron/">Robin "Snektron" Voetter</a> writes:</p>
<p>Three new built-in functions are added to aid with writing GPGPU kernels in Zig: <code>@workGroupId</code>, <code>@workItemId</code>, and <code>@workGroupSize</code>. These are respectively used to query the index of the work group of the current thread in a kernel invocation, the size of a work group in threads, and the thread index in the current work group. For now, these are only wired up to work when compiling Zig to AMD GCN machine code via LLVM, that can be used with ROCm. In the future they will be added to the LLVM-based NVPTX and self-hosted SPIR-V backends as well.</p>
<p>For example, the following Zig GPU kernel performs a simple reduction on its inputs:</p>
<figure><figcaption class="zig-cap"><cite class="file">example.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">const</span> block_dim = <span class="tok-number">256</span>;</span>
<span class="line"><span class="tok-kw">var</span> shared: [block_dim]<span class="tok-type">f32</span> <span class="tok-kw">addrspace</span>(.shared) = <span class="tok-null">undefined</span>;</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">export</span> <span class="tok-kw">fn</span> <span class="tok-fn">reduce</span>(in: [*]<span class="tok-kw">addrspace</span>(.global) <span class="tok-type">f32</span>, out: [*]<span class="tok-kw">addrspace</span>(.global) <span class="tok-type">f32</span>) <span class="tok-kw">callconv</span>(.Kernel) <span class="tok-type">void</span> {</span>
<span class="line">    <span class="tok-kw">const</span> tid = <span class="tok-builtin">@workItemId</span>(<span class="tok-number">0</span>);</span>
<span class="line">    <span class="tok-kw">const</span> bid = <span class="tok-builtin">@workGroupId</span>(<span class="tok-number">0</span>);</span>
<span class="line">    shared[tid] = in[bid * block_dim + tid];</span>
<span class="line">    <span class="tok-kw">comptime</span> <span class="tok-kw">var</span> i: <span class="tok-type">usize</span> = <span class="tok-number">1</span>;</span>
<span class="line">    <span class="tok-kw">inline</span> <span class="tok-kw">while</span> (i &lt; block_dim) : (i *= <span class="tok-number">2</span>) {</span>
<span class="line">        <span class="tok-kw">if</span> (tid % (i * <span class="tok-number">2</span>) == <span class="tok-number">0</span>) shared[tid] += shared[tid + i];</span>
<span class="line">        <span class="tok-kw">asm</span> <span class="tok-kw">volatile</span> (<span class="tok-str">&quot;s_barrier&quot;</span>);</span>
<span class="line">    }</span>
<span class="line">    <span class="tok-kw">if</span> (tid == <span class="tok-number">0</span>) out[bid] = shared[<span class="tok-number">0</span>];</span>
<span class="line">}</span></code></pre></figure>

<p>This kernel can be compiled to a HIP module for use with ROCm using Zig and clang-offload-bundler:</p>
    <figure><figcaption class="shell-cap">Shell</figcaption><pre><samp>$ <kbd>zig build-obj -target amdgcn-amdhsa-none -mcpu=gfx1100 ./test.zig</kbd>
$ <kbd>clang-offload-bundler -type=o -bundle-align=4096 \
    -targets=host-x86_64-unknown-linux,hipv4-amdgcn-amd-amdhsa--gfx1100</kbd>
    -input=/dev/null -input=./test.o -output=module.co
</samp></pre></figure>

<p>The resulting module can be loaded directly using <code>hipModuleLoadData</code> and executed using <code>hipModuleLaunchKernel</code>.</p>
    
    

    <h3 id="Operating-Systems"><a href="#toc-Operating-Systems">Operating Systems</a> <a class="hdr" href="#Operating-Systems">Â§</a></h3>

    <h4 id="Windows"><a href="#toc-Windows">Windows</a> <a class="hdr" href="#Windows">Â§</a></h4>

    <p>
    The officially supported minimum version of Windows is now 10, because
    <a href="https://support.microsoft.com/en-us/help/13853/windows-lifecycle-fact-sheet">Microsoft dropped LTS support for 8.1 in January</a>.
    Patches to Zig supporting for older versions of Windows are still accepted into
    the codebase, but they are not regularly tested, not part of the
    part of <a href="#Bug-Stability-Program">Bug Stability Program</a>, and not covered by the <a href="#Tier-System">Tier System</a>.
    </p>
    <ul>
    <li>Fix _tls_index not being defined if libc wasn't linked, and fix x86 name mangling.</li>
    </ul>
commit 02b221051a180a252bb3a092b1cc054469c6fa15
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Fri Dec 9 14:58:16 2022 -0700

    fix aarch64-windows-gnu libc
    
    We were missing some math functions. After this enhancement I verified
    that I was able to cross-compile ninja.exe for aarch64-windows and
    produce a viable binary.

commit fc6d7d2799fa297a65e8bb0052e9e2c7bca5c645
Author: Jacob Young <jacobly0@users.noreply.github.com>
Date:   Sat Dec 10 03:44:25 2022 -0500

    CBE: fix compiling for aarch64-windows
    
    These bugs were triggered in the C backend by aarch64-specific code in
    os/windows.zig.  Intentionally not updating zig1.wasm yet because of
    upcoming changes and since aarch64-windows is not tested on master yet.

  <ul>
    <li>replace GetPhysicallyInstalledSystemMemory with ntdll (#15264).</li>
    <li>std.os.sendto: use ws2_32 on Windows (#9971).</li>
    <li>std.os.windows: add possible error NETNAME_DELETED of ReadFile (#13631)</li>
    <li>std: implement os.mprotect on Windows</li>
    <li>Implement root certificate scanning for the <a href="#TLS-Client">TLS Client</a> (#14229)</li>
    <li>debug info lookup improvements (#14247)</li>
    <li>std.debug.TTY: Fix colors not resetting on Windows</li>
    <li>std.os.windows.ReadLink: add missing alignment of local data buffer</li>
    <li>os: windows: fix unhandled error</li>
    <li>Detect ANSI support in more terminals (#16080).</li>
    <li>windows.sendto fix (#15831)</li>
    <li>std.c: fix return type of recv/recvfrom on windows</li>
    <li>debug: fix missing stack traces during crashes on windows</li>
    <li>debug: replace RtlCaptureStackBackTrace (which was spuriously failing) with a new implementation which uses RtlVirtualUnwind instead (#12740)</li>
    <li>windows.OpenFile/DeleteFile: Add NetworkNotFound as a possible error. When calling NtCreateFile with a UNC path, if either `\\server` or `\\server\share` are not found, then the statuses `BAD_NETWORK_PATH` or `BAD_NETWORK_NAME` are returned (respectively).</li>
    <li>Remove std.os.windows.QueryInformationFile (a wrapper of NtQueryInformationFile). This function was unused, and implementation contained a few footguns.</li>
    <li>std.process: Fix crash on some Windows machines</li>
    <li>std.os.windows.DeviceIoControl: Handle INVALID_DEVICE_REQUEST. This is possible when e.g. calling CreateSymbolicLink on a FAT32 filesystem</li>
    <li>child_process: Fix regression on Windows for FAT filesystems (#16374).</li>
    <li>DeleteFile: Use FileDispositionInformationEx if possible, but fallback if not (#16499).</li>
    <li>advapi32: Add RegCloseKey</li>
    <li><code>spawnWindows</code>: Improve worst-case performance considerably + tests (#13993)</li>
    <li><code>ChildProcess.spawnWindows</code>: <code>PATH</code> search fixes + optimizations (#13983)</li>
    <li>Fix GetFileInformationByHandle compile error (#14829)</li>
    <li>`std.coff`: check strtab lengths against `data` length. Fixes illegal behavior. Invalid-length sections are now skipped in `Coff.getSectionByName`.</li>
  </ul>

    <h5 id="Resource-Files-res"><a href="#toc-Resource-Files-res">Resource Files (.res)</a> <a class="hdr" href="#Resource-Files-res">Â§</a></h5>

commit b11170294052585ae81b9946d770f860d163da8f
Author: Ryan Liptak <squeek502@hotmail.com>
Date:   Sat Jun 24 15:22:56 2023 -0700

    Recognize the .res extension and link it as if it were an object file
    
    .res files are compiled Windows resource files that get linked into executables/libraries. The linker knows what to do with them, but previously you had to trick Zig into thinking it was an object file (by renaming it to have the .obj extension, for example).
    
    After this commit, the following works:
    
        zig build-exe main.zig resource.res
    
    or, in build.zig:
    
        exe.addObjectFile("resource.res");
    
    Closes #6488
    

    <h5 id="Support-UNC-Rooted-Drive-Relative-and-NamespacedDevice-Paths"><a href="#toc-Support-UNC-Rooted-Drive-Relative-and-NamespacedDevice-Paths">Support UNC, Rooted, Drive-Relative, and Namespaced/Device Paths</a> <a class="hdr" href="#Support-UNC-Rooted-Drive-Relative-and-NamespacedDevice-Paths">Â§</a></h5>

    TODO https://github.com/ziglang/zig/pull/15768
    

    <h5 id="ARM64-Windows"><a href="#toc-ARM64-Windows">ARM64 Windows</a> <a class="hdr" href="#ARM64-Windows">Â§</a></h5>

    <p>In this release, 64-bit ARM (aarch64) Windows becomes a <a href="#Tier-2-Support">Tier 2 Support</a> target.
    Zip files are available on <a href="/download">the download page</a> and this target is
    tested with every commit to source control. However, there are
    <a href="https://github.com/ziglang/zig/issues/16665">known bugs</a> preventing this
    target from reaching <a href="#Tier-1-Support">Tier 1 Support</a>.</p>
    <ul>
    <li>add CPU feature detection for ARMv8 processors on Windows - the feature detection is based on parsing Windows 
    registry values which contain a read-only view at the contents of <code>EL1</code> system ID registers. The values are mapped
    as <code>CP 40xx</code> registry keys which we now pull and parse for CPU feature information.</li>
    <li>introduce <code>system/arm.zig</code> containing CPU model table. Now we can reuse the table between CPU model parsers on 
    <a href="#Linux">Linux</a> and Windows. </li>
    </ul>
    

    

    <h4 id="Linux"><a href="#toc-Linux">Linux</a> <a class="hdr" href="#Linux">Â§</a></h4>

    <ul>
    <li>Fix missing pthread_key_t definition on linux (#13950).</li>
    <li>linux.bpf: expose map_get_next_key</li>
    <li>fix CPU model detection for neoverse_n1 on aarch64-linux (#10086)</li>
    <li>stdlib: make linux.PERF.TYPE non-exhaustive</li>
    <li>std.os.linux: Add setitimer and getitimer syscalls</li>
    <li>Fixes to linux/bpf/btf.zig</li>
    <li>std.os.linux.T: translate more MIPS values</li>
    <li>fix type errors in os.linux (#15801)</li>
    <li>Add tcsetpgrp and tcgetpgrp to std.os.linux</li>
    <li>std.os.linux: fix incorrect struct definition</li>
    <li>std.os.linux: Add new CAP constants</li>
    <li>linux: do not set stack size hard limit</li>
    <li>std.os.linux | Fix sendmmsg function (#16513)</li>
    <li>std.os: Allow write functions to return INVAL errors. In Linux when interacting with the virtual file system when writing in invalid value to a file the OS will return errno 22 (INVAL). Instead of triggering an unreachable, this change now returns a newly introduced error.InvalidArgument.</li>
    <li>std.os: Add DeviceBusy as a possible write error. In Linux when writing to various files in the virtual file system, for example /sys/fs/cgroup, if you write an invalid value to a file you'll get errno 16.</li>
    <li>Update Linux syscall list for 6.1, support Mips64 (#14541)</li>
    <li>bpf: expose "syscall" program type and F_SLEEPABLE flag</li>
    <li>bpf: correct return type of ringbuf_output helper</li>
    <li>io_uring: Change ordering of prep provide buffers args</li>
    </ul>
    

    <h4 id="macOS"><a href="#toc-macOS">macOS</a> <a class="hdr" href="#macOS">Â§</a></h4>

    <p>Catalina (version 10.15) is unsupported by Apple as of November 30, 2022.
    Likewise, Zig 0.11.0 drops support for this version.</p>
    <ul>
      <li>expose <code>ptrace</code> syscall with errno handling</li>
      <li>expose more Mach kernel primitives for issuing user-land Mach messages</li>
      <li>remove incorrect assertion in <code>readMachODebugInfo</code> panicking during panic - this fixes a class of bugs on macOS 
      where a segfault happening in a loaded dylib with no debug info would cause a panic in the panic handler instead 
      of simply noting that the dylib has no valid debug info via <code>error.MissingDebugInfo</code>. An example could be code 
      linking some system dylib and causing some routine to segfault on say invalid pointer value, which should normally 
      cause Zig to print an incomplete stack trace anchored at the currently loaded image and backtrace all the way back 
      to the Zig binary with valid debug info. Currently, in a situation like this we would trigger a panic within a 
      panic.</li>
      <li>update macOS libc headers and <code>libSystem.tbd</code> to macOS 13</li>
      <li>bump max macOS version to 13.3</li>
      <li>fix parsing of SDK version string into <code>std.SemanticVersion</code></li>
      <li>std.os.darwin: drop underscore from SIG._{BLOCK,UNBLOCK,SETMASK}. this makes them match decls in other OSes</li>
      <li>std.macho: add missing defs of compact unwind info records</li>
    </ul>
    

    <h4 id="FreeBSD"><a href="#toc-FreeBSD">FreeBSD</a> <a class="hdr" href="#FreeBSD">Â§</a></h4>

    <ul>
      <li>FreeBSD: add mcontext_t for aarch64, enabling <a href="#Debugging">stack traces</a> when
          a segmentation fault occurs.</li>
      <li>std.os: take advantage of <code>copy_file_range</code></li>
      <li>std.process.totalSystemMemory: return correct error type on FreeBSD</li>
    </ul>
    

    <h4 id="OpenBSD"><a href="#toc-OpenBSD">OpenBSD</a> <a class="hdr" href="#OpenBSD">Â§</a></h4>

    TODO https://github.com/ziglang/zig/issues/13700
    TODO https://github.com/ziglang/zig/issues/13699
    <ul>
    <li>openbsd: fix NativeTargetInfo semver</li>
    <li>fix bad return types for BSDs getdents and debitrot openbsd (#16052).</li>
    <li>std.c: openbsd sigcontext/ucontext fix enum</li>
    </ul>
    

    <h4 id="NetBSD"><a href="#toc-NetBSD">NetBSD</a> <a class="hdr" href="#NetBSD">Â§</a></h4>

commit e23d48e61a594cabb735accf4c0a18dab6ae18a2
Merge: e3736badd 8eaf2ff20
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Sat Jun 17 14:22:43 2023 -0700

    Merge pull request #15511 from mikdusan/netbsd-pkgsrc
    
    netbsd: pkgsrc

    <ul>
    <li>netbsd: use versioned __msync13 from libc (#14422)</li>
    <li>Add NetBSD termios constants to std.c.netbsd</li>
    </ul>
    

    <h4 id="WASI"><a href="#toc-WASI">WASI</a> <a class="hdr" href="#WASI">Â§</a></h4>

    <p><a href="https://github.com/Luukdegram">Luuk de Gram</a> writes:</p>
<p>In this release-cycle the <a href="#Standard-Library">Standard Library</a> gained experimental
support for WASI-threads. This means it will be possible to create a
multi-threaded application when targeting WASI without having to change your
codebase. Keep in mind that the feature is still in proposal phase 1 of the
WASI specification, so support within the standard library is still
experimental and bugs are to be expected. As the feature is still experimental,
we still default to single-threaded builds when targeting WebAssembly. To
disable this, one can pass <code>-fno-single-threaded</code> in combination
with the <code>--shared-memory</code> flags. This also requires the cpu
features <code>atomics</code> and <code>bulk-memory</code> to be enabled.</p>

<p>The same flags will also work for freestanding <a href="#WebAssembly">WebAssembly</a> modules, allowing
a user to build a multi-threaded WebAssembly module for other runtimes. Be
aware that the threads in the standard library are only available for WASI. For
freestanding, the user must implement their own such as Web Workers when
building a WebAssembly module for the browser.</p>


commit 2834b937f143aa80e3730706dac5ff44cea3a67d
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Thu Mar 2 19:04:55 2023 -0700

    link: give executable bit to wasm executables sometimes
    
    Give +x to the .wasm file if it is an executable and the OS is WASI.
    Some systems may be configured to execute such binaries directly. Even
    if that is not the case, it means we will get "exec format error" when
    trying to run it rather than "access denied", and then can react to that
    in the same way as trying to run an ELF file from a foreign CPU
    architecture.
    
    This is part of the strategy to unify RunStep and EmulatableRunStep.


    <ul>
    <li>wasi: fixes IterableDir.nextWasi for large directory (#13725)</li>
    <li>Implement some more environment functions for WASI.</li>
    <li>Fix bug in WASI environment variable handling (#14121).</li>
    <li>wasi: fixes os.isatty on type mismatch (#13813)</li>
    <li>wasi: remove unnecessary breakpoint() in abort</li>
    </ul>


    

    <h4 id="UEFI"><a href="#toc-UEFI">UEFI</a> <a class="hdr" href="#UEFI">Â§</a></h4>

    <ul>
    <li>Delete unneeded alignment and use default 4K (#7484).</li>
    <li>Do not use -fPIC when compiling a UEFI application.</li>
    <li>Fixed wrong calling convention used sometimes (#16339).</li>
    <li>Fixed bug where not enough memory was allocated for the header or to align the pointer.</li>
    <li>Delete unnecessary padding and fix number_of_pages type</li>
    <li>check for UEFI in io.StreamSource</li>
    <li>implement std.time.sleep for uefi</li>
    <li>fix alignment error in uefi FileInfo protocol</li>
    <li>std.os.uefi: fix shift in pool allocator (#14497).</li>
    </ul>
    

    <h4 id="Plan9"><a href="#toc-Plan9">Plan9</a> <a class="hdr" href="#Plan9">Â§</a></h4>

    <p><a href="https://github.com/g-w1">Jacob G-W</a> writes:</p>
<p>
  During this release cycle, the Plan 9 <a href="#Linker">Linker</a> backend has been updated so that
  it can link most code from the <a href="#x86-Backend">x86 Backend</a>. The <a href="#Standard-Library">Standard Library</a> has
  also been improved, broadening its support for Plan 9's features:
</p>
<ul>
  <li>
    Introduced a <code>page_allocator</code> implementation for Plan 9,
    employing the <code>SbrkAllocator</code> available in the standard library.
    This addition now permits <a href="#Memory-Allocation">Memory Allocation</a> on Plan 9.
  </li>
  <li>
    New functions have been added to facilitate interaction with the filesystem,
    ensuring that <code>std.fs</code> works. This is a crucial improvement, as
    Plan 9 heavily utilizes filesystem interfaces for system interactions.
  </li>
  <li>
    Added the ability to read the top-of-stack struct, allowing access to
    process PID and clock cycle information.
  </li>
  <li>
    Support for <code>std.os.plan9.errstr</code> has been implemented, enabling
    users to read error messages from system calls that return <code>-1</code>.
    However, as error messages in Plan 9 are string-based, additional efforts
    will be needed to make these errors interface with Zig errors.
  </li>
</ul>
    
    
    

    <h2 id="Documentation"><a href="#toc-Documentation">Documentation</a> <a class="hdr" href="#Documentation">Â§</a></h2>

    TODO
    <h3 id="Language-Reference"><a href="#toc-Language-Reference">Language Reference</a> <a class="hdr" href="#Language-Reference">Â§</a></h3>

    <img alt="Ziggy the Ziguana" src="https://ziglang.org/img/Ziggy_4.svg" style="height: 13em; float: right">
    TODO
    

    <h3 id="Autodoc"><a href="#toc-Autodoc">Autodoc</a> <a class="hdr" href="#Autodoc">Â§</a></h3>

    <p>This feature is still experimental.</p>

    <p><a href="https://kristoff.it">Loris Cro</a> writes:</p>

    <p>Thank you to all contributors who helped with Autodoc in this release cycle. </p>
    <p>In particular welcome to two new Autodoc contributors:</p>
    <ul>
      <li><a href="https://github.com/Myvar">Emile Badenhorst</a></li>
      <li><a href="https://github.com/ianprime0509">Ian Johnson</a></li>
    </ul>
    <p>And renewed thanks to long term Autodoc contributor <a href="https://github.com/der-teufel-programming">Krzysztof Wolicki</a>.</p>

    <h4 id="New-Search-System-15475"><a href="#toc-New-Search-System-15475">New Search System (#15475)</a> <a class="hdr" href="#New-Search-System-15475">Â§</a></h4>

      <p>When searching, right below the search box, you will now see a new expandable help section that explains how to use the new search system more effectively. The text is reported here:</p>
      <ul>
      <li>Matching<ul>
      <li>Search is case-insensitive by default.</li>
      <li>Using uppercase letters in your query will make the search case-sensitive.</li>
      <li>Given <code>ArrayListUnmanaged</code>:<ul>
      <li>the following words (and their prefixes) will match:<ul>
      <li><code>array</code></li>
      <li><code>list</code></li>
      <li><code>unmanaged</code></li>
      </ul>
      </li>
      <li>the following words will <strong>NOT</strong> match:<ul>
      <li><code>stun</code></li>
      <li><code>ray</code></li>
      <li><code>managed</code></li>
      </ul>
      </li>
      </ul>
      </li>
      <li>More precisely, the search system is based on a Radix Tree. The Radix Tree contains full decl names plus some suffixes, split by following the official style guide (e.g. <code>HashMapUnmanaged</code> also produces <code>MapUnmanaged</code> and <code>Unmanaged</code>, same with snake_case and camelCase names).</li>
      </ul>
      </li>
      <li>Multiple terms<ul>
      <li>When a search query contains multiple terms, order doesn't matter when all terms match within a single decl name (e.g. "map auto" will match <code>AutoHashMap</code>).</li>
      <li>Query term order does matter when matching different decls alognside a path (e.g. "js parse" matching <code>std.json.parse</code>), in which case the order of the terms will determine whether the match goes above or below the "other results" line.</li>
      <li>As an example, "fs create" will put above the line all things related to the creation of files and directories inside of <code>std.fs</code>, while still showing (but below the line) matches from <code>std.Bulild</code>.</li>
      <li>As another example, "fs windows" will prioritize windows-related results in <code>std.fs</code>, while "windows fs" will prioritize "fs"-related results in <code>std.windows</code>.</li>
      <li>This means that if you're searching inside a target namespace, you never have to read below the "other results" line.</li>
      <li>Since matching doesn't have to be perfect, you can also target a group of namespaces to search into. For example "array orderedremove" will show you all "Array-" namespaces that support orderedRemove.</li>
      <li>Periods are replaced by spaces because the Radix Tree doesn't index full paths, and in practice you should expect the match scoring system to consistently give you what you're looking for even when your query path is split into multiple terms.</li>
      </ul>
      </li>
      </ul>   
    
    
    <h4 id="Other-Improvements"><a href="#toc-Other-Improvements">Other Improvements</a> <a class="hdr" href="#Other-Improvements">Â§</a></h4>

      <ul>
      <li><p>Added missing support for the following language features:</p>
      <ul>
      <li>Top-level doc comments (<code>//!</code>)</li>
      <li>Tuple structs</li>
      <li><code>usingnamespace</code></li>
      <li>Default values in structs and enums</li>
      <li>Improved handling of calling conventions</li>
      <li>rendering of backing integers for packed structs</li>
      <li>rendering of <code>_</code> function parameter names</li>
      <li>rendering of boolean operators</li>
      <li><p><strong>doctests are now supported!</strong></p>
      <ul>
      <li><p>Doctests are tests that are meant to be part of the documentation.
      You can create a doc test by giving it the name of a decl like so:</p>
<figure><figcaption class="zig-cap"><cite class="file">example.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">const</span> MyType = <span class="tok-kw">struct</span> {</span>
<span class="line">  <span class="tok-comment">// ...</span></span>
<span class="line">};</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">test</span> MyType {</span>
<span class="line">  <span class="tok-comment">// Referencing a decl directly makes this a doctest!</span></span>
<span class="line">  <span class="tok-comment">//</span></span>
<span class="line">  <span class="tok-comment">// This test is meant to showcase usage of MyType </span></span>
<span class="line">  <span class="tok-comment">// and will be shown by Autodoc.</span></span>
<span class="line">}</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">test</span> <span class="tok-str">&quot;normal test&quot;</span> {</span>
<span class="line">  <span class="tok-comment">// This is a normal test that will not be shown</span></span>
<span class="line">  <span class="tok-comment">// by Autodoc.</span></span>
<span class="line">}</span></code></pre></figure>

      <p>Check out <code>std.json</code> for some more examples.</p>
      </li>
      </ul>
      </li>
      </ul>
      </li>
      <li>Added a Zig tokenizer to Autodoc for better source rendering (#16306).</li>
      <li>Improved support for more Markdown syntax in rendering of doc comments.</li>
      <li>Fixed broken links to various elements.</li>
      <li>Links to private decls now lead you to source listings.</li>
      <li>Improved rendering of comptime expressions.</li>
      <li>Fixed rendering of function pointer types.</li>
      <li>Added the ability to expand function descriptions (#14260).</li>
      <li>Initial support for guides, see the "Guides" section in a build of Autodoc 
      for more info.</li>
      <li>Single-backtick mentions of importable identifiers in doc comments or guides
      will now be linked to their corresponding Autodoc page.</li>
      <li>Pressing <code>/</code> will focus the searchbar on all browsers except Firefox.
      You can use the new Autodoc preferences (<code>p</code>) menu to enable it also on Firefox.</li>
      <li>Fixed a crash related to complex expressions in function calls.</li>
      <li>Autodoc now properly integrates with the cache system of the Zig compiler (#15864).</li>
      </ul>
    
    
    
    

    <h2 id="Language-Changes"><a href="#toc-Language-Changes">Language Changes</a> <a class="hdr" href="#Language-Changes">Â§</a></h2>

    <ul>
    <li>Changed bits field of <code>builtin.Type.Int</code> and <code>builtin.Type.Float</code> a
    <code><span class="line"><span class="tok-type">u16</span></span></code> instead of <code><span class="line"><span class="tok-type">comptime_int</span></span></code>.</li>
    <li>Replaced <code>builtin.Version</code> with <code>SemanticVersion</code>.</li>
    </ul>
    <h3 id="Peer-Type-Resolution-Improvements"><a href="#toc-Peer-Type-Resolution-Improvements">Peer Type Resolution Improvements</a> <a class="hdr" href="#Peer-Type-Resolution-Improvements">Â§</a></h3>

    <p>
    The <a href="/documentation/0.11.0/#Peer-Type-Resolution">Peer Type Resolution</a> algorithm
    has been improved to resolve more types and in a more consistent manner. Below are a few
    examples which did not resolve correctly in 0.10 but do now.
    </p>
    <table>
      <thead>
        <tr>
          <th>Peer Types</th>
          <th>Resolved Type</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code><span class="line">[:s]<span class="tok-kw">const</span> T</span></code>, <code><span class="line">[]T</span></code></td>
          <td><code><span class="line">[]<span class="tok-kw">const</span> T</span></code></td>
        </tr>
        <tr>
          <td><code><span class="line">E!*T</span></code>, <code><span class="line">?*T</span></code></td>
          <td><code><span class="line">E!?*T</span></code></td>
        </tr>
        <tr>
          <td><code><span class="line">[*c]T</span></code>, <code><span class="line"><span class="tok-builtin">@TypeOf</span>(<span class="tok-null">null</span>)</span></code></td>
          <td><code><span class="line">[*c]T</span></code></td>
        </tr>
        <tr>
          <td><code><span class="line">[*c]T</span></code>, <code><span class="line"><span class="tok-builtin">@TypeOf</span>(<span class="tok-null">null</span>)</span></code></td>
          <td><code><span class="line">[*c]T</span></code></td>
        </tr>
        <tr>
          <td><code><span class="line">?<span class="tok-type">u32</span></span></code>, <code><span class="line"><span class="tok-type">u8</span></span></code></td>
          <td><code><span class="line">?<span class="tok-type">u32</span></span></code></td>
        </tr>
        <tr>
          <td><code><span class="line">[<span class="tok-number">2</span>]<span class="tok-type">u32</span></span></code>, <code><span class="line"><span class="tok-kw">struct</span> { <span class="tok-type">u32</span>, <span class="tok-type">u32</span> }</span></code></td>
          <td><code><span class="line">[<span class="tok-number">2</span>]<span class="tok-type">u32</span></span></code></td>
        </tr>
        <tr>
          <td><code><span class="line">*<span class="tok-kw">const</span> <span class="tok-builtin">@TypeOf</span>(.{})</span></code>, <code><span class="line">[]<span class="tok-kw">const</span> <span class="tok-type">u8</span></span></code></td>
          <td><code><span class="line">[]<span class="tok-kw">const</span> <span class="tok-type">u8</span></span></code></td>
        </tr>
      </tbody>
    </table>
    
    <h3 id="Multi-Object-For-Loops"><a href="#toc-Multi-Object-For-Loops">Multi-Object For Loops</a> <a class="hdr" href="#Multi-Object-For-Loops">Â§</a></h3>

    <p>
    This release cycle introduces <a href="https://github.com/ziglang/zig/pull/14671">multi-object
    <code><span class="line"><span class="tok-kw">for</span></span></code> loops</a> into the Zig language. This is a new construct providing a
    way to cleanly iterate over multiple sequences of the same length.
    </p>
    <p>
    Consider the case of mapping a function over an array. Previously, your code may have looked
    like this:
    </p>
    <figure><figcaption class="zig-cap"><cite class="file">map_func_old.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">const</span> std = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;std&quot;</span>);</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">test</span> <span class="tok-str">&quot;double integer values in sequence&quot;</span> {</span>
<span class="line">    <span class="tok-kw">const</span> input: []<span class="tok-kw">const</span> <span class="tok-type">u32</span> = &amp;.{ <span class="tok-number">1</span>, <span class="tok-number">2</span>, <span class="tok-number">3</span> };</span>
<span class="line">    <span class="tok-kw">const</span> output = <span class="tok-kw">try</span> std.testing.allocator.alloc(<span class="tok-type">u32</span>, input.len);</span>
<span class="line">    <span class="tok-kw">defer</span> std.testing.allocator.free(output);</span>
<span class="line"></span>
<span class="line">    <span class="tok-kw">for</span> (input) |x, i| {</span>
<span class="line">        output[i] = x * <span class="tok-number">2</span>;</span>
<span class="line">    }</span>
<span class="line"></span>
<span class="line">    <span class="tok-kw">try</span> std.testing.expectEqualSlices(<span class="tok-type">u32</span>, &amp;.{ <span class="tok-number">2</span>, <span class="tok-number">4</span>, <span class="tok-number">6</span> }, output);</span>
<span class="line">}</span></code></pre></figure>
    <p>
    This code has an unfortunate property: in the loop, we had to make the arbitrary choice to
    iterate over <code><span class="line">input</span></code>, using the captured index <code><span class="line">i</span></code>
    to access the corresponding element in <code><span class="line">output</span></code>. With multi-object for
    loops, this code becomes much cleaner:
    </p>
    <figure><figcaption class="zig-cap"><cite class="file">map_func_new.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">const</span> std = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;std&quot;</span>);</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">test</span> <span class="tok-str">&quot;double integer values in sequence&quot;</span> {</span>
<span class="line">    <span class="tok-kw">const</span> input: []<span class="tok-kw">const</span> <span class="tok-type">u32</span> = &amp;.{ <span class="tok-number">1</span>, <span class="tok-number">2</span>, <span class="tok-number">3</span> };</span>
<span class="line">    <span class="tok-kw">const</span> output = <span class="tok-kw">try</span> std.testing.allocator.alloc(<span class="tok-type">u32</span>, input.len);</span>
<span class="line">    <span class="tok-kw">defer</span> std.testing.allocator.free(output);</span>
<span class="line"></span>
<span class="line">    <span class="tok-kw">for</span> (input, output) |x, *out| {</span>
<span class="line">        out.* = x * <span class="tok-number">2</span>;</span>
<span class="line">    }</span>
<span class="line"></span>
<span class="line">    <span class="tok-kw">try</span> std.testing.expectEqualSlices(<span class="tok-type">u32</span>, &amp;.{ <span class="tok-number">2</span>, <span class="tok-number">4</span>, <span class="tok-number">6</span> }, output);</span>
<span class="line">}</span></code></pre></figure><figure><figcaption class="shell-cap">Shell</figcaption><pre><samp>$ <kbd>zig test map_func_new.zig</kbd>
1/1 test.double integer values in sequence... OK
All 1 tests passed.
</samp></pre></figure>
    <p>
    In this new code, we use the new for loop syntax to iterate over both slices simultaneously,
    capturing the output element by reference so we can write to it. The index capture is no longer
    necessary in this case. Note that this is not limited to two operands: arbitrarily many slices
    can be passed to the loop provided each has a corresponding capture. The language asserts that
    all passed slices have the same length: if they do not, this is safety-checked
    <a href="/documentation/0.11.0/#Undefined-Behavior">Undefined Behavior</a>.
    </p>
    <p>
    Previously, index captures were implicitly provided if you added a second identifier to the
    loop's captures. With the new multi-object loops, this has changed. As well as standard
    expressions, the operand passed to a for loop can also be a <i>range</i>. These take the form 
    <code><span class="line">a..</span></code> or <code><span class="line">a..b</span></code>, with the latter form being exclusive
    on the upper bound. If an upper bound is provided, <code><span class="line">b - a</span></code> must match the
    length of any given slices (or other bounded ranges). If no upper bound is provided, the loop is
    bounded based on other range or slice operands. All for loops must be bounded (i.e. you cannot
    iterate over only an unbounded range). The old behavior is equivalent to adding a trailing
    <code><span class="line"><span class="tok-number">0</span>..</span></code> operand to the loop.
    </p>
    <figure><figcaption class="zig-cap"><cite class="file">for_index_capture.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">const</span> std = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;std&quot;</span>);</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">test</span> <span class="tok-str">&quot;index capture in for loop&quot;</span> {</span>
<span class="line">    <span class="tok-kw">const</span> vals: []<span class="tok-kw">const</span> <span class="tok-type">u32</span> = &amp;.{ <span class="tok-number">10</span>, <span class="tok-number">11</span>, <span class="tok-number">12</span>, <span class="tok-number">13</span> };</span>
<span class="line"></span>
<span class="line">    <span class="tok-comment">// We can use an unbounded range, since vals provides a length</span></span>
<span class="line">    <span class="tok-kw">for</span> (vals, <span class="tok-number">0</span>..) |x, i| {</span>
<span class="line">        <span class="tok-kw">try</span> std.testing.expectEqual(i + <span class="tok-number">10</span>, x);</span>
<span class="line">    }</span>
<span class="line"></span>
<span class="line">    <span class="tok-comment">// We can also use a bounded range, provided its length matches</span></span>
<span class="line">    <span class="tok-kw">for</span> (vals, <span class="tok-number">0</span>..<span class="tok-number">4</span>) |x, i| {</span>
<span class="line">        <span class="tok-kw">try</span> std.testing.expectEqual(i + <span class="tok-number">10</span>, x);</span>
<span class="line">    }</span>
<span class="line"></span>
<span class="line">    <span class="tok-comment">// The lower bound does not need to be 0</span></span>
<span class="line">    <span class="tok-kw">for</span> (vals, <span class="tok-number">10</span>..) |x, i| {</span>
<span class="line">        <span class="tok-kw">try</span> std.testing.expectEqual(i, x);</span>
<span class="line">    }</span>
<span class="line"></span>
<span class="line">    <span class="tok-comment">// The range does not need to come last</span></span>
<span class="line">    <span class="tok-kw">for</span> (<span class="tok-number">10</span>..<span class="tok-number">14</span>, vals) |i, x| {</span>
<span class="line">        <span class="tok-kw">try</span> std.testing.expectEqual(i, x);</span>
<span class="line">    }</span>
<span class="line">    </span>
<span class="line">    <span class="tok-comment">// You can have multiple captures of any kind</span></span>
<span class="line">    <span class="tok-kw">for</span> (<span class="tok-number">10</span>..<span class="tok-number">14</span>, vals, vals, <span class="tok-number">0</span>..) |i, val, *val_ptr, j| {</span>
<span class="line">        <span class="tok-kw">try</span> std.testing.expectEqual(i, j + <span class="tok-number">10</span>);</span>
<span class="line">        <span class="tok-kw">try</span> std.testing.expectEqual(i, val);</span>
<span class="line">        <span class="tok-kw">try</span> std.testing.expectEqual(i, val_ptr.*);</span>
<span class="line">    }</span>
<span class="line">}</span></code></pre></figure><figure><figcaption class="shell-cap">Shell</figcaption><pre><samp>$ <kbd>zig test for_index_capture.zig</kbd>
1/1 test.index capture in for loop... OK
All 1 tests passed.
</samp></pre></figure>
    <p>
    The lower and upper bounds of ranges are of type <code><span class="line"><span class="tok-type">usize</span></span></code>, as is the
    capture, since this feature is primarily intended for iterating over data in memory. Note that
    it is valid to loop over only a range:
    </p>
    <figure><figcaption class="zig-cap"><cite class="file">for_range_only.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">const</span> std = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;std&quot;</span>);</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">test</span> <span class="tok-str">&quot;for loop over range&quot;</span> {</span>
<span class="line">    <span class="tok-kw">var</span> val: <span class="tok-type">usize</span> = <span class="tok-number">0</span>;</span>
<span class="line">    <span class="tok-kw">for</span> (<span class="tok-number">0</span>..<span class="tok-number">20</span>) |i| {</span>
<span class="line">        <span class="tok-kw">try</span> std.testing.expectEqual(val, i);</span>
<span class="line">        val += <span class="tok-number">1</span>;</span>
<span class="line">    }</span>
<span class="line">}</span></code></pre></figure><figure><figcaption class="shell-cap">Shell</figcaption><pre><samp>$ <kbd>zig test for_range_only.zig</kbd>
1/1 test.for loop over range... OK
All 1 tests passed.
</samp></pre></figure>
    <p>
    To automatically migrate old code, <code><span class="line">zig fmt</span></code> automatically adds
    <code><span class="line"><span class="tok-number">0</span>..</span></code> operands to loops with an index capture and no corresponding operand.
    </p>
    <p>
    The behavior of pointer captures in for loops has changed slightly. Previously, the following
    code was valid, but now it emits a compile error:
    </p>
    <figure><figcaption class="zig-cap"><cite class="file">pointer_capture_from_array.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">const</span> std = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;std&quot;</span>);</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">test</span> <span class="tok-str">&quot;pointer capture from array&quot;</span> {</span>
<span class="line">    <span class="tok-kw">var</span> arr: [<span class="tok-number">3</span>]<span class="tok-type">u8</span> = <span class="tok-null">undefined</span>;</span>
<span class="line">    <span class="tok-kw">for</span> (arr) |*x| {</span>
<span class="line">        x.* = <span class="tok-number">123</span>;</span>
<span class="line">    }</span>
<span class="line">    <span class="tok-kw">try</span> std.testing.expectEqualSlices(<span class="tok-type">u8</span>, &amp;arr, &amp;.{ <span class="tok-number">123</span>, <span class="tok-number">123</span>, <span class="tok-number">123</span> });</span>
<span class="line">}</span></code></pre></figure><figure><figcaption class="shell-cap">Shell</figcaption><pre><samp>$ <kbd>zig test pointer_capture_from_array.zig</kbd>
<span class="sgr-1m">docgen_tmp/pointer_capture_from_array.zig:5:16: </span><span class="sgr-31m">error: </span><span class="sgr-1m">pointer capture of non pointer type '[3]u8'
</span>    for (arr) |*x| {
               <span class="sgr-32m">^~~
</span><span class="sgr-1m">docgen_tmp/pointer_capture_from_array.zig:5:10: </span><span class="sgr-36m">note: </span><span class="sgr-1m">consider using '&amp;' here
</span>    for (arr) |*x| {
         <span class="sgr-32m">^~~
</span>
</samp></pre></figure>
    <p>
    This code previously worked because the language implicitly took a reference to
    <code><span class="line">arr</span></code>. This no longer happens: if you use a pointer capture, the
    corresponding iterable must be a pointer or slice. In this case, the fix - as suggested by the
    error note - is simply to take a reference to the array.
    </p>
    <figure><figcaption class="zig-cap"><cite class="file">pointer_capture_from_array_pointer.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">const</span> std = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;std&quot;</span>);</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">test</span> <span class="tok-str">&quot;pointer capture from array&quot;</span> {</span>
<span class="line">    <span class="tok-kw">var</span> arr: [<span class="tok-number">3</span>]<span class="tok-type">u8</span> = <span class="tok-null">undefined</span>;</span>
<span class="line">    <span class="tok-kw">for</span> (&amp;arr) |*x| {</span>
<span class="line">        x.* = <span class="tok-number">123</span>;</span>
<span class="line">    }</span>
<span class="line">    <span class="tok-kw">try</span> std.testing.expectEqualSlices(<span class="tok-type">u8</span>, &amp;arr, &amp;.{ <span class="tok-number">123</span>, <span class="tok-number">123</span>, <span class="tok-number">123</span> });</span>
<span class="line">}</span></code></pre></figure><figure><figcaption class="shell-cap">Shell</figcaption><pre><samp>$ <kbd>zig test pointer_capture_from_array_pointer.zig</kbd>
1/1 test.pointer capture from array... OK
All 1 tests passed.
</samp></pre></figure>

    

    <h3 id="memcpy-and-memset"><a href="#toc-memcpy-and-memset">@memcpy and @memset</a> <a class="hdr" href="#memcpy-and-memset">Â§</a></h3>

    <p>
    0.11.0 changes the usage of the builtins <code><span class="line"><span class="tok-builtin">@memcpy</span></span></code> and
    <code><span class="line"><span class="tok-builtin">@memset</span></span></code> to make them more useful.
    </p>
    <p>
    <code><span class="line"><span class="tok-builtin">@memcpy</span></span></code> now takes two parameters. The first is the destination, and must
    be a mutable slice of any any element type. The second parameter is the source value, which may
    be either a slice of the element type (in which case it must have the same length) or a
    many-pointer to it (in which case it is implicitly sliced to the same length). The builtin
    copies values from the source address to the destination address.
    </p>
    <p>
    The source and destination memory must not overlap (overlap is considered safety-checked
    <a href="/documentation/0.11.0/#Undefined-Behavior">Undefined Behavior</a>). This is one of the
    key motivators for using this builtin over the standard library.
    </p>
    <figure><figcaption class="zig-cap"><cite class="file">memcpy.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">const</span> std = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;std&quot;</span>);</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">test</span> <span class="tok-str">&quot;@memcpy usage&quot;</span> {</span>
<span class="line">    <span class="tok-kw">const</span> a: [<span class="tok-number">4</span>]<span class="tok-type">u32</span> = .{ <span class="tok-number">1</span>, <span class="tok-number">2</span>, <span class="tok-number">3</span>, <span class="tok-number">4</span> };</span>
<span class="line"></span>
<span class="line">    <span class="tok-kw">var</span> b: [<span class="tok-number">4</span>]<span class="tok-type">u32</span> = <span class="tok-null">undefined</span>;</span>
<span class="line">    <span class="tok-builtin">@memcpy</span>(&amp;b, &amp;a);</span>
<span class="line">    <span class="tok-kw">try</span> std.testing.expectEqualSlices(<span class="tok-type">u32</span>, &amp;a, &amp;b);</span>
<span class="line"></span>
<span class="line">    <span class="tok-comment">// If the second operand is a many-ptr, the length is taken from the first operand</span></span>
<span class="line">    <span class="tok-kw">var</span> c: [<span class="tok-number">4</span>]<span class="tok-type">u32</span> = <span class="tok-null">undefined</span>;</span>
<span class="line">    <span class="tok-kw">const</span> a_manyptr: [*]<span class="tok-kw">const</span> <span class="tok-type">u32</span> = (&amp;a).ptr;</span>
<span class="line">    <span class="tok-builtin">@memcpy</span>(&amp;c, a_manyptr);</span>
<span class="line">    <span class="tok-kw">try</span> std.testing.expectEqualSlices(<span class="tok-type">u32</span>, &amp;a, &amp;c);</span>
<span class="line">}</span></code></pre></figure><figure><figcaption class="shell-cap">Shell</figcaption><pre><samp>$ <kbd>zig test memcpy.zig</kbd>
1/1 test.@memcpy usage... OK
All 1 tests passed.
</samp></pre></figure>
    <p>
    Since this builtin now encompasses the most common use case of
    <code><span class="line">std.mem.copy</span></code>, that function has been renamed to
    <code><span class="line">std.mem.copyForwards</span></code>. Like <code><span class="line">copyBackwards</span></code>, the only
    use case for that function is when the source and destination slices overlap, meaning elements
    must be copied in a particular order. When migrating code, it is safe to replace all uses of
    <code><span class="line">copy</span></code> with <code><span class="line">copyForwards</span></code>, but potentially more
    optimal and clearer to instead use <code><span class="line"><span class="tok-builtin">@memcpy</span></span></code> provided the slices are
    guaranteed not to overlap.
    </p>
    <p>
    <code><span class="line"><span class="tok-builtin">@memset</span></span></code> has also changed signature. It takes two parameters: the first is
    a mutable slice of any element type, and the second is a value which is coerced to that element
    type. All values referenced by the destination slice are set the provided value.
    </p>
    <figure><figcaption class="zig-cap"><cite class="file">memset.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">const</span> std = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;std&quot;</span>);</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">test</span> <span class="tok-str">&quot;@memset usage&quot;</span> {</span>
<span class="line">    <span class="tok-kw">var</span> a: [<span class="tok-number">4</span>]<span class="tok-type">u32</span> = <span class="tok-null">undefined</span>;</span>
<span class="line">    <span class="tok-builtin">@memset</span>(&amp;a, <span class="tok-number">10</span>);</span>
<span class="line"></span>
<span class="line">    <span class="tok-kw">try</span> std.testing.expectEqualSlices(<span class="tok-type">u32</span>, &amp;.{ <span class="tok-number">10</span>, <span class="tok-number">10</span>, <span class="tok-number">10</span>, <span class="tok-number">10</span> }, &amp;a);</span>
<span class="line">}</span></code></pre></figure><figure><figcaption class="shell-cap">Shell</figcaption><pre><samp>$ <kbd>zig test memset.zig</kbd>
1/1 test.@memset usage... OK
All 1 tests passed.
</samp></pre></figure>
    <p>
    This builtin now precisely encompasses the former use cases of
    <code><span class="line">std.mem.set</span></code>. Therefore, this standard library function has been removed
    in favor of the builtin.
    </p>
    

    <h3 id="min-and-max"><a href="#toc-min-and-max">@min and @max</a> <a class="hdr" href="#min-and-max">Â§</a></h3>

    <p>
    The builtins <code><span class="line"><span class="tok-builtin">@min</span></span></code> and <code><span class="line"><span class="tok-builtin">@max</span></span></code> have undergone two key
    changes. The first is that they now take arbitrarily many arguments, finding the minimum/maximum
    value across <i>all</i> arguments: for instance, <code><span class="line"><span class="tok-builtin">@min</span>(<span class="tok-number">2</span>, <span class="tok-number">1</span>, <span class="tok-number">3</span>) == <span class="tok-number">1</span></span></code>. The
    second change relates to the type returned by these operations. Previously,
    <a href="/documentation/0.11.0/#Peer-Type-Resolution">Peer Type Resolution</a> was used to unify
    the operand types. However, this sometimes led to redundant uses of
    <code><span class="line"><span class="tok-builtin">@intCast</span></span></code>: for instance <code><span class="line"><span class="tok-builtin">@min</span>(some_u16, <span class="tok-number">255</span>)</span></code> can
    always fit in a <code><span class="line"><span class="tok-type">u8</span></span></code>. To avoid this, when these operations are performed on
    integers (or vectors thereof), the compiler will now notice comptime-known bounds of the result
    (based on either comptime-known operands or on differing operand types) and refine the result
    type as tightly as possible.
    </p>
    <figure><figcaption class="zig-cap"><cite class="file">min_max.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">const</span> std = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;std&quot;</span>);</span>
<span class="line"><span class="tok-kw">const</span> assert = std.debug.assert;</span>
<span class="line"><span class="tok-kw">const</span> expectEqual = std.testing.expectEqual;</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">test</span> <span class="tok-str">&quot;@min/@max takes arbitrarily many arguments&quot;</span> {</span>
<span class="line">    <span class="tok-kw">try</span> expectEqual(<span class="tok-number">11</span>, <span class="tok-builtin">@min</span>(<span class="tok-number">19</span>, <span class="tok-number">11</span>, <span class="tok-number">35</span>, <span class="tok-number">18</span>));</span>
<span class="line">    <span class="tok-kw">try</span> expectEqual(<span class="tok-number">35</span>, <span class="tok-builtin">@max</span>(<span class="tok-number">19</span>, <span class="tok-number">11</span>, <span class="tok-number">35</span>, <span class="tok-number">18</span>));</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">test</span> <span class="tok-str">&quot;@min/@max refines result type&quot;</span> {</span>
<span class="line">    <span class="tok-kw">const</span> x: <span class="tok-type">u8</span> = <span class="tok-number">20</span>; <span class="tok-comment">// comptime-known</span></span>
<span class="line">    <span class="tok-kw">var</span> y: <span class="tok-type">u64</span> = <span class="tok-number">12345</span>;</span>
<span class="line">    <span class="tok-comment">// Since an exact bound is comptime-known, the result must fit in a u5</span></span>
<span class="line">    <span class="tok-kw">comptime</span> assert(<span class="tok-builtin">@TypeOf</span>(<span class="tok-builtin">@min</span>(x, y)) == <span class="tok-type">u5</span>);</span>
<span class="line"></span>
<span class="line">    <span class="tok-kw">var</span> x_rt: <span class="tok-type">u8</span> = x; <span class="tok-comment">// runtime-known</span></span>
<span class="line">    <span class="tok-comment">// Since one argument to @min is a u8, the result must fit in a u8</span></span>
<span class="line">    <span class="tok-kw">comptime</span> assert(<span class="tok-builtin">@TypeOf</span>(<span class="tok-builtin">@min</span>(x_rt, y)) == <span class="tok-type">u8</span>);</span>
<span class="line">}</span></code></pre></figure><figure><figcaption class="shell-cap">Shell</figcaption><pre><samp>$ <kbd>zig test min_max.zig</kbd>
1/2 test.@min/@max takes arbitrarily many arguments... OK
2/2 test.@min/@max refines result type... OK
All 2 tests passed.
</samp></pre></figure>
    <p>
    This is a breaking change, as any usage of these values without an explicit type annotation may
    now result in overflow: for instance, <code><span class="line"><span class="tok-builtin">@min</span>(my_u32, <span class="tok-number">255</span>) + <span class="tok-number">1</span></span></code> used to be
    always valid but may now overflow. This is solved with explicit type annotations, either with
    <code><span class="line"><span class="tok-builtin">@as</span></span></code> or using an intermediate <code><span class="line"><span class="tok-kw">const</span></span></code>.
    </p>

    <p>
    Since these changes have been applied to the builtin functions, several standard library
    functions are now redundant. Therefore, the following functions have been deprecated:
    </p>
    <ul>
      <li><code><span class="line">std.math.min</span></code></li>
      <li><code><span class="line">std.math.max</span></code></li>
      <li><code><span class="line">std.math.min3</span></code></li>
      <li><code><span class="line">std.math.max3</span></code></li>
    </ul>

    <p>
    For more information on these changes, see <a href="https://github.com/ziglang/zig/issues/14039">the proposal</a> and <a href="https://github.com/ziglang/zig/pull/15522">the PR implementing it</a>.
    </p>
    

    <h3 id="trap"><a href="#toc-trap">@trap</a> <a class="hdr" href="#trap">Â§</a></h3>

    <p>New builtin:</p>
    <pre><code><span class="line"><span class="tok-builtin">@trap</span>() <span class="tok-type">noreturn</span></span></code></pre>
    <p>
    This function inserts a platform-specific trap/jam instruction which can be
    used to exit the program abnormally.
    This may be implemented by explicitly emitting an invalid instruction which
    may cause an illegal instruction exception of some sort.
    Unlike <code><span class="line"><span class="tok-builtin">@breakpoint</span></span></code>, execution does not continue afterwards:
    </p>
    <figure><figcaption class="zig-cap"><cite class="file">trap_noreturn.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">test</span> <span class="tok-str">&quot;@trap is noreturn&quot;</span> {</span>
<span class="line">    <span class="tok-builtin">@trap</span>();</span>
<span class="line">    <span class="tok-kw">return</span> <span class="tok-kw">error</span>.Foo; <span class="tok-comment">// Control flow will never reach this line!</span></span>
<span class="line">}</span></code></pre></figure><figure><figcaption class="shell-cap">Shell</figcaption><pre><samp>$ <kbd>zig test trap_noreturn.zig</kbd>
<span class="sgr-1m">docgen_tmp/trap_noreturn.zig:3:5: </span><span class="sgr-31m">error: </span><span class="sgr-1m">unreachable code
</span>    return error.Foo; // Control flow will never reach this line!
    <span class="sgr-32m">^~~~~~~~~~~~~~~~
</span><span class="sgr-1m">docgen_tmp/trap_noreturn.zig:2:5: </span><span class="sgr-36m">note: </span><span class="sgr-1m">control flow is diverted here
</span>    @trap();
    <span class="sgr-32m">^~~~~~~
</span>
</samp></pre></figure>
    

    <h3 id="inComptime"><a href="#toc-inComptime">@inComptime</a> <a class="hdr" href="#inComptime">Â§</a></h3>

    <p>
    A new builtin, <code><span class="line"><span class="tok-builtin">@inComptime</span>()</span></code>, has been introduced. This builtin returns a
    <code><span class="line"><span class="tok-type">bool</span></span></code> indicating whether or not it was evaluated in a
    <code><span class="line"><span class="tok-kw">comptime</span></span></code> scope.
    </p>
    <figure><figcaption class="zig-cap"><cite class="file">in_comptime.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">const</span> std = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;std&quot;</span>);</span>
<span class="line"><span class="tok-kw">const</span> assert = std.debug.assert;</span>
<span class="line"><span class="tok-kw">const</span> expectEqual = std.testing.expectEqual;</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">const</span> global_val = blk: {</span>
<span class="line">    assert(<span class="tok-builtin">@inComptime</span>());</span>
<span class="line">    <span class="tok-kw">break</span> :blk <span class="tok-number">123</span>;</span>
<span class="line">};</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">comptime</span> {</span>
<span class="line">    assert(<span class="tok-builtin">@inComptime</span>());</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">fn</span> <span class="tok-fn">f</span>() <span class="tok-type">u32</span> {</span>
<span class="line">    <span class="tok-kw">if</span> (<span class="tok-builtin">@inComptime</span>()) {</span>
<span class="line">        <span class="tok-kw">return</span> <span class="tok-number">1</span>;</span>
<span class="line">    } <span class="tok-kw">else</span> {</span>
<span class="line">        <span class="tok-kw">return</span> <span class="tok-number">2</span>;</span>
<span class="line">    }</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">test</span> <span class="tok-str">&quot;@inComptime&quot;</span> {</span>
<span class="line">    <span class="tok-kw">try</span> expectEqual(<span class="tok-null">true</span>, <span class="tok-kw">comptime</span> <span class="tok-builtin">@inComptime</span>());</span>
<span class="line">    <span class="tok-kw">try</span> expectEqual(<span class="tok-null">false</span>, <span class="tok-builtin">@inComptime</span>());</span>
<span class="line">    <span class="tok-kw">try</span> expectEqual(<span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">1</span>), <span class="tok-kw">comptime</span> f());</span>
<span class="line">    <span class="tok-kw">try</span> expectEqual(<span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">2</span>), f());</span>
<span class="line">}</span></code></pre></figure><figure><figcaption class="shell-cap">Shell</figcaption><pre><samp>$ <kbd>zig test in_comptime.zig</kbd>
1/1 test.@inComptime... OK
All 1 tests passed.
</samp></pre></figure>
    

    <h3 id="Split-qualCast-into-constCast-and-volatileCast"><a href="#toc-Split-qualCast-into-constCast-and-volatileCast">Split @qualCast into @constCast and @volatileCast</a> <a class="hdr" href="#Split-qualCast-into-constCast-and-volatileCast">Â§</a></h3>

    <figure><figcaption class="zig-cap"><cite class="file">qualcast.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">const</span> std = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;std&quot;</span>);</span>
<span class="line"><span class="tok-kw">const</span> expect = std.testing.expect;</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">test</span> <span class="tok-str">&quot;qualCast&quot;</span> {</span>
<span class="line">    <span class="tok-kw">const</span> x: <span class="tok-type">i32</span> = <span class="tok-number">1234</span>;</span>
<span class="line">    <span class="tok-kw">const</span> y = <span class="tok-builtin">@qualCast</span>(&amp;x);</span>
<span class="line">    <span class="tok-kw">try</span> expect(<span class="tok-builtin">@TypeOf</span>(y) == *<span class="tok-type">i32</span>);</span>
<span class="line">    <span class="tok-kw">try</span> expect(y.* == <span class="tok-number">1234</span>);</span>
<span class="line">}</span></code></pre></figure><figure><figcaption class="shell-cap">Shell</figcaption><pre><samp>$ <kbd>zig test qualcast.zig</kbd>
<span class="sgr-1m">docgen_tmp/qualcast.zig:6:15: </span><span class="sgr-31m">error: </span><span class="sgr-1m">invalid builtin function: '@qualCast'
</span>    const y = @qualCast(&amp;x);
              <span class="sgr-32m">^~~~~~~~~~~~~
</span>
</samp></pre></figure>
    <p>Use <code><span class="line"><span class="tok-builtin">@constCast</span></span></code> instead to fix the error.</p>
    

    <h3 id="Rename-Casting-Builtins"><a href="#toc-Rename-Casting-Builtins">Rename Casting Builtins</a> <a class="hdr" href="#Rename-Casting-Builtins">Â§</a></h3>

    <p>
    An <a href="https://github.com/ziglang/zig/issues/6128">accepted proposal</a> has been
    implemented to rename all casting builtins of the form <code><span class="line"><span class="tok-builtin">@xToY</span></span></code> to
    <code><span class="line"><span class="tok-builtin">@yFromX</span></span></code>. The goal of this change is to make code more readable by
    ensuring information flows in a consistent direction (right-to-left) through function-call-like
    expressions.
    </p>
    <p>
    The full list of affected builtins is as follows:
    </p>
    <table>
      <thead>
        <tr>
          <th>old name</th>
          <th>new name</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code><span class="line"><span class="tok-builtin">@boolToInt</span></span></code></td>
          <td><code><span class="line"><span class="tok-builtin">@intFromBool</span></span></code></td>
        </tr>
        <tr>
          <td><code><span class="line"><span class="tok-builtin">@enumToInt</span></span></code></td>
          <td><code><span class="line"><span class="tok-builtin">@intFromEnum</span></span></code></td>
        </tr>
        <tr>
          <td><code><span class="line"><span class="tok-builtin">@errorToInt</span></span></code></td>
          <td><code><span class="line"><span class="tok-builtin">@intFromError</span></span></code></td>
        </tr>
        <tr>
          <td><code><span class="line"><span class="tok-builtin">@floatToInt</span></span></code></td>
          <td><code><span class="line"><span class="tok-builtin">@intFromFloat</span></span></code></td>
        </tr>
        <tr>
          <td><code><span class="line"><span class="tok-builtin">@intToEnum</span></span></code></td>
          <td><code><span class="line"><span class="tok-builtin">@enumFromInt</span></span></code></td>
        </tr>
        <tr>
          <td><code><span class="line"><span class="tok-builtin">@intToError</span></span></code></td>
          <td><code><span class="line"><span class="tok-builtin">@errorFromInt</span></span></code></td>
        </tr>
        <tr>
          <td><code><span class="line"><span class="tok-builtin">@intToFloat</span></span></code></td>
          <td><code><span class="line"><span class="tok-builtin">@floatFromInt</span></span></code></td>
        </tr>
        <tr>
          <td><code><span class="line"><span class="tok-builtin">@intToPtr</span></span></code></td>
          <td><code><span class="line"><span class="tok-builtin">@ptrFromInt</span></span></code></td>
        </tr>
        <tr>
          <td><code><span class="line"><span class="tok-builtin">@ptrToInt</span></span></code></td>
          <td><code><span class="line"><span class="tok-builtin">@intFromPtr</span></span></code></td>
        </tr>
      </tbody>
    </table>
    <p>
    <code>zig fmt</code> will automatically update usages of the old builtin names in your code.
    </p>
    

    <h3 id="Cast-Inference"><a href="#toc-Cast-Inference">Cast Inference</a> <a class="hdr" href="#Cast-Inference">Â§</a></h3>

    <p>
    Zig 0.11.0 implements <a href="https://github.com/ziglang/zig/issues/5909">an accepted proposal</a>
    which changes how "casting" builtins (e.g. <code><span class="line"><span class="tok-builtin">@intCast</span></span></code>,
    <code><span class="line"><span class="tok-builtin">@enumFromInt</span></span></code>) behave. The goal of this change is to improve readability
    and safety.
    </p>
    <p>
    In previous versions of Zig, casting builtins took as a parameter the <b>destination type</b> of
    the cast, for instance <code><span class="line"><span class="tok-builtin">@intCast</span>(<span class="tok-type">u8</span>, x)</span></code>. This was easy to understand, but
    can lead to code duplication where a type must be repeated at the usage site despite already
    being specified as, for instance, a parameter type or field type.
    </p>
    <p>
    As a motivating example, consider a function parameter of type <code><span class="line"><span class="tok-type">u16</span></span></code> which
    you are passing a <code><span class="line"><span class="tok-type">u64</span></span></code>. You need to use <code><span class="line"><span class="tok-builtin">@intCast</span></span></code> to
    convert your value to the correct type. Now suppose that down the line, you find out the
    parameter needs to be a <code><span class="line"><span class="tok-type">u32</span></span></code> so you can pass in larger values. There is now
    a footgun here: if you don't change every <code><span class="line"><span class="tok-builtin">@intCast</span></span></code> to cast to the correct
    type, you have a silent bug in your program which may not cause a problem for a while, making it
    hard to spot.
    </p>
    <p>
    This is the basic pattern motivating this change. The idea is that instead of writing
    <code><span class="line">f(<span class="tok-builtin">@intCast</span>(<span class="tok-type">u16</span>, x))</span></code>, you instead write
    <code><span class="line">f(<span class="tok-builtin">@intCast</span>(x))</span></code>, and the destination type of the cast is inferred based on
    the type. This is not just about function parameters: it is also applicable to struct
    initializations, return values, and more.
    </p>
    <p>
    This language change removes the destination type parameter from all cast builtins. Instead,
    these builtins now use <a href="/documentation/0.11.0/#Reuslt-Location-Semantics">Result Location Semantics</a>
    to infer the result type of the cast from the expression's "result type". In essence, this means
    type inference is used. Most expressions which have a known concrete type for their operand will
    provide a result type. For instance:
    </p>
    <ul>
      <li><code><span class="line"><span class="tok-kw">const</span> x: T = e</span></code> gives <code>e</code> a result type of <code>T</code></li>
      <li><code><span class="line"><span class="tok-builtin">@as</span>(T, e)</span></code> gives <code>e</code> a result type of <code>T</code></li>
      <li><code><span class="line"><span class="tok-kw">return</span> e</span></code> gives <code>e</code> a result type of the function's return type</li>
      <li><code><span class="line">S{ .f = e }</span></code> gives <code>e</code> a result type of the type of the field <code>S.f</code></li>
      <li><code><span class="line">f(e)</span></code> gives <code>e</code> a result type of the first parameter type of <code>f</code></li>
    </ul>
    <p>
    The full list of affected cast builtins is as follows:
    </p>
    <ul>
      <li><code><span class="line"><span class="tok-builtin">@addrSpaceCast</span></span></code>, <code><span class="line"><span class="tok-builtin">@alignCast</span></span></code>, <code><span class="line"><span class="tok-builtin">@ptrCast</span></span></code></li>
      <li><code><span class="line"><span class="tok-builtin">@errSetCast</span></span></code>, <code><span class="line"><span class="tok-builtin">@floatCast</span></span></code>, <code><span class="line"><span class="tok-builtin">@intCast</span></span></code></li>
      <li><code><span class="line"><span class="tok-builtin">@intFromFloat</span></span></code>, <code><span class="line"><span class="tok-builtin">@enumFromInt</span></span></code>, <code><span class="line"><span class="tok-builtin">@floatFromInt</span></span></code>, <code><span class="line"><span class="tok-builtin">@ptrFromInt</span></span></code></li>
      <li><code><span class="line"><span class="tok-builtin">@truncate</span></span></code>, <code><span class="line"><span class="tok-builtin">@bitCast</span></span></code></li>
    </ul>
    <p>
    Using these builtins in an expression with no result type will give a compile error:
    </p>
    <figure><figcaption class="zig-cap"><cite class="file">no_cast_result_type.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">test</span> <span class="tok-str">&quot;cast without result type&quot;</span> {</span>
<span class="line">    <span class="tok-kw">const</span> x: <span class="tok-type">u16</span> = <span class="tok-number">200</span>;</span>
<span class="line">    <span class="tok-kw">const</span> y = <span class="tok-builtin">@intCast</span>(x);</span>
<span class="line">    _ = y;</span>
<span class="line">}</span></code></pre></figure><figure><figcaption class="shell-cap">Shell</figcaption><pre><samp>$ <kbd>zig test no_cast_result_type.zig</kbd>
<span class="sgr-1m">docgen_tmp/no_cast_result_type.zig:3:15: </span><span class="sgr-31m">error: </span><span class="sgr-1m">@intCast must have a known result type
</span>    const y = @intCast(x);
              <span class="sgr-32m">^~~~~~~~~~~
</span><span class="sgr-1m">docgen_tmp/no_cast_result_type.zig:3:15: </span><span class="sgr-36m">note: </span><span class="sgr-1m">use @as to provide explicit result type
</span>
</samp></pre></figure>
    <p>
    This error indicates one possible method of providing an explicit result type: using
    <code><span class="line"><span class="tok-builtin">@as</span></span></code>. This will always work, however it is usually not necessary. Instead,
    result types are normally inferred from type annotations, struct/array initialization expressions,
    parameter types, and so on.
    </p>
    <figure><figcaption class="zig-cap"><cite class="file">cast_result_type_inference.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">test</span> <span class="tok-str">&quot;infer cast result type from type annotation&quot;</span> {</span>
<span class="line">    <span class="tok-kw">const</span> x: <span class="tok-type">u16</span> = <span class="tok-number">200</span>;</span>
<span class="line">    <span class="tok-kw">const</span> y: <span class="tok-type">u8</span> = <span class="tok-builtin">@intCast</span>(x);</span>
<span class="line">    _ = y;</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">test</span> <span class="tok-str">&quot;infer cast result type from field type&quot;</span> {</span>
<span class="line">    <span class="tok-kw">const</span> S = <span class="tok-kw">struct</span> { x: <span class="tok-type">f32</span> };</span>
<span class="line">    <span class="tok-kw">const</span> val: <span class="tok-type">f64</span> = <span class="tok-number">123.456</span>;</span>
<span class="line">    <span class="tok-kw">const</span> s: S = .{ .x = <span class="tok-builtin">@floatCast</span>(val) };</span>
<span class="line">    _ = s;</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">test</span> <span class="tok-str">&quot;infer cast result type from parameter type&quot;</span> {</span>
<span class="line">    <span class="tok-kw">const</span> val: <span class="tok-type">u64</span> = <span class="tok-number">123</span>;</span>
<span class="line">    f(<span class="tok-builtin">@intCast</span>(val));</span>
<span class="line">}</span>
<span class="line"><span class="tok-kw">fn</span> <span class="tok-fn">f</span>(x: <span class="tok-type">u32</span>) <span class="tok-type">void</span> {</span>
<span class="line">    _ = x;</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">test</span> <span class="tok-str">&quot;infer cast result type from return type&quot;</span> {</span>
<span class="line">    _ = g(<span class="tok-number">123</span>);</span>
<span class="line">}</span>
<span class="line"><span class="tok-kw">fn</span> <span class="tok-fn">g</span>(x: <span class="tok-type">u64</span>) <span class="tok-type">u32</span> {</span>
<span class="line">    <span class="tok-kw">return</span> <span class="tok-builtin">@intCast</span>(x);</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">test</span> <span class="tok-str">&quot;explicitly annotate result type with @as&quot;</span> {</span>
<span class="line">    <span class="tok-kw">const</span> E = <span class="tok-kw">enum</span>(<span class="tok-type">u8</span>) { a, b };</span>
<span class="line">    <span class="tok-kw">const</span> x: <span class="tok-type">u8</span> = <span class="tok-number">1</span>;</span>
<span class="line">    _ = <span class="tok-builtin">@as</span>(E, <span class="tok-builtin">@enumFromInt</span>(x));</span>
<span class="line">}</span></code></pre></figure><figure><figcaption class="shell-cap">Shell</figcaption><pre><samp>$ <kbd>zig test cast_result_type_inference.zig</kbd>
1/5 test.infer cast result type from type annotation... OK
2/5 test.infer cast result type from field type... OK
3/5 test.infer cast result type from parameter type... OK
4/5 test.infer cast result type from return type... OK
5/5 test.explicitly annotate result type with @as... OK
All 5 tests passed.
</samp></pre></figure>

    <p>
    Where possible, <code>zig fmt</code> has been made to automatically migrate uses of the old builtins,
    using a naive translation based on <code>@as</code>. Most builtins can be automatically updated
    correctly, but there are a few exceptions.
    </p>
    <ul>
      <li><code><span class="line"><span class="tok-builtin">@addrSpaceCast</span></span></code> and <code><span class="line"><span class="tok-builtin">@alignCast</span></span></code> cannot be translated as the old usage does not provide the full result type. <code>zig fmt</code> will not modify it.</li>
      <li><code><span class="line"><span class="tok-builtin">@ptrCast</span></span></code> may sometimes decrease alignment where it previously did not, potentially triggering compile errors. This can be fixed by modifying the type to have the correct alignment.</li>
      <li><code><span class="line"><span class="tok-builtin">@truncate</span></span></code> will be translated incorrectly for vectors, causing a compile error. This can be fixed by changing the scalar type <code>T</code> to the vector type <code><span class="line"><span class="tok-builtin">@Vector</span>(n, T)</span></code>.</li>
      <li><code><span class="line"><span class="tok-builtin">@splat</span></span></code> cannot be translated as the old usage does not provide the full result type. <code>zig fmt</code> will not modify it.</li>
    </ul>

    <h4 id="Pointer-Casts"><a href="#toc-Pointer-Casts">Pointer Casts</a> <a class="hdr" href="#Pointer-Casts">Â§</a></h4>

    <p>
    The builtins <code><span class="line"><span class="tok-builtin">@addrSpaceCast</span></span></code> and <code><span class="line"><span class="tok-builtin">@alignCast</span></span></code> would
    become quite cumbersome to use under this system as described, since you would now have to specify
    the full intermediate pointer types. Instead, pointer casts (those two builtins and <code><span class="line"><span class="tok-builtin">@ptrCast</span></span></code>)
    are special. They combine into a single logical operation, with each builtin effectively
    "allowing" a particular component of the pointer to be cast rather than "performing" it. (Indeed,
    this may be a helpful mental model for the new cast builtins more generally.) This means any
    sequence of nested pointer cast builtins requires only one result type, rather than one at every
    intermediate computation.
    </p>
    <figure><figcaption class="zig-cap"><cite class="file">pointer_cast.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">test</span> <span class="tok-str">&quot;pointer casts&quot;</span> {</span>
<span class="line">    <span class="tok-kw">const</span> ptr1: *<span class="tok-kw">align</span>(<span class="tok-number">1</span>) <span class="tok-kw">const</span> <span class="tok-type">u32</span> = <span class="tok-builtin">@ptrFromInt</span>(<span class="tok-number">0x1000</span>);</span>
<span class="line">    <span class="tok-kw">const</span> ptr2: *<span class="tok-type">u64</span> = <span class="tok-builtin">@constCast</span>(<span class="tok-builtin">@alignCast</span>(<span class="tok-builtin">@ptrCast</span>(ptr1)));</span>
<span class="line">    _ = ptr2;</span>
<span class="line">}</span></code></pre></figure><figure><figcaption class="shell-cap">Shell</figcaption><pre><samp>$ <kbd>zig test pointer_cast.zig</kbd>
1/1 test.pointer casts... OK
All 1 tests passed.
</samp></pre></figure>
    

    <h4 id="splat"><a href="#toc-splat">@splat</a> <a class="hdr" href="#splat">Â§</a></h4>

    <p>
    The <code><span class="line"><span class="tok-builtin">@splat</span></span></code> builtin has undergone a similar change. It no longer has a
    parameter to indicate the length of the resulting vector, instead using the expression's result
    type to infer this and the type of its operand.
    </p>
    <figure><figcaption class="zig-cap"><cite class="file">splat_result_type.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">test</span> <span class="tok-str">&quot;@splat result type&quot;</span> {</span>
<span class="line">    <span class="tok-kw">const</span> vec: <span class="tok-builtin">@Vector</span>(<span class="tok-number">8</span>, <span class="tok-type">u8</span>) = <span class="tok-builtin">@splat</span>(<span class="tok-number">123</span>);</span>
<span class="line">    _ = vec;</span>
<span class="line">}</span></code></pre></figure><figure><figcaption class="shell-cap">Shell</figcaption><pre><samp>$ <kbd>zig test splat_result_type.zig</kbd>
1/1 test.@splat result type... OK
All 1 tests passed.
</samp></pre></figure>
    

    

    <h3 id="Tuple-Type-Declarations"><a href="#toc-Tuple-Type-Declarations">Tuple Type Declarations</a> <a class="hdr" href="#Tuple-Type-Declarations">Â§</a></h3>

    <p>Tuple types can now be declared using struct declaration syntax without the field types (#4335):</p>
    <figure><figcaption class="zig-cap"><cite class="file">tuple_decl.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">const</span> std = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;std&quot;</span>);</span>
<span class="line"><span class="tok-kw">const</span> expect = std.testing.expect;</span>
<span class="line"><span class="tok-kw">const</span> expectEqualStrings = std.testing.expectEqualStrings;</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">test</span> <span class="tok-str">&quot;tuple declarations&quot;</span> {</span>
<span class="line">    <span class="tok-kw">const</span> T = <span class="tok-kw">struct</span> { <span class="tok-type">u32</span>, []<span class="tok-kw">const</span> <span class="tok-type">u8</span> };</span>
<span class="line">    <span class="tok-kw">var</span> t: T = .{ <span class="tok-number">1</span>, <span class="tok-str">&quot;foo&quot;</span> };</span>
<span class="line">    <span class="tok-kw">try</span> expect(t[<span class="tok-number">0</span>] == <span class="tok-number">1</span>);</span>
<span class="line">    <span class="tok-kw">try</span> expectEqualStrings(t[<span class="tok-number">1</span>], <span class="tok-str">&quot;foo&quot;</span>);</span>
<span class="line"></span>
<span class="line">    <span class="tok-kw">var</span> mul = t ** <span class="tok-number">3</span>;</span>
<span class="line">    <span class="tok-kw">try</span> expect(<span class="tok-builtin">@TypeOf</span>(mul) != T);</span>
<span class="line">    <span class="tok-kw">try</span> expect(mul.len == <span class="tok-number">6</span>);</span>
<span class="line">    <span class="tok-kw">try</span> expect(mul[<span class="tok-number">2</span>] == <span class="tok-number">1</span>);</span>
<span class="line">    <span class="tok-kw">try</span> expectEqualStrings(mul[<span class="tok-number">3</span>], <span class="tok-str">&quot;foo&quot;</span>);</span>
<span class="line"></span>
<span class="line">    <span class="tok-kw">var</span> t2: T = .{ <span class="tok-number">2</span>, <span class="tok-str">&quot;bar&quot;</span> };</span>
<span class="line">    <span class="tok-kw">var</span> cat = t ++ t2;</span>
<span class="line">    <span class="tok-kw">try</span> expect(<span class="tok-builtin">@TypeOf</span>(cat) != T);</span>
<span class="line">    <span class="tok-kw">try</span> expect(cat.len == <span class="tok-number">4</span>);</span>
<span class="line">    <span class="tok-kw">try</span> expect(cat[<span class="tok-number">2</span>] == <span class="tok-number">2</span>);</span>
<span class="line">    <span class="tok-kw">try</span> expectEqualStrings(cat[<span class="tok-number">3</span>], <span class="tok-str">&quot;bar&quot;</span>);</span>
<span class="line">}</span></code></pre></figure><figure><figcaption class="shell-cap">Shell</figcaption><pre><samp>$ <kbd>zig test tuple_decl.zig</kbd>
1/1 test.tuple declarations... OK
All 1 tests passed.
</samp></pre></figure>
    <p>Packed and extern tuples are forbidden (#16551).</p>
    

    <h3 id="Concatenation-of-Arrays-and-Tuples"><a href="#toc-Concatenation-of-Arrays-and-Tuples">Concatenation of Arrays and Tuples</a> <a class="hdr" href="#Concatenation-of-Arrays-and-Tuples">Â§</a></h3>

    <figure><figcaption class="zig-cap"><cite class="file">tuple_array_cat.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">const</span> std = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;std&quot;</span>);</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">test</span> <span class="tok-str">&quot;concatenate array with tuple&quot;</span> {</span>
<span class="line">    <span class="tok-kw">const</span> array: [<span class="tok-number">2</span>]<span class="tok-type">u8</span> = .{ <span class="tok-number">1</span>, <span class="tok-number">2</span> };</span>
<span class="line">    <span class="tok-kw">const</span> seq = array ++ .{ <span class="tok-number">3</span>, <span class="tok-number">4</span> };</span>
<span class="line">    <span class="tok-kw">try</span> std.testing.expect(std.mem.eql(<span class="tok-type">u8</span>, &amp;seq, &amp;.{ <span class="tok-number">1</span>, <span class="tok-number">2</span>, <span class="tok-number">3</span>, <span class="tok-number">4</span> }));</span>
<span class="line">}</span></code></pre></figure><figure><figcaption class="shell-cap">Shell</figcaption><pre><samp>$ <kbd>zig test tuple_array_cat.zig</kbd>
1/1 test.concatenate array with tuple... OK
All 1 tests passed.
</samp></pre></figure>
    <p>
    This can be a nice tool when writing <a href="#Crypto">Crypto</a> code, and indeed
    is used extensively by the <a href="#Standard-Library">Standard Library</a> to avoid heap
    <a href="#Memory-Allocation">Memory Allocation</a> in the new <a href="#TLS-Client">TLS Client</a>.
    </p>
    

    <h3 id="Allow-Indexing-Tuple-and-Vector-Pointers"><a href="#toc-Allow-Indexing-Tuple-and-Vector-Pointers">Allow Indexing Tuple and Vector Pointers</a> <a class="hdr" href="#Allow-Indexing-Tuple-and-Vector-Pointers">Â§</a></h3>

    <p>
    Zig allows you to directly index pointers to arrays like plain arrays, which transparently
    dereferences the pointer as required. For consistency, this is now additionally allowed for
    pointers to tuples and vectors (the other non-pointer indexable types).
    </p>
    <figure><figcaption class="zig-cap"><cite class="file">index_tuple_vec_ptr.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">const</span> std = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;std&quot;</span>);</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">test</span> <span class="tok-str">&quot;index tuple pointer&quot;</span> {</span>
<span class="line">    <span class="tok-kw">var</span> raw: <span class="tok-kw">struct</span> { <span class="tok-type">u32</span>, <span class="tok-type">u32</span> } = .{ <span class="tok-number">1</span>, <span class="tok-number">2</span> };</span>
<span class="line">    <span class="tok-kw">const</span> ptr = &amp;raw;</span>
<span class="line"></span>
<span class="line">    <span class="tok-kw">try</span> std.testing.expectEqual(<span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">1</span>), ptr[<span class="tok-number">0</span>]);</span>
<span class="line">    <span class="tok-kw">try</span> std.testing.expectEqual(<span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">2</span>), ptr[<span class="tok-number">1</span>]);</span>
<span class="line"></span>
<span class="line">    ptr[<span class="tok-number">0</span>] = <span class="tok-number">3</span>;</span>
<span class="line">    ptr[<span class="tok-number">1</span>] = <span class="tok-number">4</span>;</span>
<span class="line"></span>
<span class="line">    <span class="tok-kw">try</span> std.testing.expectEqual(<span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">3</span>), ptr[<span class="tok-number">0</span>]);</span>
<span class="line">    <span class="tok-kw">try</span> std.testing.expectEqual(<span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">4</span>), ptr[<span class="tok-number">1</span>]);</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">test</span> <span class="tok-str">&quot;index vector pointer&quot;</span> {</span>
<span class="line">    <span class="tok-kw">var</span> raw: <span class="tok-builtin">@Vector</span>(<span class="tok-number">2</span>, <span class="tok-type">u32</span>) = .{ <span class="tok-number">1</span>, <span class="tok-number">2</span> };</span>
<span class="line">    <span class="tok-kw">const</span> ptr = &amp;raw;</span>
<span class="line"></span>
<span class="line">    <span class="tok-kw">try</span> std.testing.expectEqual(<span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">1</span>), ptr[<span class="tok-number">0</span>]);</span>
<span class="line">    <span class="tok-kw">try</span> std.testing.expectEqual(<span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">2</span>), ptr[<span class="tok-number">1</span>]);</span>
<span class="line"></span>
<span class="line">    ptr[<span class="tok-number">0</span>] = <span class="tok-number">3</span>;</span>
<span class="line">    ptr[<span class="tok-number">1</span>] = <span class="tok-number">4</span>;</span>
<span class="line"></span>
<span class="line">    <span class="tok-kw">try</span> std.testing.expectEqual(<span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">3</span>), ptr[<span class="tok-number">0</span>]);</span>
<span class="line">    <span class="tok-kw">try</span> std.testing.expectEqual(<span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">4</span>), ptr[<span class="tok-number">1</span>]);</span>
<span class="line">}</span></code></pre></figure><figure><figcaption class="shell-cap">Shell</figcaption><pre><samp>$ <kbd>zig test index_tuple_vec_ptr.zig</kbd>
1/2 test.index tuple pointer... OK
2/2 test.index vector pointer... OK
All 2 tests passed.
</samp></pre></figure>
    

    <h3 id="Overflow-Builtins-Return-Tuples"><a href="#toc-Overflow-Builtins-Return-Tuples">Overflow Builtins Return Tuples</a> <a class="hdr" href="#Overflow-Builtins-Return-Tuples">Â§</a></h3>

    <p>Now that we have started to get into writing our own <a href="#Code-Generation">Code Generation</a> and not
    relying exclusively on <a href="#LLVM-16">LLVM</a>, the flaw with the previous
    API becomes clear: writing the result through a pointer parameter makes it
    too hard to use a special value returned from the builtin and detect the
    pattern that allows lowering to the efficient code.</p>
    <p>Furthermore, the result pointer is incompatible with SIMD vectors
    (related: <a href="#Cast-Inference">Cast Inference</a>).</p>
    <p>Arithmetic overflow functions now return a tuple, like this:</p>
    <pre><code><span class="line"><span class="tok-builtin">@addOverflow</span>(a: T, b: T) <span class="tok-kw">struct</span> {T, <span class="tok-type">u1</span>}</span>
<span class="line"><span class="tok-builtin">@addOverflow</span>(a: <span class="tok-builtin">@Vector</span>(T, N), b: <span class="tok-builtin">@Vector</span>(T, N)) <span class="tok-kw">struct</span> {<span class="tok-builtin">@Vector</span>(T, N), <span class="tok-builtin">@Vector</span>(<span class="tok-type">u1</span>, N)}</span></code></pre>
    <p>If #498 were implemented, <code><span class="line">parseInt</span></code> would look like this:</p>
<pre><code><span class="line"><span class="tok-kw">fn</span> <span class="tok-fn">parseInt</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, buf: []<span class="tok-kw">const</span> <span class="tok-type">u8</span>, radix: <span class="tok-type">u8</span>) !T {</span>
<span class="line">    <span class="tok-kw">var</span> x: T = <span class="tok-number">0</span>;</span>
<span class="line"></span>
<span class="line">    <span class="tok-kw">for</span> (buf) |c| {</span>
<span class="line">        <span class="tok-kw">const</span> digit = <span class="tok-kw">switch</span> (c) {</span>
<span class="line">            <span class="tok-str">'0'</span>...<span class="tok-str">'9'</span> =&gt; c - <span class="tok-str">'0'</span>,</span>
<span class="line">            <span class="tok-str">'A'</span>...<span class="tok-str">'Z'</span> =&gt; c - <span class="tok-str">'A'</span> + <span class="tok-number">10</span>,</span>
<span class="line">            <span class="tok-str">'a'</span>...<span class="tok-str">'z'</span> =&gt; c - <span class="tok-str">'a'</span> + <span class="tok-number">10</span>,</span>
<span class="line">            <span class="tok-kw">else</span> =&gt; <span class="tok-kw">return</span> <span class="tok-kw">error</span>.InvalidCharacter,</span>
<span class="line">        };</span>
<span class="line">        x, <span class="tok-kw">const</span> mul_overflow = <span class="tok-builtin">@mulWithOverflow</span>(x, radix);</span>
<span class="line">        <span class="tok-kw">if</span> (mul_overflow != <span class="tok-number">0</span>) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.Overflow;</span>
<span class="line"></span>
<span class="line">        x, <span class="tok-kw">const</span> add_overflow = <span class="tok-builtin">@addWithOverflow</span>(x, digit);</span>
<span class="line">        <span class="tok-kw">if</span> (add_overflow != <span class="tok-number">0</span>) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.Overflow;</span>
<span class="line">    }</span>
<span class="line"></span>
<span class="line">    <span class="tok-kw">return</span> x;</span>
<span class="line">}</span></code></pre>
    <p>However #498 is neither implemented nor accepted yet, so actual usage must do this:</p>
    <pre><code><span class="line"><span class="tok-kw">const</span> std = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;std&quot;</span>);</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">fn</span> <span class="tok-fn">parseInt</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, buf: []<span class="tok-kw">const</span> <span class="tok-type">u8</span>, radix: <span class="tok-type">u8</span>) !T {</span>
<span class="line">    <span class="tok-kw">var</span> x: T = <span class="tok-number">0</span>;</span>
<span class="line"></span>
<span class="line">    <span class="tok-kw">for</span> (buf) |c| {</span>
<span class="line">        <span class="tok-kw">const</span> digit = <span class="tok-kw">switch</span> (c) {</span>
<span class="line">            <span class="tok-str">'0'</span>...<span class="tok-str">'9'</span> =&gt; c - <span class="tok-str">'0'</span>,</span>
<span class="line">            <span class="tok-str">'A'</span>...<span class="tok-str">'Z'</span> =&gt; c - <span class="tok-str">'A'</span> + <span class="tok-number">10</span>,</span>
<span class="line">            <span class="tok-str">'a'</span>...<span class="tok-str">'z'</span> =&gt; c - <span class="tok-str">'a'</span> + <span class="tok-number">10</span>,</span>
<span class="line">            <span class="tok-kw">else</span> =&gt; <span class="tok-kw">return</span> <span class="tok-kw">error</span>.InvalidCharacter,</span>
<span class="line">        };</span>
<span class="line">        <span class="tok-kw">const</span> mul_result = <span class="tok-builtin">@mulWithOverflow</span>(x, radix);</span>
<span class="line">        x = mul_result[<span class="tok-number">0</span>];</span>
<span class="line">        <span class="tok-kw">const</span> mul_overflow = mul_result[<span class="tok-number">1</span>];</span>
<span class="line">        <span class="tok-kw">if</span> (mul_overflow != <span class="tok-number">0</span>) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.Overflow;</span>
<span class="line"></span>
<span class="line">        <span class="tok-kw">const</span> add_result = <span class="tok-builtin">@addWithOverflow</span>(x, digit);</span>
<span class="line">        x = add_result[<span class="tok-number">0</span>];</span>
<span class="line">        <span class="tok-kw">const</span> add_overflow = add_result[<span class="tok-number">1</span>];</span>
<span class="line">        <span class="tok-kw">if</span> (add_overflow != <span class="tok-number">0</span>) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.Overflow;</span>
<span class="line">    }</span>
<span class="line"></span>
<span class="line">    <span class="tok-kw">return</span> x;</span>
<span class="line">}</span></code></pre>
    <p>More details: #10248</p>
    

    <h3 id="Slicing-By-Length"><a href="#toc-Slicing-By-Length">Slicing By Length</a> <a class="hdr" href="#Slicing-By-Length">Â§</a></h3>

    <p>This is technically not a <em>change</em> to the language, however,
    it bears mentioning in the language changes section, because it makes a particular
    idiom be even more idiomatic, by recognizing the pattern directly in the <a href="#Compiler">Compiler</a>.</p>
    <p>This pattern is extremely common:</p>
    <figure><figcaption class="zig-cap"><cite class="file">slice_by_len.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">fn</span> <span class="tok-fn">foo</span>(s: []<span class="tok-kw">const</span> <span class="tok-type">i32</span>, start: <span class="tok-type">usize</span>, len: <span class="tok-type">usize</span>) []<span class="tok-kw">const</span> <span class="tok-type">i32</span> {</span>
<span class="line">    <span class="tok-kw">return</span> s[start..][<span class="tok-number">0</span>..len];</span>
<span class="line">}</span></code></pre></figure>
    <p>The pattern is useful because it is effectively a slice-by-length rather than
    slice by end index. With this pattern, when <code>len</code> is compile-time known,
    the expression will be a pointer to an array rather than a slice type, which is generally
    a preferrable type.</p>
    <p>Zig 0.11.0 now detects this pattern and generates more efficient code.</p>
    <p>You can think of Zig as having both slice-by-end and slice-by-len syntax, it's just
    that one of them is expressed in terms of the other.</p>
    <p>More details: #15482</p>
    

    <h3 id="Inline-Function-Call-Comptime-Propagation"><a href="#toc-Inline-Function-Call-Comptime-Propagation">Inline Function Call Comptime Propagation</a> <a class="hdr" href="#Inline-Function-Call-Comptime-Propagation">Â§</a></h3>

    <figure><figcaption class="zig-cap"><cite class="file">inline_call.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">const</span> std = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;std&quot;</span>);</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">var</span> call_count: <span class="tok-type">u32</span> = <span class="tok-number">0</span>;</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">isGreaterThan</span>(x: <span class="tok-type">i32</span>, y: <span class="tok-type">i32</span>) <span class="tok-type">bool</span> {</span>
<span class="line">    call_count += <span class="tok-number">1</span>;</span>
<span class="line">    <span class="tok-kw">return</span> x &gt; y;</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">test</span> <span class="tok-str">&quot;inline call comptime propagation&quot;</span> {</span>
<span class="line">    <span class="tok-comment">// Runtime-known parameters to inline function, nothing new here.</span></span>
<span class="line">    <span class="tok-kw">var</span> a: <span class="tok-type">i32</span> = <span class="tok-number">1234</span>;</span>
<span class="line">    <span class="tok-kw">var</span> b: <span class="tok-type">i32</span> = <span class="tok-number">5678</span>;</span>
<span class="line">    <span class="tok-kw">try</span> std.testing.expect(!isGreaterThan(a, b));</span>
<span class="line"></span>
<span class="line">    <span class="tok-comment">// Now it gets interesting...</span></span>
<span class="line">    <span class="tok-kw">const</span> c = <span class="tok-number">1234</span>;</span>
<span class="line">    <span class="tok-kw">const</span> d = <span class="tok-number">5678</span>;</span>
<span class="line">    <span class="tok-kw">if</span> (isGreaterThan(c, d)) {</span>
<span class="line">        <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;that wasn't supposed to happen&quot;</span>);</span>
<span class="line">    }</span>
<span class="line"></span>
<span class="line">    <span class="tok-kw">try</span> std.testing.expect(call_count == <span class="tok-number">2</span>);</span>
<span class="line">}</span></code></pre></figure><figure><figcaption class="shell-cap">Shell</figcaption><pre><samp>$ <kbd>zig test inline_call.zig</kbd>
1/1 test.inline call comptime propagation... OK
All 1 tests passed.
</samp></pre></figure>
    <p>In this example, there is no compile error because the comptime-ness of the
    arguments is propagated to the return value of the inlined function. However,
    as demonstrated by the <code>call_count</code> global variable, runtime side-effects of
    the inlined function still occur.</p>
    <p>The <code><span class="line"><span class="tok-kw">inline</span></span></code> keyword in Zig is an extremely powerful tool that
    should not be used lightly. It's best to let the compiler decide when to
    inline a function, except for these scenarios:</p>
    <ul>
      <li>You want to change how many stack frames are in the call stack, for debugging purposes.</li>
      <li>You want the comptime-ness of the arguments to propagate to the return value of the function, as demonstrated above.</li>
      <li>Performance measurements <em>demand</em> it. Donâ€™t guess!</li>
    </ul>
    

    <h3 id="Exporting-C-Variadic-Functions"><a href="#toc-Exporting-C-Variadic-Functions">Exporting C Variadic Functions</a> <a class="hdr" href="#Exporting-C-Variadic-Functions">Â§</a></h3>

    <p>Generally we don't want zig programmers to use C-style variadic
    functions. But sometimes you have to interface with C code.</p>
    <p>Here are two use cases for it:</p>
    <ul>
    <li>Implementing libc in Zig</li>
    <li><a href="#C-Translation">C Translation</a>, for example an inline static function in MSVC's stdio.h</li>
    </ul>

    <p>Only some targets support this new feature:</p>
    <ul>
      <li><a href="https://github.com/ziglang/zig/issues/14096">exporting a C var args function triggers LLVM assertion when targeting non-Darwin aarch64</a>
      <li>It's also not working on <a href="#Windows">Windows</a>.</li>
    </ul>
    <p>That makes this feature <strong>experimental</strong> because it does not disqualify
    a target from <a href="#Tier-1-Support">Tier 1 Support</a> if it does not support C-style var args.</p>
    <p>More information: #515</p>
    

    <h3 id="Added-c_char-Type"><a href="#toc-Added-c_char-Type">Added c_char Type</a> <a class="hdr" href="#Added-c_char-Type">Â§</a></h3>

    <p>This is strictly for <a href="#C-ABI-Compatibility">C ABI Compatibility</a> and should only be used
    when it is required by the ABI.</p>
    <p>See #875 for more details.</p>
    

    <h3 id="Forbid-Runtime-Operations-in-comptime-Blocks-"><a href="#toc-Forbid-Runtime-Operations-in-comptime-Blocks-">Forbid Runtime Operations in comptime Blocks </a> <a class="hdr" href="#Forbid-Runtime-Operations-in-comptime-Blocks-">Â§</a></h3>

    <p>
    Previously, <code><span class="line"><span class="tok-kw">comptime</span></span></code> blocks in runtime code worked in a highly unintuitive
    way: they <a href="https://github.com/ziglang/zig/issues/7056">did not actually enforce compile-time
    evaluation of their bodies</a>. This has been resolved in 0.11.0. The entire body of a <code><span class="line"><span class="tok-kw">comptime</span></span></code>
    block will now be evaluated at compile time, and a compile error is triggered if this is not possible.
    </p>
    <figure><figcaption class="zig-cap"><cite class="file">comptime_block.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">test</span> <span class="tok-str">&quot;runtime operations in comptime block&quot;</span> {</span>
<span class="line">    <span class="tok-kw">var</span> x: <span class="tok-type">u32</span> = <span class="tok-number">1</span>;</span>
<span class="line">    <span class="tok-kw">comptime</span> {</span>
<span class="line">        x += <span class="tok-number">1</span>;</span>
<span class="line">    }</span>
<span class="line">}</span></code></pre></figure><figure><figcaption class="shell-cap">Shell</figcaption><pre><samp>$ <kbd>zig test comptime_block.zig</kbd>
<span class="sgr-1m">docgen_tmp/comptime_block.zig:4:11: </span><span class="sgr-31m">error: </span><span class="sgr-1m">unable to evaluate comptime expression
</span>        x += 1;
        <span class="sgr-32m">~~^~~~
</span><span class="sgr-1m">docgen_tmp/comptime_block.zig:4:9: </span><span class="sgr-36m">note: </span><span class="sgr-1m">operation is runtime due to this operand
</span>        x += 1;
        <span class="sgr-32m">^
</span>
</samp></pre></figure>
    <p>
    This change has one particularly notable consequence. Previously, it was allowed to <code><span class="line"><span class="tok-kw">return</span></span></code>
    from a runtime function within a <code><span class="line"><span class="tok-kw">comptime</span></span></code> block. However, this is illogical:
    the return cannot actually happen at comptime, since this function is being called at runtime. Therefore, this is
    now illegal.
    </p>
    <figure><figcaption class="zig-cap"><cite class="file">return_from_comptime_block.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">const</span> expectEqual = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;std&quot;</span>).testing.expectEqual;</span>
<span class="line"><span class="tok-kw">test</span> <span class="tok-str">&quot;return from runtime function in comptime block&quot;</span> {</span>
<span class="line">    <span class="tok-kw">try</span> expectEqual(<span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">123</span>), f());</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">fn</span> <span class="tok-fn">f</span>() <span class="tok-type">u32</span> {</span>
<span class="line">    <span class="tok-comment">// We want to call `foo` at comptime</span></span>
<span class="line">    <span class="tok-kw">comptime</span> {</span>
<span class="line">        <span class="tok-kw">return</span> foo();</span>
<span class="line">    }</span>
<span class="line">}</span>
<span class="line"><span class="tok-kw">fn</span> <span class="tok-fn">foo</span>() <span class="tok-type">u32</span> {</span>
<span class="line">    <span class="tok-kw">return</span> <span class="tok-number">123</span>;</span>
<span class="line">}</span></code></pre></figure><figure><figcaption class="shell-cap">Shell</figcaption><pre><samp>$ <kbd>zig test return_from_comptime_block.zig</kbd>
<span class="sgr-1m">docgen_tmp/return_from_comptime_block.zig:9:9: </span><span class="sgr-31m">error: </span><span class="sgr-1m">function called at runtime cannot return value at comptime
</span>        return foo();
        <span class="sgr-32m">^~~~~~~~~~~~
</span><span class="sgr-2m">referenced by:
    test.return from runtime function in comptime block: docgen_tmp/return_from_comptime_block.zig:3:36
    remaining reference traces hidden; use '-freference-trace' to see all reference traces
</span>
</samp></pre></figure>
    <p>
    The workaround for this issue is to <i>compute</i> the return value at comptime, but <i>return</i>
    it at runtime:
    </p>
    <figure><figcaption class="zig-cap"><cite class="file">compute_return_from_comptime_block.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">const</span> expectEqual = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;std&quot;</span>).testing.expectEqual;</span>
<span class="line"><span class="tok-kw">test</span> <span class="tok-str">&quot;compute return value of runtime function in comptime block&quot;</span> {</span>
<span class="line">    <span class="tok-kw">try</span> expectEqual(<span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">123</span>), f());</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">fn</span> <span class="tok-fn">f</span>() <span class="tok-type">u32</span> {</span>
<span class="line">    <span class="tok-comment">// We want to call `foo` at comptime</span></span>
<span class="line">    <span class="tok-kw">return</span> <span class="tok-kw">comptime</span> foo();</span>
<span class="line">}</span>
<span class="line"><span class="tok-kw">fn</span> <span class="tok-fn">foo</span>() <span class="tok-type">u32</span> {</span>
<span class="line">    <span class="tok-kw">return</span> <span class="tok-number">123</span>;</span>
<span class="line">}</span></code></pre></figure><figure><figcaption class="shell-cap">Shell</figcaption><pre><samp>$ <kbd>zig test compute_return_from_comptime_block.zig</kbd>
1/1 test.compute return value of runtime function in comptime block... OK
All 1 tests passed.
</samp></pre></figure>
    <p>
    This change similarly disallows <code><span class="line"><span class="tok-kw">comptime</span> <span class="tok-kw">try</span></span></code> from within a runtime function,
    since on error this attempts to return a value at compile time. To retain the old behavior, this
    sequence should be replaced with <code><span class="line"><span class="tok-kw">try</span> <span class="tok-kw">comptime</span></span></code>.
    </p>
    

    <h3 id="intFromBool-always-returns-u1"><a href="#toc-intFromBool-always-returns-u1">@intFromBool always returns u1</a> <a class="hdr" href="#intFromBool-always-returns-u1">Â§</a></h3>

    <p>
    The <code><span class="line"><span class="tok-builtin">@intFromBool</span></span></code> builtin (previously called
    <code><span class="line"><span class="tok-builtin">@boolToInt</span></span></code>) previously returned either a <code><span class="line"><span class="tok-type">u1</span></span></code> or a
    <code><span class="line"><span class="tok-type">comptime_int</span></span></code>, depending on whether or not it was evaluated at
    <code><span class="line"><span class="tok-kw">comptime</span></span></code>. It has since been changed to always return a
    <code><span class="line"><span class="tok-type">u1</span></span></code> to improve consistency between code running at runtime and comptime.
    </p>
    <figure><figcaption class="zig-cap"><cite class="file">int_from_bool.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">const</span> std = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;std&quot;</span>);</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">test</span> <span class="tok-str">&quot;@intFromBool returns u1&quot;</span> {</span>
<span class="line">    <span class="tok-kw">const</span> x = <span class="tok-builtin">@intFromBool</span>(<span class="tok-null">true</span>); <span class="tok-comment">// implicitly evaluated at comptime</span></span>
<span class="line">    <span class="tok-kw">const</span> y = <span class="tok-kw">comptime</span> <span class="tok-builtin">@intFromBool</span>(<span class="tok-null">true</span>); <span class="tok-comment">// explicitly evaluated at comptime</span></span>
<span class="line"></span>
<span class="line">    <span class="tok-kw">try</span> std.testing.expect(<span class="tok-builtin">@TypeOf</span>(x) == <span class="tok-type">u1</span>);</span>
<span class="line">    <span class="tok-kw">try</span> std.testing.expect(<span class="tok-builtin">@TypeOf</span>(y) == <span class="tok-type">u1</span>);</span>
<span class="line"></span>
<span class="line">    <span class="tok-kw">try</span> std.testing.expect(x == <span class="tok-number">1</span>);</span>
<span class="line">    <span class="tok-kw">try</span> std.testing.expect(y == <span class="tok-number">1</span>);</span>
<span class="line">}</span></code></pre></figure><figure><figcaption class="shell-cap">Shell</figcaption><pre><samp>$ <kbd>zig test int_from_bool.zig</kbd>
1/1 test.@intFromBool returns u1... OK
All 1 tests passed.
</samp></pre></figure>

    

    <h3 id="fieldParentPtr-Supports-Unions"><a href="#toc-fieldParentPtr-Supports-Unions">@fieldParentPtr Supports Unions</a> <a class="hdr" href="#fieldParentPtr-Supports-Unions">Â§</a></h3>

    <p>It already worked on structs; there was no reason for it to not work on unions (#6611).</p>
    <figure><figcaption class="zig-cap"><cite class="file">field_parent_ptr_union.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">const</span> std = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;std&quot;</span>);</span>
<span class="line"><span class="tok-kw">const</span> expect = std.testing.expect;</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">test</span> <span class="tok-str">&quot;@fieldParentPtr on a union&quot;</span> {</span>
<span class="line">    <span class="tok-kw">try</span> quux(&amp;bar.c);</span>
<span class="line">    <span class="tok-kw">comptime</span> <span class="tok-kw">try</span> quux(&amp;bar.c);</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">const</span> bar = Bar{ .c = <span class="tok-number">42</span> };</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">const</span> Bar = <span class="tok-kw">union</span>(<span class="tok-kw">enum</span>) {</span>
<span class="line">    a: <span class="tok-type">bool</span>,</span>
<span class="line">    b: <span class="tok-type">f32</span>,</span>
<span class="line">    c: <span class="tok-type">i32</span>,</span>
<span class="line">    d: <span class="tok-type">i32</span>,</span>
<span class="line">};</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">fn</span> <span class="tok-fn">quux</span>(c: *<span class="tok-kw">const</span> <span class="tok-type">i32</span>) !<span class="tok-type">void</span> {</span>
<span class="line">    <span class="tok-kw">try</span> expect(c == &amp;bar.c);</span>
<span class="line"></span>
<span class="line">    <span class="tok-kw">const</span> base = <span class="tok-builtin">@fieldParentPtr</span>(Bar, <span class="tok-str">&quot;c&quot;</span>, c);</span>
<span class="line">    <span class="tok-kw">try</span> expect(base == &amp;bar);</span>
<span class="line">    <span class="tok-kw">try</span> expect(&amp;base.c == c);</span>
<span class="line">}</span></code></pre></figure><figure><figcaption class="shell-cap">Shell</figcaption><pre><samp>$ <kbd>zig test field_parent_ptr_union.zig</kbd>
1/1 test.@fieldParentPtr on a union... OK
All 1 tests passed.
</samp></pre></figure>
    <p>Calling <code><span class="line"><span class="tok-builtin">@fieldParentPtr</span></span></code> on a pointer that is not actually
    a field of the parent type is currently <strong>unchecked illegal behavior</strong>,
    however there is an accepted proposal to add it:
    <a href="https://github.com/ziglang/zig/issues/2414">add safety checks for pointer casting</a></p>
    

    <h3 id="typeInfo-No-Longer-Returns-Private-Declarations"><a href="#toc-typeInfo-No-Longer-Returns-Private-Declarations">@typeInfo No Longer Returns Private Declarations</a> <a class="hdr" href="#typeInfo-No-Longer-Returns-Private-Declarations">Â§</a></h3>

    <p>It was a <a href="#Bug-Fixes">bug</a> that private declarations were included
    in the result of <code><span class="line"><span class="tok-builtin">@typeInfo</span></span></code> (#10731).</p>
    <p>The <code><span class="line">is_pub</span></code> field has been removed from
      <code><span class="line">std.builtin.Type.Declaration</span></code>.</p>
    

    <h3 id="Zero-Sized-Fields-Allowed-in-Extern-Structs"><a href="#toc-Zero-Sized-Fields-Allowed-in-Extern-Structs">Zero-Sized Fields Allowed in Extern Structs</a> <a class="hdr" href="#Zero-Sized-Fields-Allowed-in-Extern-Structs">Â§</a></h3>

    <p>Zero-sized fields are now allowed in <code><span class="line"><span class="tok-kw">extern</span> <span class="tok-kw">struct</span></span></code> types, because
    they do not compromise the well-defined memory layout (#16404).</p>
    <figure><figcaption class="zig-cap"><cite class="file">ice_cream.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">const</span> builtin = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;builtin&quot;</span>);</span>
<span class="line"><span class="tok-kw">const</span> std = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;std&quot;</span>);</span>
<span class="line"><span class="tok-kw">const</span> expect = std.testing.expect;</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">const</span> T = <span class="tok-kw">extern</span> <span class="tok-kw">struct</span> {</span>
<span class="line">    blah: <span class="tok-type">i32</span>,</span>
<span class="line">    ice_cream: <span class="tok-kw">if</span> (builtin.is_test) <span class="tok-type">void</span> <span class="tok-kw">else</span> <span class="tok-type">i32</span>,</span>
<span class="line">};</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">test</span> <span class="tok-str">&quot;no ice cream&quot;</span> {</span>
<span class="line">    <span class="tok-kw">var</span> t: T = .{</span>
<span class="line">        .blah = <span class="tok-number">1234</span>,</span>
<span class="line">        .ice_cream = {},</span>
<span class="line">    };</span>
<span class="line">    <span class="tok-kw">try</span> expect(t.blah == <span class="tok-number">1234</span>);</span>
<span class="line">}</span></code></pre></figure><figure><figcaption class="shell-cap">Shell</figcaption><pre><samp>$ <kbd>zig test ice_cream.zig</kbd>
1/1 test.no ice cream... OK
All 1 tests passed.
</samp></pre></figure>
    <p>This change allows the following types to appear in extern structs:</p>
    <ul>
      <li>Zero-bit integers</li>
      <li><code><span class="line"><span class="tok-type">void</span></span></code></li>
      <li>zero-sized structs and packed structs</li>
      <li>enums with zero-bit backing integers</li>
      <li>arrays of any length with zero-size elements</li>
    </ul>
    <p>Note that packed structs are already allowed in extern structs, provided that their
    backing integer is allowed.</p>
    

    <h3 id="Eliminate-Bound-Functions"><a href="#toc-Eliminate-Bound-Functions">Eliminate Bound Functions</a> <a class="hdr" href="#Eliminate-Bound-Functions">Â§</a></h3>

    <p>Did you know Zig had bound functions?</p>
    <p>No? I rest my case. Good riddance!</p>
    <p>The following code was valid in 0.10, but is not any more:</p>
<figure><figcaption class="zig-cap"><cite class="file">bound_functions.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">const</span> std = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;std&quot;</span>);</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">test</span> <span class="tok-str">&quot;bound functions&quot;</span> {</span>
<span class="line">    <span class="tok-kw">var</span> runtime_true = <span class="tok-null">true</span>;</span>
<span class="line"></span>
<span class="line">    <span class="tok-comment">// This code was valid in 0.10, and gave 'x' a &quot;bound function&quot; type.</span></span>
<span class="line">    <span class="tok-comment">// Bound functions have been removed from the language, so this code is no longer valid.</span></span>
<span class="line">    <span class="tok-kw">const</span> obj: Foo = .{};</span>
<span class="line">    <span class="tok-kw">const</span> x = <span class="tok-kw">if</span> (runtime_true) obj.a <span class="tok-kw">else</span> obj.b;</span>
<span class="line"></span>
<span class="line">    <span class="tok-kw">try</span> std.testing.expect(x() == <span class="tok-str">'a'</span>);</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">const</span> Foo = <span class="tok-kw">struct</span> {</span>
<span class="line">    <span class="tok-kw">fn</span> <span class="tok-fn">a</span>(_: Foo) <span class="tok-type">u8</span> {</span>
<span class="line">        <span class="tok-kw">return</span> <span class="tok-str">'a'</span>;</span>
<span class="line">    }</span>
<span class="line">    <span class="tok-kw">fn</span> <span class="tok-fn">b</span>(_: Foo) <span class="tok-type">u8</span> {</span>
<span class="line">        <span class="tok-kw">return</span> <span class="tok-str">'b'</span>;</span>
<span class="line">    }</span>
<span class="line">};</span></code></pre></figure><figure><figcaption class="shell-cap">Shell</figcaption><pre><samp>$ <kbd>zig test bound_functions.zig</kbd>
<span class="sgr-1m">docgen_tmp/bound_functions.zig:9:37: </span><span class="sgr-31m">error: </span><span class="sgr-1m">no field named 'a' in struct 'bound_functions.Foo'
</span>    const x = if (runtime_true) obj.a else obj.b;
                                    <span class="sgr-32m">^
</span><span class="sgr-1m">docgen_tmp/bound_functions.zig:14:13: </span><span class="sgr-36m">note: </span><span class="sgr-1m">struct declared here
</span>const Foo = struct {
            <span class="sgr-32m">^~~~~~
</span>
</samp></pre></figure>
    <p>
    Method calls are now restricted to the exact syntactic form <code><span class="line">a.b(args)</span></code>.
    Any deviation from this syntax - for instance, extra parentheses as in
    <code><span class="line">(a.b)(args)</span></code> - will be treated as a field access.
    </p>
    

    <h3 id="call-Stack"><a href="#toc-call-Stack">@call Stack</a> <a class="hdr" href="#call-Stack">Â§</a></h3>

    <p>The <code>stack</code> option has been removed from <code><span class="line"><span class="tok-builtin">@call</span></span></code> (#13907).</p>
    <p>There is no upgrade path for this one, I'm afraid. This feature has proven difficult
    to implement in the <a href="#LLVM-Backend">LLVM Backend</a>.</p>
    <p>More investigation will be needed to see if something that solves the use case
    of switching call stacks can be brought back to the language before Zig reaches 1.0.</p>
    

    <h3 id="Allow-Tautological-Integer-Comparisons"><a href="#toc-Allow-Tautological-Integer-Comparisons">Allow Tautological Integer Comparisons</a> <a class="hdr" href="#Allow-Tautological-Integer-Comparisons">Â§</a></h3>

    <p>
    Previously, comparing an integer to a comptime-known value required that value to fit in the
    integer type. For instance, comparing a <code><span class="line"><span class="tok-type">u8</span></span></code> to <code><span class="line"><span class="tok-number">500</span></span></code>
    was a compile error. However, such comparisons can be useful when writing generic or future-proof
    code.
    </p>
    <p>
    As such, comparisons of this form are now allowed. However, since these comparisons are
    tautological, they do not cause any runtime checks: instead, the result is comptime-known based
    on the type. For instance, <code><span class="line">my_u8 == <span class="tok-number">500</span></span></code> is comptime-known
    <code><span class="line"><span class="tok-null">true</span></span></code>, even if <code><span class="line">my_u8</span></code> is not itself comptime-known.
    </p>
    <figure><figcaption class="zig-cap"><cite class="file">tautological_compare_comptime.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">test</span> <span class="tok-str">&quot;tautological comparisons are comptime-known&quot;</span> {</span>
<span class="line">    <span class="tok-kw">var</span> x: <span class="tok-type">u8</span> = <span class="tok-number">123</span>;</span>
<span class="line">    <span class="tok-kw">if</span> (x &gt; <span class="tok-number">500</span>) <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;unreachable branch analyzed&quot;</span>);</span>
<span class="line">    <span class="tok-kw">if</span> (x == -<span class="tok-number">20</span>) <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;unreachable branch analyzed&quot;</span>);</span>
<span class="line">    <span class="tok-kw">if</span> (x &lt; <span class="tok-number">0</span>) <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;unreachable branch analyzed&quot;</span>);</span>
<span class="line">    <span class="tok-kw">if</span> (x != <span class="tok-number">500</span>) {} <span class="tok-kw">else</span> <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;unreachable branch analyzed&quot;</span>);</span>
<span class="line">}</span></code></pre></figure><figure><figcaption class="shell-cap">Shell</figcaption><pre><samp>$ <kbd>zig test tautological_compare_comptime.zig</kbd>
1/1 test.tautological comparisons are comptime-known... OK
All 1 tests passed.
</samp></pre></figure>
    

    <h3 id="Forbid-Source-Files-Being-Part-of-Multiple-Modules"><a href="#toc-Forbid-Source-Files-Being-Part-of-Multiple-Modules">Forbid Source Files Being Part of Multiple Modules</a> <a class="hdr" href="#Forbid-Source-Files-Being-Part-of-Multiple-Modules">Â§</a></h3>

    <p>
    A Zig module (previously known as "package") is a collection of source files, with a single root
    source file, which can be imported in your code by name. For instance, <code><span class="line">std</span></code>
    is a module. An interesting case comes up when two modules attempt to
    <code><span class="line"><span class="tok-builtin">@import</span></span></code> the same source file.
    </p>
    <p>
    Previously, when this happened, the source file became "owned" by whichever import the compiler
    happened to reach first. This was a problem, because it could lead to inconsistent behavior in
    the compiler based on a race condition. This could be fixed by having the compiler analyzing the
    files multiple times - once for each module they're imported from - however, this could lead to
    slowdowns in compile times, and generally this kind of structure is indicative of a mistake
    anyway.
    </p>
    <p>
    Therefore, another solution was chosen: <b>having a single source file within multiple modules is
    now illegal</b>. When a source file is encountered in two different modules, an error like the following
    will be emitted:
    </p>
    <figure><figcaption class="shell-cap">Shell</figcaption><pre><samp>$ <kbd>ls</kbd>
foo.zig  main.zig  common.zig

$ <kbd>cat common.zig</kbd>
// An empty file

$ <kbd>cat foo.zig</kbd>
// This is the root of the 'foo' module
pub const common = @import(&quot;common.zig&quot;);

$ <kbd>cat main.zig</kbd>
// This file is the root of the main module
comptime {
    _ = @import(&quot;foo&quot;).common;
    _ = @import(&quot;common.zig&quot;);
}

$ <kbd>zig test main.zig --mod foo::foo.zig --deps foo</kbd>
common.zig:1:1: error: file exists in multiple modules
main.zig:4:17: note: imported from module root
    _ = @import(&quot;common.zig&quot;);
                ^~~~~~~~~~~~
foo.zig:2:28: note: imported from module root.foo
pub const common = @import(&quot;common.zig&quot;);
                           ^~~~~~~~~~~~
</samp></pre></figure>
    <p>
    The correct way to resolve this error is usually to factor the shared file out into its own
    module, which other modules can then import. This can be done in the build system using
    <code><span class="line">std.Build.addModule</span></code>.
    </p>
    

    <h3 id="Single-Item-Array-Pointers-Gain-ptr-Field"><a href="#toc-Single-Item-Array-Pointers-Gain-ptr-Field">Single-Item Array Pointers Gain .ptr Field</a> <a class="hdr" href="#Single-Item-Array-Pointers-Gain-ptr-Field">Â§</a></h3>

    <p>
    In general, it is intended to single-item array pointers to act equivalently to a slice. That
    is, <code><span class="line">*<span class="tok-kw">const</span> [<span class="tok-number">5</span>]<span class="tok-type">u8</span></span></code> is essentially equivalent to
    <code><span class="line">[]<span class="tok-kw">const</span> <span class="tok-type">u8</span></span></code> but with a comptime-known length.
    </p>
    <p>
    Previously, the <code><span class="line">ptr</span></code> field on slices was an exception to this rule, as it
    did not exist on single-item array pointers. This field
    <a href="https://github.com/ziglang/zig/issues/4765">has been added</a>, and is equivalent to
    simple coercion from <code><span class="line">*[N]T</span></code> to <code><span class="line">[*]T</span></code>.
    </p>
    <figure><figcaption class="zig-cap"><cite class="file">array_pointer_ptr_field.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">const</span> std = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;std&quot;</span>);</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">test</span> <span class="tok-str">&quot;array pointer has ptr field&quot;</span> {</span>
<span class="line">    <span class="tok-kw">const</span> x: *<span class="tok-kw">const</span> [<span class="tok-number">4</span>] <span class="tok-type">u32</span> = &amp;.{ <span class="tok-number">1</span>, <span class="tok-number">2</span>, <span class="tok-number">3</span>, <span class="tok-number">4</span> };</span>
<span class="line">    <span class="tok-kw">const</span> y: []<span class="tok-kw">const</span> <span class="tok-type">u32</span> = &amp;.{ <span class="tok-number">1</span>, <span class="tok-number">2</span>, <span class="tok-number">3</span>, <span class="tok-number">4</span> };</span>
<span class="line"></span>
<span class="line">    <span class="tok-kw">const</span> xp: [*]<span class="tok-kw">const</span> <span class="tok-type">u32</span> = x.ptr;</span>
<span class="line">    <span class="tok-kw">const</span> yp: [*]<span class="tok-kw">const</span> <span class="tok-type">u32</span> = y.ptr;</span>
<span class="line"></span>
<span class="line">    <span class="tok-kw">try</span> std.testing.expectEqual(xp, <span class="tok-builtin">@as</span>([*]<span class="tok-kw">const</span> <span class="tok-type">u32</span>, x));</span>
<span class="line"></span>
<span class="line">    <span class="tok-kw">for</span> (<span class="tok-number">0</span>..<span class="tok-number">4</span>) |i| {</span>
<span class="line">        <span class="tok-kw">try</span> std.testing.expectEqual(x[i], xp[i]);</span>
<span class="line">        <span class="tok-kw">try</span> std.testing.expectEqual(y[i], yp[i]);</span>
<span class="line">    }</span>
<span class="line">}</span></code></pre></figure><figure><figcaption class="shell-cap">Shell</figcaption><pre><samp>$ <kbd>zig test array_pointer_ptr_field.zig</kbd>
1/1 test.array pointer has ptr field... OK
All 1 tests passed.
</samp></pre></figure>
    

    <h3 id="Allow-Method-Call-Syntax-on-Optional-Pointers"><a href="#toc-Allow-Method-Call-Syntax-on-Optional-Pointers">Allow Method Call Syntax on Optional Pointers</a> <a class="hdr" href="#Allow-Method-Call-Syntax-on-Optional-Pointers">Â§</a></h3>

    <p>
    Method call syntax <code><span class="line">object.method(args)</span></code> only works when the first
    parameter of <code><span class="line">method</span></code> has a specific type: previously, this was either the
    type containing the method, or a pointer to it. It is now additionally allowed for this type to
    be an optional pointer. The value the method call is performed on must still be a non-optional
    pointer, but it is coerced to an optional pointer for the method call.
    </p>
    <figure><figcaption class="zig-cap"><cite class="file">method_syntax_opt_ptr.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">const</span> std = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;std&quot;</span>);</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">const</span> Foo = <span class="tok-kw">struct</span> {</span>
<span class="line">    x: <span class="tok-type">u32</span>,</span>
<span class="line"></span>
<span class="line">    <span class="tok-kw">fn</span> <span class="tok-fn">xOrDefault</span>(self: ?*<span class="tok-kw">const</span> Foo) <span class="tok-type">u32</span> {</span>
<span class="line">        <span class="tok-kw">const</span> foo = self <span class="tok-kw">orelse</span> <span class="tok-kw">return</span> <span class="tok-number">0</span>;</span>
<span class="line">        <span class="tok-kw">return</span> foo.x;</span>
<span class="line">    }</span>
<span class="line">};</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">test</span> <span class="tok-str">&quot;method call with optional pointer parameter&quot;</span> {</span>
<span class="line">    <span class="tok-kw">const</span> a: Foo = .{ .x = <span class="tok-number">7</span> };</span>
<span class="line">    <span class="tok-kw">const</span> b: Foo = .{ .x = <span class="tok-number">9</span> };</span>
<span class="line"></span>
<span class="line">    <span class="tok-kw">try</span> std.testing.expectEqual(<span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">0</span>), Foo.xOrDefault(<span class="tok-null">null</span>));</span>
<span class="line">    <span class="tok-kw">try</span> std.testing.expectEqual(<span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">7</span>), a.xOrDefault());</span>
<span class="line">    <span class="tok-kw">try</span> std.testing.expectEqual(<span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">9</span>), b.xOrDefault());</span>
<span class="line">}</span></code></pre></figure><figure><figcaption class="shell-cap">Shell</figcaption><pre><samp>$ <kbd>zig test method_syntax_opt_ptr.zig</kbd>
1/1 test.method call with optional pointer parameter... OK
All 1 tests passed.
</samp></pre></figure>
    

    <h3 id="comptime-Function-Calls-No-Longer-Cause-Runtime-Analysis"><a href="#toc-comptime-Function-Calls-No-Longer-Cause-Runtime-Analysis">comptime Function Calls No Longer Cause Runtime Analysis</a> <a class="hdr" href="#comptime-Function-Calls-No-Longer-Cause-Runtime-Analysis">Â§</a></h3>

    <p>
    There has been an <a href="https://github.com/ziglang/zig/issues/6256">open issue</a> for several
    years about the fact that Zig will emit all referenced functions to a binary, even if the function
    is only used at compile-time. This can cause
    <a href="https://github.com/ziglang/zig/issues/15353">binary bloat</a>, as well as potentially triggering
    false positive compile errors if a function is intended to only be used at compile-time.
    </p>
    <p>
    This issue <a href="https://github.zom/ziglang/zig/pull/15891">has been resolved</a> in this release
    cycle. Zig will now only emit a runtime version of a function to the binary if one of the following
    conditions holds:
    </p>
    <ul>
      <li>The function is called at runtime.</li>
      <li>The function has a reference taken to it. In this case, a call may occur through a function pointer, so the function must be emitted.</li>
    </ul>
    <p>
    As well as avoiding potential false positive compile errors, this change leads to a slight
    decrease in binary sizes, and may slightly speed up compilation in some cases. Note that as a
    consequence of this change, it is no longer sufficient to write
    <code><span class="line"><span class="tok-kw">comptime</span> { _ = f; }</span></code> to force a function to be analyzed and emitted to the
    binary. Instead, you must write <code><span class="line"><span class="tok-kw">comptime</span> { _ = &amp;f; }</span></code>.
    </p>
    

    <h3 id="Multi-Item-Switch-Prong-Type-Coercion"><a href="#toc-Multi-Item-Switch-Prong-Type-Coercion">Multi-Item Switch Prong Type Coercion</a> <a class="hdr" href="#Multi-Item-Switch-Prong-Type-Coercion">Â§</a></h3>

    <p>
    Prior to 0.11.0, when a <code><span class="line"><span class="tok-kw">switch</span></span></code> prong captured a union payload, all
    payloads were required to have the exact same type. This has been changed so that
    <a href="/documentation/0.11.0/#Peer-Type-Resolution">Peer Type Resolution</a> is used to
    combine the payload types, allowing distinct but compatible types to be captured together.
    </p>
    <p>
    Pointer captures also make use of peer type resolution, but are more limited: the payload types
    must all have the same in-memory representation so that the payload pointer can be safely cast.
    </p>
    <figure><figcaption class="zig-cap"><cite class="file">switch_capture_ptr.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">const</span> std = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;std&quot;</span>);</span>
<span class="line"><span class="tok-kw">const</span> assert = std.debug.assert;</span>
<span class="line"><span class="tok-kw">const</span> expectEqual = std.testing.expectEqual;</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">const</span> U1 = <span class="tok-kw">union</span>(<span class="tok-kw">enum</span>) {</span>
<span class="line">    x: <span class="tok-type">u8</span>,</span>
<span class="line">    y: ?<span class="tok-type">u32</span>,</span>
<span class="line">};</span>
<span class="line"><span class="tok-kw">test</span> <span class="tok-str">&quot;switch capture resolves peer types&quot;</span> {</span>
<span class="line">    <span class="tok-kw">try</span> f(<span class="tok-number">1</span>, .{ .x = <span class="tok-number">1</span> });</span>
<span class="line">    <span class="tok-kw">try</span> f(<span class="tok-number">2</span>, .{ .y = <span class="tok-number">2</span> });</span>
<span class="line">    <span class="tok-kw">try</span> f(<span class="tok-number">0</span>, .{ .y = <span class="tok-null">null</span> });</span>
<span class="line">}</span>
<span class="line"><span class="tok-kw">fn</span> <span class="tok-fn">f</span>(expected: <span class="tok-type">u32</span>, u: U1) !<span class="tok-type">void</span> {</span>
<span class="line">    <span class="tok-kw">switch</span> (u) {</span>
<span class="line">        .x, .y =&gt; |val| {</span>
<span class="line">            <span class="tok-kw">comptime</span> assert(<span class="tok-builtin">@TypeOf</span>(val) == ?<span class="tok-type">u32</span>);</span>
<span class="line">            <span class="tok-kw">try</span> expectEqual(expected, val <span class="tok-kw">orelse</span> <span class="tok-number">0</span>);</span>
<span class="line">        },</span>
<span class="line">    }</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">const</span> U2 = <span class="tok-kw">union</span>(<span class="tok-kw">enum</span>) {</span>
<span class="line">    x: <span class="tok-type">c_uint</span>,</span>
<span class="line">    <span class="tok-comment">/// This type has the same number of bits as `c_uint`, but is distinct.</span></span>
<span class="line">    y: <span class="tok-builtin">@Type</span>(.{ .Int = .{</span>
<span class="line">        .signedness = .unsigned,</span>
<span class="line">        .bits = <span class="tok-builtin">@bitSizeOf</span>(<span class="tok-type">c_uint</span>),</span>
<span class="line">    } }),</span>
<span class="line">};</span>
<span class="line"><span class="tok-kw">test</span> <span class="tok-str">&quot;switch pointer capture resolves peer types&quot;</span> {</span>
<span class="line">    <span class="tok-kw">var</span> a: U2 = .{ .x = <span class="tok-number">10</span> };</span>
<span class="line">    <span class="tok-kw">var</span> b: U2 = .{ .y = <span class="tok-number">20</span> };</span>
<span class="line">    g(&amp;a);</span>
<span class="line">    g(&amp;b);</span>
<span class="line">    <span class="tok-kw">try</span> expectEqual(U2{ .x = <span class="tok-number">11</span> }, a);</span>
<span class="line">    <span class="tok-kw">try</span> expectEqual(U2{ .y = <span class="tok-number">21</span> }, b);</span>
<span class="line">}</span>
<span class="line"><span class="tok-kw">fn</span> <span class="tok-fn">g</span>(u: *U2) <span class="tok-type">void</span> {</span>
<span class="line">    <span class="tok-kw">switch</span> (u.*) {</span>
<span class="line">        .x, .y =&gt; |*ptr| {</span>
<span class="line">            ptr.* += <span class="tok-number">1</span>;</span>
<span class="line">        },</span>
<span class="line">    }</span>
<span class="line">}</span></code></pre></figure><figure><figcaption class="shell-cap">Shell</figcaption><pre><samp>$ <kbd>zig test switch_capture_ptr.zig</kbd>
1/2 test.switch capture resolves peer types... OK
2/2 test.switch pointer capture resolves peer types... OK
All 2 tests passed.
</samp></pre></figure>
    </p>
    

    <h3 id="Allow-Functions-to-Return-null-and-undefined"><a href="#toc-Allow-Functions-to-Return-null-and-undefined">Allow Functions to Return null and undefined</a> <a class="hdr" href="#Allow-Functions-to-Return-null-and-undefined">Â§</a></h3>

    <p>
    0.10 had some arbitrary restrictions on the types of function parameters and their return types:
    they were not permitted to be <code><span class="line"><span class="tok-builtin">@TypeOf</span>(<span class="tok-null">null</span>)</span></code> or
    <code><span class="line"><span class="tok-builtin">@TypeOf</span>(<span class="tok-null">undefined</span>)</span></code>. While these are types are rarely useful in this
    context, they are still completely normal comptime-only types, so this restriction on their
    usage was needless. As such, they are now allowed as parameter and return types.
    </p>
    <figure><figcaption class="zig-cap"><cite class="file">null_undef_param_ret_ty.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">const</span> std = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;std&quot;</span>);</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">fn</span> <span class="tok-fn">foo</span>(<span class="tok-kw">comptime</span> x: <span class="tok-builtin">@TypeOf</span>(<span class="tok-null">undefined</span>)) <span class="tok-builtin">@TypeOf</span>(<span class="tok-null">null</span>) {</span>
<span class="line">    _ = x;</span>
<span class="line">    <span class="tok-kw">return</span> <span class="tok-null">null</span>;</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">test</span> <span class="tok-str">&quot;null and undefined as function parameter and return types&quot;</span> {</span>
<span class="line">    <span class="tok-kw">const</span> my_null = foo(<span class="tok-null">undefined</span>);</span>
<span class="line">    <span class="tok-kw">try</span> std.testing.expect(my_null == <span class="tok-null">null</span>);</span>
<span class="line">}</span></code></pre></figure><figure><figcaption class="shell-cap">Shell</figcaption><pre><samp>$ <kbd>zig test null_undef_param_ret_ty.zig</kbd>
1/1 test.null and undefined as function parameter and return types... OK
All 1 tests passed.
</samp></pre></figure>
    

    <h3 id="Generic-Function-Calls"><a href="#toc-Generic-Function-Calls">Generic Function Calls</a> <a class="hdr" href="#Generic-Function-Calls">Â§</a></h3>

    <p>Sometimes the language design drives the <a href="#Compiler">Compiler</a> development, but
    sometimes it's the other way around, as we discover through trial and error
    what <em>fundamental simplicity</em> looks like.</p>
    <p>In this case, generic functions and inferred error sets have been reworked for
    a few reasons:</p>
    <ul>
      <li>To make the language simpler to specify.</li>
      <li>To make the compiler implementation simpler.</li>
      <li>Progress towards <a href="#Incremental-Compilation">Incremental Compilation</a>.</li>
    </ul>
    <p>Things are mostly the same, except there may be two kinds of breakages caused by it.
    Firstly, type declarations are evaluated for every generic function call:</p>
    <figure><figcaption class="zig-cap"><cite class="file">generic_call_demo.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">const</span> std = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;std&quot;</span>);</span>
<span class="line"><span class="tok-kw">const</span> expect = std.testing.expect;</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">test</span> <span class="tok-str">&quot;generic call demo&quot;</span> {</span>
<span class="line">    <span class="tok-kw">const</span> a = foo(<span class="tok-type">i32</span>, <span class="tok-number">1234</span>);</span>
<span class="line">    <span class="tok-kw">const</span> b = foo(<span class="tok-type">i32</span>, <span class="tok-number">5678</span>);</span>
<span class="line">    <span class="tok-kw">try</span> expect(<span class="tok-builtin">@TypeOf</span>(a) == <span class="tok-builtin">@TypeOf</span>(b));</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">fn</span> <span class="tok-fn">foo</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, init: T) <span class="tok-kw">struct</span> { x: T } {</span>
<span class="line">    <span class="tok-kw">return</span> .{ .x = init };</span>
<span class="line">}</span></code></pre></figure><figure><figcaption class="shell-cap">Shell</figcaption><pre><samp>$ <kbd>zig test generic_call_demo.zig</kbd>
1/1 test.generic call demo... FAIL (TestUnexpectedResult)
<span class="sgr-1m">/home/andy/Downloads/zig/lib/std/testing.zig:515:14</span>: <span class="sgr-2m">0x22423f in expect (test)</span>
    if (!ok) return error.TestUnexpectedResult;
             <span class="sgr-32m">^</span>
<span class="sgr-1m">/home/andy/dev/zig-release-cutter/docgen_tmp/generic_call_demo.zig:7:5</span>: <span class="sgr-2m">0x224375 in test.generic call demo (test)</span>
    try expect(@TypeOf(a) == @TypeOf(b));
    <span class="sgr-32m">^</span>
0 passed; 0 skipped; 1 failed.
error: the following test command failed with exit code 1:
/home/andy/.cache/zig/o/1badee6b5c51bdd719adb838ec138cd4/test
</samp></pre></figure>
    <p>With Zig 0.10.x, this test passed. With 0.11.0, it fails. Which behavior Zig will have
    at 1.0 is yet to be determined. In the meantime, it is best not to rely on type equality
    in this case.</p>
    <p>Suggested workaround is to make a function that returns the type:</p>
    <figure><figcaption class="zig-cap"><cite class="file">generic_call_workaround.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">const</span> std = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;std&quot;</span>);</span>
<span class="line"><span class="tok-kw">const</span> expect = std.testing.expect;</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">test</span> <span class="tok-str">&quot;generic call demo&quot;</span> {</span>
<span class="line">    <span class="tok-kw">const</span> a = foo(<span class="tok-type">i32</span>, <span class="tok-number">1234</span>);</span>
<span class="line">    <span class="tok-kw">const</span> b = foo(<span class="tok-type">i32</span>, <span class="tok-number">5678</span>);</span>
<span class="line">    <span class="tok-kw">try</span> expect(<span class="tok-builtin">@TypeOf</span>(a) == <span class="tok-builtin">@TypeOf</span>(b));</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">fn</span> <span class="tok-fn">foo</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, init: T) Make(T) {</span>
<span class="line">    <span class="tok-kw">return</span> .{ .x = init };</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">fn</span> <span class="tok-fn">Make</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>) <span class="tok-type">type</span> {</span>
<span class="line">    <span class="tok-kw">return</span> <span class="tok-kw">struct</span> { x: T };</span>
<span class="line">}</span></code></pre></figure><figure><figcaption class="shell-cap">Shell</figcaption><pre><samp>$ <kbd>zig test generic_call_workaround.zig</kbd>
1/1 test.generic call demo... OK
All 1 tests passed.
</samp></pre></figure>
    <p>The second fallout from this change is mutually recursive functions with inferred
    error sets:</p>
    <figure><figcaption class="zig-cap"><cite class="file">inferred_mutual_recursion.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">const</span> std = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;std&quot;</span>);</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">test</span> <span class="tok-str">&quot;generic call demo&quot;</span> {</span>
<span class="line">    <span class="tok-kw">try</span> foo(<span class="tok-number">49</span>);</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">fn</span> <span class="tok-fn">foo</span>(x: <span class="tok-type">i32</span>) !<span class="tok-type">void</span> {</span>
<span class="line">    <span class="tok-kw">if</span> (x == <span class="tok-number">1000</span>) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.BadNumber;</span>
<span class="line">    <span class="tok-kw">return</span> bar(x - <span class="tok-number">1</span>);</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">fn</span> <span class="tok-fn">bar</span>(x: <span class="tok-type">i32</span>) !<span class="tok-type">void</span> {</span>
<span class="line">    <span class="tok-kw">if</span> (x &gt; <span class="tok-number">100000</span>) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.TooBig;</span>
<span class="line">    <span class="tok-kw">if</span> (x == <span class="tok-number">0</span>) <span class="tok-kw">return</span>;</span>
<span class="line">    <span class="tok-kw">return</span> foo(x - <span class="tok-number">1</span>);</span>
<span class="line">}</span></code></pre></figure><figure><figcaption class="shell-cap">Shell</figcaption><pre><samp>$ <kbd>zig test inferred_mutual_recursion.zig</kbd>
<span class="sgr-1m">docgen_tmp/inferred_mutual_recursion.zig:12:1: </span><span class="sgr-31m">error: </span><span class="sgr-1m">unable to resolve inferred error set
</span>fn bar(x: i32) !void {
<span class="sgr-32m">^~~~~~~~~~~~~~~~~~~~
</span><span class="sgr-2m">referenced by:
    foo: docgen_tmp/inferred_mutual_recursion.zig:9:12
    bar: docgen_tmp/inferred_mutual_recursion.zig:15:12
    remaining reference traces hidden; use '-freference-trace' to see all reference traces
</span>
</samp></pre></figure>
    <p>Suggested workaround is to introduce an explicit error set:</p>
    <figure><figcaption class="zig-cap"><cite class="file">error_set_workaround.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">const</span> std = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;std&quot;</span>);</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">test</span> <span class="tok-str">&quot;mutual recursion inferred error set demo&quot;</span> {</span>
<span class="line">    <span class="tok-kw">try</span> foo(<span class="tok-number">49</span>);</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">const</span> Error = <span class="tok-kw">error</span>{ BadNumber, TooBig };</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">fn</span> <span class="tok-fn">foo</span>(x: <span class="tok-type">i32</span>) Error!<span class="tok-type">void</span> {</span>
<span class="line">    <span class="tok-kw">if</span> (x == <span class="tok-number">1000</span>) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.BadNumber;</span>
<span class="line">    <span class="tok-kw">return</span> bar(x - <span class="tok-number">1</span>);</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">fn</span> <span class="tok-fn">bar</span>(x: <span class="tok-type">i32</span>) Error!<span class="tok-type">void</span> {</span>
<span class="line">    <span class="tok-kw">if</span> (x &gt; <span class="tok-number">100000</span>) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.TooBig;</span>
<span class="line">    <span class="tok-kw">if</span> (x == <span class="tok-number">0</span>) <span class="tok-kw">return</span>;</span>
<span class="line">    <span class="tok-kw">return</span> foo(x - <span class="tok-number">1</span>);</span>
<span class="line">}</span></code></pre></figure><figure><figcaption class="shell-cap">Shell</figcaption><pre><samp>$ <kbd>zig test error_set_workaround.zig</kbd>
1/1 test.mutual recursion inferred error set demo... OK
All 1 tests passed.
</samp></pre></figure>
    <p>More information: #16318</p>
    

    <h3 id="Naked-Functions"><a href="#toc-Naked-Functions">Naked Functions</a> <a class="hdr" href="#Naked-Functions">Â§</a></h3>

<p>Some things that used to be allowed in <code><span class="line"><span class="tok-kw">callconv</span>(.Naked)</span></code> functions are now compile errors:</p>
<ul>
<li>runtime calls</li>
<li>explicit returns</li>
<li>runtime safety checks (which produce runtime calls)</li>
</ul>
<p>Runtime calls are disallowed because it is not possible to know the current stack alignment in order to follow the proper ABI
to automatically compile a call.  Explicit returns are disallowed because on some targets, it is not mandated for the return
address to be stored in a consistent place.</p>
<hr>
<p>The most common kind of upgrade that needs to be performed is:</p>
<figure><figcaption class="zig-cap"><cite class="file">example.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">pub</span> <span class="tok-kw">export</span> <span class="tok-kw">fn</span> <span class="tok-fn">_start</span>() <span class="tok-kw">callconv</span>(.Naked) <span class="tok-type">noreturn</span> {</span>
<span class="line">    <span class="tok-kw">asm</span> <span class="tok-kw">volatile</span> (</span>
<span class="line">        <span class="tok-str">\\ push %rbp</span></span>
<span class="line">        <span class="tok-str">\\ jmp %[start:P]</span></span>
<span class="line">        :</span>
<span class="line">        : [start] <span class="tok-str">&quot;X&quot;</span> (&amp;start),</span>
<span class="line">    );</span>
<span class="line">    <span class="tok-kw">unreachable</span>;</span>
<span class="line">}</span>
<span class="line"><span class="tok-kw">fn</span> <span class="tok-fn">start</span>() <span class="tok-type">void</span> {}</span></code></pre></figure><figure><figcaption class="shell-cap">Shell</figcaption><pre><samp>$ <kbd>zig build-exe example.zig</kbd>
<span class="sgr-1m">example.zig:8:5: </span><span class="sgr-31m">error: </span><span class="sgr-1m">runtime safety check not allowed in naked function
</span>    unreachable;
    <span class="sgr-32m">^~~~~~~~~~~
</span><span class="sgr-1m">example.zig:8:5: </span><span class="sgr-36m">note: </span><span class="sgr-1m">use @setRuntimeSafety to disable runtime safety
</span><span class="sgr-1m">example.zig:8:5: </span><span class="sgr-36m">note: </span><span class="sgr-1m">the end of a naked function is implicitly unreachable
</span>
</samp></pre></figure>
<p>As the note indicates, an explicit <code><span class="line"><span class="tok-kw">unreachable</span></span></code> is not needed at the end of a naked function anymore.  Since explicit returns
are no longer allowed, it will just be assumed to be unreachable.  Therefore, all that needs to be done is to delete the
<code><span class="line"><span class="tok-kw">unreachable</span></span></code> statement, which works even when the return type of the function is not <code><span class="line"><span class="tok-kw">unreachable</span></span></code>.</p>
<hr>
<p>In general, naked functions should only contain comptime logic and <code><span class="line"><span class="tok-kw">asm</span> <span class="tok-kw">volatile</span></span></code> statements, which allows any required
target-specific runtime calls and returns to be constructed.</p>
    

    

    <h2 id="Standard-Library"><a href="#toc-Standard-Library">Standard Library</a> <a class="hdr" href="#Standard-Library">Â§</a></h2>

    <p>The Zig standard library is still unstable and mainly serves as a
    testbed for the language. After there are no more planned <a href="#Language-Changes">Language Changes</a>,
    it will be time to start working on stabilizing the standard library.
    Until then, experimentation and breakage without warning is allowed.</p>
    <ul>
      <li>DynLib.lookup: cast the pointer to the correct alignment (#15308)</li>

    <li>std.process: avoids allocating zero length buffers for args or env on <a href="#WebAssembly">WebAssembly</a></li>
    <li>std.process: remove unused function getSelfExeSharedLibPaths</li>
    <li>std.process.Child: implement maxrss on Darwin</li>
    <li>std.process.Child: remove pid and handle, add id. Previously, this API had pid, to be used on POSIX systems, and handle, to be used on Windows. This change unifies the API, defining an Id type that is either the pid or the HANDLE depending on the target OS.</li>
    <li>Introduce std.process.Child.collectOutput (#12295)</li>


    <li>std.Target: add xtensa to toCoffMachine</li>
    <li>std.Target.ObjectFormat: specify dxcontainer file ext</li>
    <li>std.target: adds ps4 and ps5 type sizes.</li>
    <li>std.Target: fixes to `ptrBitWidth`, `c_type_byte_size`, and `c_type_alignment`.</li>
    <li>std.target.riscv: fix baseline_rv32 missing feature "32bit"</li>
    <li>std.target: mark helper functions inline so that callsites don't need <code><span class="line"><span class="tok-kw">comptime</span></span></code></li>



    <li>std: remove meta.assumeSentinel (#14440)</li>
    <li>std: add meta.FieldType</li>
    <li>std.meta: remove bitCount</li>
    <li>std: fixed handling of empty structs in meta.FieldEnum.</li>
    <li>std.meta: remove isTag (#15584).</li>
    <li>std.meta: allow ArgsTuple to be used on functions with comptime parameters</li>
    <li>std.meta: remove tagName</li>
    <li>Update std.meta.intToEnum to support non-exhaustive enums, which was preventing `std.json` from deserializing non-exhaustive enums (#15491).</li>




    <li>std: stop using LinearFifo in BufferedReader (#14029)</li>
    <li>std.io.reader.Reader: add `streamUntilDelimiter`</li>
    <li>std.io.Writer: add support for non-power-of-two int sizes</li>
    <li>Fix type mismatch for Reader.readIntoBoundedBytes (#16416)</li>
    <li>std.io.multi-writer: support non-comptime streams (#15770).</li>


    <li>Add 0-length buffer checks to os.read and os.write, preventing errors related to undefined pointers being passed through to some OS APIs when slices have 0 length.</li>
    <li>std.os: fix alignment of Sigaction.handler_fn (#13418)</li>
    <li>std.os.sigprocmask: @bitCast flags parameter</li>
    <li>`os.isCygwinPty`: Fix a bug, replace kernel32 call, and optimize (#14841)</li>
    <li>std.os: add mincore syscall which is available on some UNIX like operating systems and allows a user to determine if a page is resident in memory.</li>
    <li>std.os: add missing mmap errors</li>


    <li>start code: Don't initialize the static TLS area in single-threaded builds</li>
    <li>Make std.tz namespace accessible (#13978)</li>
    <li>std: add object format extension for dxcontainer</li>
    <li>std: Add Wasm SIMD opcodes and value type (#13910)</li>
    <li>std: fix bug in Pcg32 fill function (#13894)</li>
    <li>std.ascii: remove Look-Up-Table (#13370).</li>
    <li>Improve and remove duplicate doNotOptimizeAway() implementations (#13790)</li>
    <li>std.Random: add functions with explicit index type (#13417).</li>
    <li>add std.c.pthread_sigmask (#13525)</li>
    <li>std.time: add microTimestamp() (#13327)</li>
    <li>std: Make getenv return 0-terminated slice</li>
    <li>publicize std.rand.ziggurat</li>
    <li>std: Snake-case some public facing enums (#15803).</li>
    <li>std: Move TTY from std.debug to std.io and add missing colors (#15806).</li>
    <li>std.enums: make Ext parameter optional</li>
    <li>std.enums: add tagName(), an alternative to `@tagName()` for non-exhaustive enums that doesn't panic when given an enum value that has no tag.</li>
    <li>elf: add more missing defs for SHT_* and SHF_*</li>
    <li>elf: add helpers for extracting type and bind from symbol def</li>
    <li>std.simd: add wasm-simd support for suggestVectorSizeForCpu (#14992)</li>
    <li>std.base64: don't overflow dest with padding</li>
    <li>Fix counting in SingleThreadedRwLock's tryLockShared (#16560)</li>
    <li>introduce std.io.poll (#14744)</li>
    <li>std.c: Add umask.</li>
    </ul>

    <h3 id="Compile-Time-Configuration-Consolidated"><a href="#toc-Compile-Time-Configuration-Consolidated">Compile-Time Configuration Consolidated</a> <a class="hdr" href="#Compile-Time-Configuration-Consolidated">Â§</a></h3>

    TODO https://github.com/ziglang/zig/pull/14181
    

    <h3 id="Memory-Allocation"><a href="#toc-Memory-Allocation">Memory Allocation</a> <a class="hdr" href="#Memory-Allocation">Â§</a></h3>

    TODO
    <ul>
    <li>Add std.ArenaAllocator.reset() (#12590)</li>
    <li>Adds std.heap.MemoryPool (#12586)</li>
    <li>std.heap.raw_c_allocator: fix illegal alignment cast (#14090).</li>
    <li>std.mem.ValidationAllocator: forward free() calls (#15978)</li>
    <li>arena_allocator/reset: fix use after free, fix buffer overrun (#15985).</li>
    <li>std.mem.Allocator: add error when passing a non-single-item pointer to allocator.destroy</li>
    <li>std: GPA deinit return an enum instead of a bool</li>
    <li>GPA: Catch invalid frees (#14791).</li>
    </ul>


    <h4 id="Allow-Shrink-To-Fail"><a href="#toc-Allow-Shrink-To-Fail">Allow Shrink To Fail</a> <a class="hdr" href="#Allow-Shrink-To-Fail">Â§</a></h4>

commit e35f297aeb993ec956ae80379ddf7f86069e109b
Merge: deda6b514 f46666788
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Wed Nov 30 01:44:34 2022 -0500

    Merge pull request #13666 from ziglang/allocator-interface
    
    std.mem.Allocator: allow shrink to fail
    

commit 49ac816e3683def5d14d6f8415d80413ecb43e4c
Author: IntegratedQuantum <43880493+IntegratedQuantum@users.noreply.github.com>
Date:   Thu Jul 6 20:41:49 2023 +0200

    Optimize Allocator functions to create less duplicate code for similar types (#16332)
    
    * Move functionality from generic functions that doesn't depend on the type into a function that only depends on comptime alignment.
    
    This reduces comptime code duplication because e.g. `alloc(u32, )` and `alloc(i32, )` now use the same function `allocWithFoo(4, 4, )` under the hood.
    

    <h3 id="Strings"><a href="#toc-Strings">Strings</a> <a class="hdr" href="#Strings">Â§</a></h3>

    <ul>
    <li>Removed std.cstr (#16032) </li>
    <li>std: Handle field struct defaults in std.mem.zeroInit (#14116).</li>
    <li>add std.mem.reverseIterator</li>
    <li>std: added std.mem.window</li>
    <li>Handle sentinel slices in `std.mem.zeroes` (#13256)</li>
    <li>std: add mem.SplitIterator.peek() (#15670)</li>
    <li>std.mem.zeroes now works with allowzero pointers</li>
    <li>mem: rename alignForwardGeneric to mem.alignForward</li>
    <li>privatize std.mem.writePackedIntBig and writePackedIntLittle. These are unnecessary since writePackedInt accepts an endian parameter.</li>
    <li>Split `std.mem.split` and `tokenize` into `sequence`, `any`, and `scalar` versions (#15579).</li>
    <li>std.mem.byteSwapAllFields: add suppport for nested structs (#15696)</li>
    <li>std.mem.zeroInit: zero hidden padding for extern struct</li>
    <li>Add std.mem.indexOfNone</li>
    <li>std.mem.reverseIterator improvements (#15134)</li>
    </ul>

    <h4 id="Restrict-memspan-and-memlen-to-Sentinel-Terminated-Pointers"><a href="#toc-Restrict-memspan-and-memlen-to-Sentinel-Terminated-Pointers">Restrict mem.span and mem.len to Sentinel-Terminated Pointers</a> <a class="hdr" href="#Restrict-memspan-and-memlen-to-Sentinel-Terminated-Pointers">Â§</a></h4>

    <p><a href="https://isaacfreund.com/">Isaac Freund</a> writes:</p>
    <p>These functions were footgunny when working with pointers to
    arrays and slices. They just returned the stated length of the array/slice
    without iterating and looking for the first sentinel, even if the
    array/slice is a sentinel-terminated type.</p>
    <p>
    From looking at the quite small list of places in the
    <a href="#Standard-Library">Standard Library</a> and <a href="#Compiler">Compiler</a> that this change breaks
    existing code, the new code looks to be more readable in all cases.
    </p><p>
    The usage of std.mem.span/len was totally unneeded in most of the cases
    affected by this breaking change.
    </p><p>
    We could remove these functions entirely in favor of other existing
    functions in std.mem such as std.mem.sliceTo(), but that would be a
    somewhat nasty breaking change as std.mem.span() is very widely used for
    converting sentinel terminated pointers to slices. It is however not at
    all widely used for anything else.
    </p><p>
    Therefore I think it is better to break these few non-standard and
    potentially incorrect usages of these functions now and at some later
    time, if deemed worthwhile, finally remove these functions.
    </p><p>
    If we wait for at least a full release cycle so that everyone adapts to
    this change first, updating for the removal could be a simple find and
    replace without needing to worry about the semantics.
    </p>
    
    

    <h3 id="Math"><a href="#toc-Math">Math</a> <a class="hdr" href="#Math">Â§</a></h3>

    <ul>
      <li>Remove math.ln in favor of <code><span class="line"><span class="tok-builtin">@log</span></span></code></li>
      <li>Implements math.sign for float vectors.</li>
      <li>math.big.int: implement popCount() for Const</li>
      <li>big.int.Mutable: fix set(@as(DoubleLimb, 0)). Previously, this would set len to 1 but fail to initialize any limbs.</li>
      <li>math: implement absInt for integer vectors. This commit adds support to absInt for integer vectors.</li>
      <li>math: port `int_log10` from Rust (#14827)</li>
      <li>math: add lerp (#13002)</li>
      <li>math.big.int: Initialize limbs in addWrap, preventing invalid results (#13571)</li>
      <li>Normalize remainder in math.big.int.Managed.divTrunc (#15535).</li>
      <li>math.atan: fix mistyped magic constant</li>
      <li>math.big.int: Add Sqrt (with reference to Modern Computer Arithmetic, Algorithm 1.13)</li>
      <li>math.big.int: rename "eq" to "eql" for consistency (#16303).</li>
      <li>Change math.Order integer tag values, speeding up binary search (#16356).</li>
    </ul>

    

    <h3 id="File-System"><a href="#toc-File-System">File System</a> <a class="hdr" href="#File-System">Â§</a></h3>

    <ul>
      <li>std.fs.path: add stem() (#13276)</li>
      <li>os.windows.OpenFile: Add `USER_MAPPED_FILE` as a possible error</li>
      <li>Dir.openDirAccessMaskW: Add ACCESS_DENIED as a possible error</li>
      <li>Dir.statFile now uses fstatat (fewer syscalls) (#11594)</li>
      <li>std: add fchmodat as well as `std.fs.has_executable_bit` for doing conditional compilation.</li>
      <li>windows: use NtSetInformationFile in DeleteFile (#15316).</li>
      <li>fs.Dir.deleteTree: Fix DirNotEmpty condition</li>
      <li>fs.path: Fix Windows path component comparison being ASCII-only (#16100)</li>
      <li>std.windows: use posix semantics to delete files, if available (#15501)</li>
      <li>fixed windows resource leaks (#15450).</li>
      <li>A few `IterableDir.Walker`/`Iterator` fixes (#15980)</li>
      <li>Add fs.path.ComponentIterator and use it in Dir.makePath, fixing some bugs</li>
      <li>os.renameatW: Handle OBJECT_NAME_COLLISION from NtSetInformationFile (#16374)</li>
    </ul>
    

    <h3 id="Data-Structures"><a href="#toc-Data-Structures">Data Structures</a> <a class="hdr" href="#Data-Structures">Â§</a></h3>

    TODO
    std: added pure functions to StaticBitSet
    The following functions were added to both IntegerBitSet and ArrayBitSet:
      fn eql(self: Self, other: Self) bool
      fn subsetOf(self: Self, other: Self) bool
      fn supersetOf(self: Self, other: Self) bool
      fn complement(self: Self) Self
      fn unionWith(self: Self, other: Self) Self
      fn intersectWith(self: Self, other: Self) Self
      fn xorWith(self: Self, other: Self) Self
      fn differenceWith(self: Self, other: Self) Self
    std: added pure fns to EnumSet


commit c6aa29b6fdba1606bfd218b17de89f64179c0ed8
Author: Erik Arvstedt <erik.arvstedt@gmail.com>
Date:   Sat Jul 15 11:29:09 2023 +0200

    SinglyLinkedList: rename `invert` -> `reverse`

    <ul>
    <li>std.MultiArrayList: add support for tagged unions.</li>
    <li>std.ArrayHashMap: capacity function now accepts const instance</li>
    <li>std.atomic.Queue: fix unget implementation and add docs</li>
    <li>Add fromOwnedSliceSentinel to ArrayList ArrayList and ArrayListUnmanaged, add fromOwnedSlice to ArrayListUnmanaged</li>
    <li>Add the two functions 'getLast' and 'getLastOrNull' to ArrayListAligned/ArrayListAlignedUnmanaged.</li>
    <li>std: Expose Int parameter in std.PackedInt[Array,Slice]</li>
    <li>ArrayList.toOwnedSlice: Fix potential for leaks when using errdefer (#13946)</li>
    <li>Allow const ArrayLists to be cloned</li>
    <li>Smaller memory footprint for BoundedArray (#16299)</li>
    <li>[priority_dequeue] Fix out-of-bounds access</li>
    <li>[priority_deque] simplify and optimize isMinLayer (#16124).</li>
    <li>std: Fix update() method in PriorityQueue and PriorityDequeue (#13908)</li>
    <li>[priority_queue] Simplify sifting and fix edge case</li>
    <li>std.IndexedSet.iterator: allow iteration on const EnumSet</li>
    <li>std: implement subsetOf and supersetOf for EnumMultiset</li>
    <li>std: implement subsetOf and supersetOf for DynamicBitSet</li>
    <li>std: add EnumMultiSet</li>
    <li>std: Add ArrayList.insertAssumeCapacity()</li>
    <li>ArrayList: Allow const for getLast (#14522)</li>
    <li>std.enums.IndexedSet: Add initOne and initMany</li>
    <li>std: added eql to DynamicBitSet and DynamicBitSetUnmanaged</li>
    </ul>

    

    <h3 id="Sorting"><a href="#toc-Sorting">Sorting</a> <a class="hdr" href="#Sorting">Â§</a></h3>

commit 3db3cf77904e664d589287602c14168a7a63f125
Author: Ali Chraghi <alichraghi@proton.me>
Date:   Tue May 23 15:33:12 2023 +0330

    std.sort: add pdqsort and heapsort

commit 6bd54793060191ffce2c7492a90a40a30f9e2a1d
Author: Ali Chraghi <alichraghi@proton.me>
Date:   Sat Jun 24 17:31:50 2023 +0330

    std.sort.block: add safety check for lessThan return value

    <ul>
    <li>[heapsort] Protect against integer overflow (#16131).</li>
    <li>std.sort.binarySearch: relax requirements to support both homogeneous and heterogeneous keys ( #12727).</li>
    <li>Add more sorting functions to MultiArrayList (#16377)</li>
    </ul>
    

    <h3 id="Compression"><a href="#toc-Compression">Compression</a> <a class="hdr" href="#Compression">Â§</a></h3>

    <ul>
      <li>Added xz decoder (#14434)</li>
      <li>Implement gzip header CRC check.</li>
      <li>std.compress: Improve tests, remove reliance on openDirAbsolute (#13952)</li>
      <li>std.tar: make sub dirs + trim spaces (#15222)</li>
      <li>gzip: add missing header fields and bounds for header parsing (#13142)</li>
      <li>Added Zstandard decompressor (#14183)</li>
      <li>Added zlib stream writer (#15010).</li>
      <li>Added LZMA decoder (#14518)</li>
    </ul>
    

    <h3 id="Crypto"><a href="#toc-Crypto">Crypto</a> <a class="hdr" href="#Crypto">Â§</a></h3>

    <p><a href="https://www.prettysimpleimages.com/">Frank Denis</a> writes:</p>

    <h4 id="New-Features"><a href="#toc-New-Features">New Features</a> <a class="hdr" href="#New-Features">Â§</a></h4>

<ul>
<li>Salsa20: round-reduced variants can now be used.</li>
<li>The POLYVAL universal hash function was added.</li>
<li>AEGIS: support for 256-bit tags was added.</li>
<li>A MAC API was added to AEGIS (<code>std.crypto.auth.aegis</code>) - AEGIS can be used as a high-performance MAC on systems with hardware AES support. Note that this is not a hash function; a secret key is absolutely required in order to authenticate untrusted messages.</li>
<li>Edwards25519: a <code>rejectLowOrder()</code> function was added to quickly reject low-order points.</li>
<li>HKDF: with <code>extractInit()</code>, a PRK can now be initialized with only a salt, the keying material being added later, possibly as multiple chunks.</li>
<li>Hash functions that returns a fixed-length digest now include a <code>finalResult()</code> function that returns the digest as an array, as well as a <code>peek()</code> function that returns it without changing the state.</li>
<li>AES-CMAC has been implemented, and is availble in <code>crypto.auth.cmac</code>.</li>
<li><code>std.crypto.ecc</code>: the <code>isOdd()</code> function was added to return the parity of a field element.</li>
<li><code>bcrypt</code>: bcrypt has a slightly annoying limitation: passwords are limited to 72 bytes, and additional bytes are silently ignored. A new option, <code>silently_truncate_password</code>, can be set to <code>true</code> to transparently pre-hash the passwords and overcome this limitation.</li>
<li>wyhash: support comptime usage (#16070).</li>
<li>std.hash.crc: implement algorithms listed in CRC RevEng catalog (#14396)</li>
</ul>

<h4 id="Breaking-Changes"><a href="#toc-Breaking-Changes">Breaking Changes</a> <a class="hdr" href="#Breaking-Changes">Â§</a></h4>

<ul>
<li>A HMAC key size can have any length, and <code>crypto.Hmac*.key_size</code> was previously set to 256 bits for general guidance. This has been changed to match the actual security level of each function.</li>
<li><code>secp256k1</code>: the <code>mulPublic()</code> and <code>verify()</code> functions can now return a <code>NonCanonicalError</code> in addition to existing errors.</li>
<li><code>Ed25519</code>: the top-level <code>Ed25519.sign()</code>, <code>Ed25519.verify()</code>, <code>key_blinding.sign()</code> and <code>key_blinding.unblindPublicKey()</code> functions, that were already deprecated in version 0.10.0, have been removed. For consistency with other signature schemes, these functions have been moved to the <code>KeyPair</code>, <code>PublicKey</code>, <code>BlindKeyPair</code> and <code>BlindPublicKey</code> structures.</li>
</ul>

<h4 id="Keccak"><a href="#toc-Keccak">Keccak</a> <a class="hdr" href="#Keccak">Â§</a></h4>

<p>The Keccak permutation was only used internally for <code>sha3</code>. It was completely revamped and has now its dedicated public interface in <code>crypto.core.keccak</code>.</p>
<p><code>keccak.KeccakF</code> is the permutation itself, which now supports sizes between 200 and 1600 bits, as well as a configurable number of rounds. And <code>keccak.State</code> offers an API for standard sponge-based constructions.</p>
<p>Taking advantage of this, the SHAKE extendable output function (XOF) has been added, and can be found in <code>std.crypto.hash.sha3.Shake128</code> and <code>std.crypto.hash.sha3.Sha256</code>. SHAKE is based on SHA-3, NIST-approved, and the output of can be of any length, which has many applications and is something we were missing in the standard library.</p>
<p>The more recent TurboSHAKE variant is also available, as <code>crypto.hash.sha3.TurboShake128</code> and <code>crypto.hash.sha3.TurboShake256</code>. TurboSHAKE benefits from the extensive analysis of SHA-3, its output can also be of any length, and it has good performance across all platforms. In fact, on CPUs without SHA-256 acceleration, and when using WebAssembly, TurboSHAKE is the fastest function we have in the standard library. If you need a modern, portable, secure, overall fast hash function / XOF, that is not vulnerable to length-extension attacks (unlike SHA-256), TurboSHAKE should be your go-to choice.</p>

<h4 id="Kyber"><a href="#toc-Kyber">Kyber</a> <a class="hdr" href="#Kyber">Â§</a></h4>

<p>Kyber is a post-quantum public key encryption and key exchange machanism. It was selected by NIST for the first post-quantum cryptography standard.</p>
<p>It is available in the standard library, in the <code>std.crypto.kem</code> namespace, making Zig the first language with post-quantum cryptography available right in the standard library.</p>
<p><code>Kyber512</code>, <code>Kyber768</code> and <code>Kyber1024</code>, as specified in the current draft, are supported.</p>
<p>The <a href="#TLS-Client">TLS Client</a> also supports the hybrid <code>X25519Kyber768</code> post-quantum key agreement mechanism by default.</p>
<p>Thanks a lot to Bas Westerbaan for contributing this!</p>

<h4 id="Constant-Time-Allocation-Free-Field-Arithmetic"><a href="#toc-Constant-Time-Allocation-Free-Field-Arithmetic">Constant-Time, Allocation-Free Field Arithmetic</a> <a class="hdr" href="#Constant-Time-Allocation-Free-Field-Arithmetic">Â§</a></h4>

<p>Cryptography frequently requires computations over arbitrary finite fields.</p>
<p>This is why a new namespace made its appearance: <code>std.crypto.ff</code>.</p>
<p>Functions from this namespace never require dynamic allocations, are designed to run in constant time, and transparently perform conversions from/to the Montgomery domain.</p>
<p>This allowed us to implement RSA verification without using any allocators.</p>

<h4 id="Configurable-Side-Channels-Mitigations"><a href="#toc-Configurable-Side-Channels-Mitigations">Configurable Side Channels Mitigations</a> <a class="hdr" href="#Configurable-Side-Channels-Mitigations">Â§</a></h4>

<p>Side channels in cryptographic code can be exploited to leak secrets.</p>
<p>And mitigations are useful but also come with a performance hit.</p>
<p>For some applications, performance is critical, and side channels may not be part of the threat model. For other applications, hardware-based attacks is a concern, and mitigations should go beyond constant-time code.</p>
<p>Zig 0.11 introduces the <code>std_options.side_channels_mitigations</code> global setting to accomodate the different use cases.</p>
<p>It can have 4 different values:</p>
<ul>
<li><code>none</code>: which doesn't enable additional mitigations. "Additional", because it only disables mitigations that don't have a big performance cost. For example, checking authentication tags will still be done in constant time.</li>
<li><code>basic</code>: which enables mitigations protecting against attacks in a common scenario, where an attacker doesn't have physical access to the device, cannot run arbitrary code on the same thread, and cannot conduct brute-force attacks without being throttled.
</li>
<li><code>medium</code>: which enables additional mitigations, targeting protection against practictal attacks even in a shared environement.
</li>
<li><code>full</code>: which enables all the available mitigations, going beyond ensuring that the code runs in constant time.
</li>
</ul>
<p>The more mitigations are enabled, the bigger the performance hit will be. But this let applications choose what's best for their use case.</p>
<p><code>medium</code> is the default.</p>

<h4 id="Hello-Ascon-Farewell-to-Gimli-and-Xoodoo"><a href="#toc-Hello-Ascon-Farewell-to-Gimli-and-Xoodoo">Hello Ascon; Farewell to Gimli and Xoodoo</a> <a class="hdr" href="#Hello-Ascon-Farewell-to-Gimli-and-Xoodoo">Â§</a></h4>

<p>Gimli and Xoodoo have been removed from the standard library, in favor of Ascon.</p>
<p>These are great permutations, and there's nothing wrong with them from a practical security perspective.</p>
<p>However, both were competing in the NIST lightweight crypto competition.</p>
<p>Gimli didn't pass the 3rd selection round, and was not used much in the wild besides Zig and libhydrogen. It will never be standardized and is unlikely to get more traction in the future.</p>
<p>The Xoodyak mode, that Xoodoo is the permutation of, brought some really nice ideas. There are discusisons to standardize a Xoodyak-like mode, but without Xoodoo.</p>
<p>So, the Zig implementations of these permutations are better maintained outside the standard library.</p>
<p>For lightweight crypto, Ascon is the one that we know NIST will standardize and that we can safely rely on from a usage perspective.</p>
<p>So, Ascon was added instead (in <code>crypto.core.Ascon</code>). We support the <code>128</code> and <code>128a</code> variants, both with Little-Endian or Big-Endian encoding.</p>
<p>Note that we currently only ship the permutation itself, as the actual constructions are very likely to change a lot during the ongoing standardization process.</p>
<p>The default CSPRNG (<code>std.rand.DefaultCsprng</code>) used to be based on Xoodoo. It was replaced by a traditional ChaCha-based random number generator, that also improves performance on most platforms.</p>
<p>For constrained environments, <code>std.rand.Ascon</code> is also available as an alternative. As the name suggest, it's based on Ascon, and has very low memory requirements.</p>

<h4 id="stdcrypto-Bug-Fixes"><a href="#toc-stdcrypto-Bug-Fixes">std.crypto Bug Fixes</a> <a class="hdr" href="#stdcrypto-Bug-Fixes">Â§</a></h4>

<ul>
<li>HKDF: expansion to <code>&lt;hash size&gt; * 255</code> bytes not an error any more.</li>
<li>Curve25519: when compiled to WebAssembly, scalar multiplication emitted too many local variables for some runtimes. This has been fixed. The code is also significantly smaller in <code>ReleaseSmall</code> mode.</li>
<li>Prime-order curves: points whose X coordinate was <code>0</code> used to be rejected with an <code>IdentityElement</code> error. These points were also not properly serialized. That has been fixed.</li>
<li>Argon2: outputs larger than 64 bytes are now correctly handled.</li>
<li>std.hash_map: fetchRemove increment available to avoid leaking slots (#15989).</li>
</ul>

<h4 id="Performance-Improvements"><a href="#toc-Performance-Improvements">Performance Improvements</a> <a class="hdr" href="#Performance-Improvements">Â§</a></h4>

<ul>
<li>GHASH was reimplemented and is now ~3x faster.</li>
<li>AES encryption now takes advantage of the <code>EOR3</code> instruction on Apple Silicon for a slight performance boost.</li>
<li>The ChaCha20 implementation can now take advantage of CPUs with 256 and 512 bit vector registers for a significant speedup.</li>
<li>Poly1305 got a little bit faster, too.</li>
<li>SHA256 can take advantage of hardware acceleration on x86_64 and aarch64.</li>
<li>Reimplement wyhash v4.1 (#15969)</li>
<li>Improvements for xxHash performance, both on small keys as well as large slices (#15947).</li>
</ul>

    

    <h3 id="Concurrency"><a href="#toc-Concurrency">Concurrency</a> <a class="hdr" href="#Concurrency">Â§</a></h3>

    TODO
    
    stdlib: fix condition variable broadcast FutexImpl (#13577).
    std.Thread.Futex.PosixImpl.Address.from: fix `alignment` type (#13673)
    std.Thread: make Id smaller where possible
    Add a debug implementation to Mutex that detects deadlocks caused by calling lock twice in a single thread.
    openbsd: fix thread name buffer size

    

    <h3 id="Networking"><a href="#toc-Networking">Networking</a> <a class="hdr" href="#Networking">Â§</a></h3>

    <p>For a few releases, there was a <code>std.x</code> namespace which was a playground
    for some contributors to experiment with networking. In Zig 0.11, networking is no longer
    experimental; it is part of the <a href="#Package-Management">Package Management</a> strategy. However, networking
    is still immature and <a href="#Bug-Fixes">buggy</a>, so use it at your own risk.</p>

    <ul>
      <li>net: Make <code>res</code> nullable in <code>std.c.getaddrinfo</code></li>
      <li>net: check for localhost names before asking DNS</li>
      <li>remove std.url and add std.uri which is more complete and RFC-compliant (#14176).</li>
      <li>net.StreamServer.Options: add reuse_port</li>
      <li>Uri: Don't double-escape escaped query parameters (#16043)</li>
      <li>os.connect: mark ECONNABORTED as unreachable (#13677).</li>
      <li>os.sendfile: On BrokenPipe error, return error rather than unreachable</li>
      <li>os.bind: handle EPERM errno</li>
    </ul>


    <h4 id="TLS-Client"><a href="#toc-TLS-Client">TLS Client</a> <a class="hdr" href="#TLS-Client">Â§</a></h4>

    <p>Zig 0.11.0 now provides a client implementation of
    <a href="https://datatracker.ietf.org/doc/html/rfc8446">Transport Layer Security v1.3</a></p>

    <p>Thanks to Zig's excellent <a href="#Crypto">Crypto</a>, the
    <a href="https://github.com/ziglang/zig/blob/0.11.0/lib/std/crypto/tls/Client.zig">implementation</a>
    came out lovely. Search for <code><span class="line">++</span></code> if you want to see a nice
    demonstration of <a href="#Concatenation-of-Arrays-and-Tuples">Concatenation of Arrays and Tuples</a>. This is also a nice showcase
    of <a href="https://ziglang.org/documentation/0.11.0/#Inline-switch">inline switch cases</a>.</p>
    <p>As lovely as it may be, there is not yet a TLS server implementation and so this code
    has not been fuzz-tested. In fact there is not yet <em>any</em> automated testing for this
    API, so use it at your own risk.</p>

    <p>I want to recognize <a href="https://shiguredo.jp/">Shigueredo</a> whose TLSv1.3
    implementation I took inspiration from. For <a href="#Thank-You-Sponsors">sponsoring</a> us
    and for allowing us to copy their RSA implementation until Frank Denis
    implemented <a href="#Constant-Time-Allocation-Free-Field-Arithmetic">Constant-Time, Allocation-Free Field Arithmetic</a>,
    æœ¬å½“ã«ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸ!</p>

    <p>The TLS client is a dependency of the <a href="#HTTP-Client">HTTP Client</a> which is a dependency
    of <a href="#Package-Management">Package Management</a>.</p>

    <p>Open follow-up issues:</p>
    <ul>
      <li><a href="https://github.com/ziglang/zig/issues/14167">send an alert message to the server when an error occurs</a></li>
      <li><a href="https://github.com/ziglang/zig/issues/14178">audit the implementation with respect to RFC 8446</a></li>
      <li><a href="https://github.com/ziglang/zig/issues/14172">test the implementation against many real world servers</a></li>
      <li><a href="https://github.com/ziglang/zig/issues/14173">look into TCP fastopen and TCP_QUICKACK</a></li>
      <li><a href="https://github.com/ziglang/zig/issues/14174">increase test coverage</a></li>
      <li><a href="https://github.com/ziglang/zig/issues/14175">std.crypto.Certificate.verify: additionally verify "key usage</a></li>
    </ul>
    

    <h4 id="HTTP-Client"><a href="#toc-HTTP-Client">HTTP Client</a> <a class="hdr" href="#HTTP-Client">Â§</a></h4>

    <p>There is now an HTTP client (#15123). It is used by the <a href="#Compiler">Compiler</a> to fetch
    URLs as part of <a href="#Package-Management">Package Management</a>.</p>
    <p>It supports some basic features such as:
    <ul>
      <li>transfer-encoding: chunked (#14224)</li>
      <li>HTTP redirects (#14202)</li>
      <li>connection pooling, keep-alive, and compressed content (#14762)</li>
    </ul>
    <p>It is still very immature and not yet tested in a robust manner. Please use it
    at your own risk.</p>
    

    <h4 id="Ignore-SIGPIPE-by-Default"><a href="#toc-Ignore-SIGPIPE-by-Default">Ignore SIGPIPE by Default</a> <a class="hdr" href="#Ignore-SIGPIPE-by-Default">Â§</a></h4>

    TODO #11982
    
    

    <h3 id="Testing"><a href="#toc-Testing">Testing</a> <a class="hdr" href="#Testing">Â§</a></h3>

    TODO
    <ul>
      <li>std.testing: Fully absorb expectEqualBytes into expectEqualSlices</li>
      <li>std.testing: Improve expectEqualBytes for large inputs and make expectEqualSlices use it</li>
      <li>std.testing: Add expectEqualBytes that outputs hexdumps with diffs highlighted in red. The coloring is controlled by `std.debug.detectTTYConfig` so it will be disabled when appropriate.</li>
      <li>std: add expectEqualDeep (#13995)</li>
    </ul>
    

    <h3 id="Debugging"><a href="#toc-Debugging">Debugging</a> <a class="hdr" href="#Debugging">Â§</a></h3>

    <ul>
      <li>Added support for DWARF5 <code>DW_AT_ranges</code> in subprograms. Some DWARF5 subprograms have non-contiguous instruction ranges, which wasn't supported before. An example of such a function is <code>puts</code> in Ubuntu's libc. Stack traces now include the names of these functions.</li>
      <li>Support for DWARF information embedded inside COFF binaries has been fixed. This is relatively uncommon combination, as typically this information is in a PDB file, but can be output using <code>-gdwarf</code> when compiling C/C++ code for Windows.</li>
      <li>std.debug: fix segfault/panic race condition (#7859) (#12207).</li>
      <li>std.debug: Replace tabs with spaces when printing a line for trace output.</li>
      <li>std.log: add functionality to check if a specific log level and scope are enabled</li>
      <li>std.log.defaultLog: remove freestanding compile error</li>
      <li>Added valgrind client request support for aarch64 (#13292).</li>
      <li>std.dwarf: handle DWARF 5 compile unit DW_AT_ranges correctly</li>
      <li>pdb: make SuperBlock def public</li>
    </ul>

    <h4 id="Stack-Unwinding"><a href="#toc-Stack-Unwinding">Stack Unwinding</a> <a class="hdr" href="#Stack-Unwinding">Â§</a></h4>

    <p><a href="https://github.com/kcbanner">Casey Banner</a> writes:</p>
<p>When something goes wrong in your program, at the very least you expect it to output a stack trace. In many cases, upon seeing the stack trace, the error is obvious and can be fixed without needing to attach a debugger. If you are a project maintainer, having correct stack trace output is a necessity for your users to be able to provide actionable bug reports when something goes wrong.</p>
<p>In order to print a stack trace, the panic (or segfault) handler needs to unwind the stack, by traversing back through the stack frames starting at the crash site. Up until now, this was done strictly by utilizing the <a href="https://en.wikipedia.org/wiki/Call_stack#Stack_and_frame_pointers">frame pointer</a>. This method of stack unwinding works assuming that a frame pointer is available, which isn't the case if the code is compiled without one - ie. if <code>-fomit-frame-pointer</code>was used. </p>
<p>It can be beneficial for performance reasons to not use a frame pointer, since this frees up an additional register, so some software maintainers may choose to ship libraries compiled without it. One of the motivating reasons for this change was solving a bug where unwinding a stack trace that started in Ubuntu's libc wasn't working - and indeed it is compiled with <code>-fomit-frame-pointer</code>.</p>
<p>Since <a href="https://github.com/ziglang/zig/pull/15823">#15823</a> was merged, the <a href="#Standard-Library">Standard Library</a> stack unwinder (<code>std.debug.StackIterator</code>) now supports unwinding stacks using both DWARF unwind tables, and <a href="#MachO">MachO</a> compact unwind information. These unwind tables encode how to unwind all the register state and recover the return address for any location in the program. </p>
<p>In order to save space, DWARF unwind tables aren't program-sized lookup tables, but instead sets of opcodes which run on a virtual machine inside the unwinder to build the lookup table dynmamically. Additionally, these tables can define register values in terms of DWARF expressions, which is a separate stack-machine based bytecode. This is all supported in the new unwinder.</p>
<p>As an example of how this improves stack trace output, consider the following zig program and C library (which will be built with <code>-fomit-frame-pointer</code>):</p>
<figure><figcaption class="zig-cap"><cite class="file">main.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">const</span> std = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;std&quot;</span>);</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">extern</span> <span class="tok-kw">fn</span> <span class="tok-fn">add_mult</span>(x: <span class="tok-type">i32</span>, y: <span class="tok-type">i32</span>, n: ?*<span class="tok-type">i32</span>) <span class="tok-type">i32</span>;</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">main</span>() !<span class="tok-type">void</span> {</span>
<span class="line">    std.debug.print(<span class="tok-str">&quot;add: {}\n&quot;</span>, .{ add_mult(<span class="tok-number">5</span>, <span class="tok-number">3</span>, <span class="tok-null">null</span>) });</span>
<span class="line">}</span></code></pre></figure>

<figure><figcaption class="c-cap"><cite class="file">lib.c</cite></figcaption><pre><code><span class="line">#include &lt;stdio.h&gt;</span>
<span class="line"></span>
<span class="line">#ifndef LIB_API</span>
<span class="line">#define LIB_API</span>
<span class="line">#endif</span>
<span class="line"></span>
<span class="line">int add_mult3(int x, int y, int* n) {</span>
<span class="line">    puts((const char*)0x1234);</span>
<span class="line">    return (x + y) * (*n);</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line">int add_mult2(int x, int y, int* n) {</span>
<span class="line">    return add_mult3(x, y, n);</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line">int add_mult1(int x, int y, int* n) {</span>
<span class="line">    return add_mult2(x, y, n);</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line">LIB_API int add_mult(int x, int y, int* n) {</span>
<span class="line">    return add_mult1(x, y, n);</span>
<span class="line">}</span></code></pre></figure>

<p>Before the stack unwinding changes, the user would see the following output:</p>
<pre><code>Segmentation fault at address 0x1234
???:?:?: 0x7f71d9ec997d in ??? (???)
/home/user/kit/zig/build-stage3-release-linux/lib/zig/std/start.zig:608:37: 0x20a505 in main (main)
            const result = root.main() catch |err| {
                                    ^
Aborted</code></pre>
<p>With the new unwinder:</p>
<pre><code>Segmentation fault at address 0x1234
../sysdeps/x86_64/multiarch/strlen-avx2.S:74:0: 0x7fefd03b297d in ??? (../sysdeps/x86_64/multiarch/strlen-avx2.S)
./libio/ioputs.c:35:16: 0x7fefd0295ee7 in _IO_puts (ioputs.c)
src/lib.c:8:5: 0x7fefd04484aa in add_mult3 (/home/user/temp/stack/src/lib.c)
    puts((const char*)0x1234);
    ^
src/lib.c:13:12: 0x7fefd0448542 in add_mult2 (/home/user/temp/stack/src/lib.c)
    return add_mult3(x, y, n);
           ^
src/lib.c:17:12: 0x7fefd0448572 in add_mult1 (/home/user/temp/stack/src/lib.c)
    return add_mult2(x, y, n);
           ^
src/lib.c:21:12: 0x7fefd04485a2 in add_mult (/home/user/temp/stack/src/lib.c)
    return add_mult1(x, y, n);
           ^
/home/user/temp/stack/src/main.zig:6:45: 0x2123b7 in main (main)
    std.debug.print("add: {}\n", .{ add_mult(5, 3, null) });
                                            ^
/home/user/kit/zig/build-stage3-release-linux/lib/zig/std/start.zig:608:37: 0x2129b4 in main (main)
            const result = root.main() catch |err| {
                                    ^
../sysdeps/nptl/libc_start_call_main.h:58:16: 0x7fefd023ed8f in __libc_start_call_main (../sysdeps/x86/libc-start.c)
../csu/libc-start.c:392:3: 0x7fefd023ee3f in __libc_start_main_impl (../sysdeps/x86/libc-start.c)
???:?:?: 0x212374 in ??? (???)
???:?:?: 0x0 in ??? (???)
Aborted</code></pre>
<p>The unwind information for libc (which comes from a separate file, see below) was loaded and used to unwind the stack correctly, resulting in a much more useful stack trace. </p>
<p>If there is no unwind information available for a given frame, the unwinder will fall back to frame pointer unwinding for the rest of the stack trace. For example, if the above program is built for x86-linux-gnu on the same system (which only has x86_64 libc debug information installed), it results in the following output:</p>
<pre><code>Segmentation fault at address 0x1234
???:?:?: 0xf7dc9555 in ??? (libc.so.6)
Unwind information for `libc.so.6:0xf7dc9555` was not available (error.MissingDebugInfo), trace may be incomplete

???:?:?: 0x0 in ??? (???)
Aborted</code></pre><p>The user is notified that unwind information is missing, and they could choose to install it to enhance the stack trace output.</p>
<p>This system works for both panic traces as well as segfaults. In the case of a segfault, the OS will pass a context (containing the state of all the registers at the time of the segfault) to the handler, which will be used by the unwinder. In the case of a panic, the unwinder still needs a register context, so one is captured by the panic handler. If the program is linking libc, then libc's <code>getcontext</code> is used, otherwise an implementation in <code>std</code> is used if available. On platforms where <code>getcontext</code> isn't available, the stack unwinder falls back to frame pointer based unwinding.</p>
<p>Implementations of <code>getcontext</code> have been added for <code>x86_64-linux</code> and <code>x86-linux</code>.</p>
    

    <h4 id="External-Debug-Info"><a href="#toc-External-Debug-Info">External Debug Info</a> <a class="hdr" href="#External-Debug-Info">Â§</a></h4>

<p>The ELF format allows for splitting debug information sections into separate files. If the user of the software does not typically need to debug it, then debug info can be shipped an as optional dependency to reduce the size of the installation. A primary use case for this feature is libc debug information, which can be quite large. Some distributions have a separate package that contains only the debug info for their libc, which can be installed separately.</p>
<p>These extra files are simply additional ELF files that contain only the debug info sections. As an additional space-saving measure, these sections can also be compressed. For example, in the libc stack traces above the debug information came from <code>/usr/lib/debug/.build-id/69/389d485a9793dbe873f0ea2c93e02efaa9aa3d.debug</code>, not <code>libc.so.6</code>.</p>
<p>Support for reading external debug information has been added, with this set of changes:</p>
<ul>
<li>Support reading the build-id from the elf headers in order to lookup external debug info</li>
<li>Support reading the <code>.gnu_debuglink</code> section to look up external debug info</li>
<li>Add support for reading compressed ELF sections</li>
<li>Rework how sections are loaded from disk in order to support merging the list of sections that are present in the binary itself and the ones from the external debug info</li>
<li>Fixed up some memory management issues with the existing debug information loader</li>
</ul>
    
    

    <h3 id="Formatted-Printing"><a href="#toc-Formatted-Printing">Formatted Printing</a> <a class="hdr" href="#Formatted-Printing">Â§</a></h3>

    <ul>
    <li>Consistent use of "invalid format string" compile error response for badly formatted format strings (#13526)</li>
    </ul>
TODO
    Make invalidFmtError public and use in place of compileErrors for bad format strings (#13526)
    std.fmt.formatInt: Use an optimized path for decimals, enabling faster decimal-to-string conversions for values in the range [0, 100).
    Fix buffer overflow in fmt when DAZ is set (#14270).
    parse_float: Error when a float is attempted to be parsed into an invalid type (#15593).
    Add std.fmt.parseIntSizeSuffix and use for --maxrss (#14955)
    std.fmt.parseIntSizeSuffix: add R and Q
    std: expose fmt methods and structs for parsing
    std: fix parseInt for single-digit signed minInt (#15966)
    std.fmt: fix error set of formatDuration (#16093)
    mark parse_float.convertSlow as cold, reducing stack usage (#16438).
    fmt: Make default_max_depth configurable
    std.fmt: add bytesToHex() to encode bytes as hex digits
    Fixed parseFloat parsing of `0x` (#14901).
    std: improve error for formatting a function body type (#14915)
    

    <h3 id="JSON"><a href="#toc-JSON">JSON</a> <a class="hdr" href="#JSON">Â§</a></h3>

    <p><a href="https://github.com/thejoshwolfe/">Josh Wolfe</a> writes:</p>

    <p>New <code>std.json</code> features:</p>
    <ul>
    <li>Read a json document from a streaming source with <code>json.reader</code>. See <code>json.Token</code> for fine control over the interaction between large tokens, streaming input, and allocators.</li>
    <li>Unlimited <code>{}</code> and <code>[]</code> nesting depth subject to allocator limitations.</li>
    <li>After parsing into a dynamic <code>json.Value</code> tree/array union, you can now call <code>json.parseFromValue*</code> to parse that into a static type <code>T</code> following essentially the same semantics as parsing directly.</li>
    <li>Parsing via <code>json.parseFrom*</code> is customizable by implementing <code>pub fn jsonParse</code> and/or <code>pub fn jsonParseFromValue</code> in your <code>struct</code>, <code>enum</code>, or <code>union(enum)</code>. This mirrors the customizable <code>pub fn jsonStringify</code> functionality.</li>
    <li>Added a generic <code>json.HashMap(T)</code> container for serializing/deserializing objects with arbitrary string fields. It's a thin wrapper around <code>StringArrayHashMapUnmanaged</code> that implements <code>jsonParse</code>, <code>jsonParseFromValue</code>, and <code>jsonStringify</code>.</li>
    <li><code>json.WriteStream</code> features now available to custom <code>pub fn jsonStringify</code> implementations due to the unification of <code>json.stringify</code> and <code>json.WriteStream</code>.</li>
    <li>Writing JSON now supports saving memory by disabling assertions for correct syntax, e.g. disabling assertions that <code>endArray</code> matches a corresponding <code>beginArray</code>.</li>

    <li><code><span class="line"><span class="tok-builtin">@Vector</span></span></code> support for std.json.parse</li>
    </ul>

    <p>Here is an upgrade guide:</p>
    <p><em>These instructions include the breaking changes from
      <a href="https://github.com/ziglang/zig/pull/15602">#15602</a>,
    <a href="https://github.com/ziglang/zig/pull/15705">#15705</a>,
    <a href="https://github.com/ziglang/zig/pull/15981">#15981</a>,
    and <a href="https://github.com/ziglang/zig/pull/16405">#16405</a>.</em></p>

    <h4 id="codeparsecode-replaced-by-codeparseFromSlicecode-or-other-codeparseFromcode"><a href="#toc-codeparsecode-replaced-by-codeparseFromSlicecode-or-other-codeparseFromcode"><code>parse</code> replaced by <code>parseFromSlice</code> or other <code>parseFrom*</code></a> <a class="hdr" href="#codeparsecode-replaced-by-codeparseFromSlicecode-or-other-codeparseFromcode">Â§</a></h4>

<p>For code that used to look like this:</p>
<figure><figcaption class="zig-cap"><cite class="file">example.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">var</span> stream = json.TokenStream.init(slice);</span>
<span class="line"><span class="tok-kw">const</span> options = json.ParseOptions{ .allocator = allocator };</span>
<span class="line"><span class="tok-kw">const</span> result = <span class="tok-kw">try</span> json.parse(T, &amp;stream, options);</span>
<span class="line"><span class="tok-kw">defer</span> json.parseFree(T, result, options);</span></code></pre></figure>
<p>Now do this:</p>
<figure><figcaption class="zig-cap"><cite class="file">example.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">const</span> parsed = <span class="tok-kw">try</span> json.parseFromSlice(T, allocator, slice, .{});</span>
<span class="line"><span class="tok-kw">defer</span> parsed.deinit();</span>
<span class="line"><span class="tok-kw">const</span> result = parsed.value;</span></code></pre></figure>
<h5 id="codeparseFreecode-replaced-by-codeParsedTdeinitcode"><a href="#toc-codeparseFreecode-replaced-by-codeParsedTdeinitcode"><code>parseFree</code> replaced by <code>Parsed(T).deinit()</code></a> <a class="hdr" href="#codeparseFreecode-replaced-by-codeParsedTdeinitcode">Â§</a></h5>

<p>See above. Alternatively, use the <code>parseFrom*Leaky</code> variants and manage your own arena.</p>


<h4 id="codeParserparsecode-replaced-by-codeparseFromSlicecode-into-codeValuecode"><a href="#toc-codeParserparsecode-replaced-by-codeparseFromSlicecode-into-codeValuecode"><code>Parser.parse</code> replaced by <code>parseFromSlice</code> into <code>Value</code></a> <a class="hdr" href="#codeParserparsecode-replaced-by-codeparseFromSlicecode-into-codeValuecode">Â§</a></h4>

<p>For code that used to look like this:</p>
<figure><figcaption class="zig-cap"><cite class="file">example.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">var</span> parser = json.Parser.init(allocator, <span class="tok-null">false</span>);</span>
<span class="line"><span class="tok-kw">defer</span> parser.deinit();</span>
<span class="line"><span class="tok-kw">var</span> tree = <span class="tok-kw">try</span> parser.parse(slice);</span>
<span class="line"><span class="tok-kw">defer</span> tree.deinit();</span>
<span class="line"><span class="tok-kw">const</span> root = tree.root;</span></code></pre></figure>
<p>Now do this:</p>
<figure><figcaption class="zig-cap"><cite class="file">example.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">const</span> parsed = <span class="tok-kw">try</span> json.parseFromSlice(json.Value, allocator, slice, .{});</span>
<span class="line"><span class="tok-kw">defer</span> parsed.deinit();</span>
<span class="line"><span class="tok-kw">const</span> root = parsed.value;</span></code></pre></figure>

<h5 id="codeValueTreecode-replaced-by-codeParsedValuecode"><a href="#toc-codeValueTreecode-replaced-by-codeParsedValuecode"><code>ValueTree</code> replaced by <code>Parsed(Value)</code></a> <a class="hdr" href="#codeValueTreecode-replaced-by-codeParsedValuecode">Â§</a></h5>

<p>The result of <code>json.parseFrom*(T, ...)</code> (except for <code>json.parseFrom*Leaky(T, ...)</code>) is <code>json.Parsed(T)</code>, which replaces the old <code>ValueTree</code>.</p>



<h4 id="codewriteStreamcode-API-simplification"><a href="#toc-codewriteStreamcode-API-simplification"><code>writeStream</code> API simplification</a> <a class="hdr" href="#codewriteStreamcode-API-simplification">Â§</a></h4>

<p>The default max depth for <code>writeStream</code> is now 256. To specify a deeper max depth, use <code>writeStreamMaxDepth</code>.</p>
<p>You don't need to call <code>arrayElem()</code> anymore.</p>
<p>All the <code>emit*()</code> methods (<code>emitNumber</code>, <code>emitString</code>, <code>emitBool</code>, <code>emitNull</code>, <code>emitJson</code>) replaced by the generic <code>write()</code> method, which takes <code>anytype</code>. The generic <code>json.stringify</code> functionality for structs, unions, etc. is also available in <code>WriteStream.write()</code> (the implementation of <code>stringify</code> now uses <code>WriteStream.write</code>.).</p>
<h5 id="Custom-codejsonStringifycode-signature-changed"><a href="#toc-Custom-codejsonStringifycode-signature-changed">Custom <code>jsonStringify</code> signature changed</a> <a class="hdr" href="#Custom-codejsonStringifycode-signature-changed">Â§</a></h5>

<p>Instead of <code>pub fn jsonStringify(self: *@This(), options: json.StringifyOptions, out_stream: anytype) !void</code>, use <code>pub fn jsonStringify(self: *@This(), jw: anytype) !void</code>, where <code>jw</code> is a mutable pointer to a <code>WriteStream</code>. Instead of writing bytes to the <code>out_stream</code>, you should call <code>write()</code> and <code>beginObject</code> and such on the <code>WriteStream</code>.</p>

<h5 id="codestringifycode-limits-nesting-to-256-by-default"><a href="#toc-codestringifycode-limits-nesting-to-256-by-default"><code>stringify</code> limits nesting to 256 by default</a> <a class="hdr" href="#codestringifycode-limits-nesting-to-256-by-default">Â§</a></h5>

<p>The depth of <code>{</code>/<code>[</code> nesting in the output of <code>json.stringify</code> is now 256. Now that the implementation of <code>stringify</code> uses a <code>WriteStream</code>, we have safety checks for matching <code>endArray</code> to <code>beginArray</code> and such, which requires memory: 1 bit per nesting level. To disable syntax checks and save that memory, use <code>stringifyMaxDepth(..., null)</code>. To make syntax checks available to custom <code>pub fn jsonStringify</code> implementations to arbitrary nesting depth, use <code>stringifyArbitraryDepth</code> and provide an allocator.</p>



<h4 id="codeStringifyOptionscode-overhauled"><a href="#toc-codeStringifyOptionscode-overhauled"><code>StringifyOptions</code> overhauled</a> <a class="hdr" href="#codeStringifyOptionscode-overhauled">Â§</a></h4>

<ul>
<li><code>escape_unicode</code> moved to the top level.</li>
<li><code>escape_solidus</code> removed.</li>
<li><code>string = .Array</code> replaced by <code>.emit_strings_as_arrays = true</code>.</li>
<li><code>whitespace.indent_level</code> removed.</li>
<li><code>whitespace.separator</code> and <code>whitespace.indent</code> combined into <code>.whitespace = .minified</code> vs <code>.whitespace = .indent_2</code> etc.</li>
</ul>
<p><strong>The default whitespace in all contexts is now <code>.minified</code>.</strong> This is changed from the old <code>WriteStream</code> having effectively <code>.indent_1</code>, and the old <code>StringifyOptions{ .whitespace = .{} }</code> having effectively <code>.indent_4</code>.</p>


<h4 id="codeTokenStreamcode-replaced-by-codeScannercode"><a href="#toc-codeTokenStreamcode-replaced-by-codeScannercode"><code>TokenStream</code> replaced by <code>Scanner</code></a> <a class="hdr" href="#codeTokenStreamcode-replaced-by-codeScannercode">Â§</a></h4>

<p>For code that used to look like this:</p>
<figure><figcaption class="zig-cap"><cite class="file">example.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">var</span> stream = json.TokenStream.init(slice);</span>
<span class="line"><span class="tok-kw">while</span> (<span class="tok-kw">try</span> stream.next()) |token| {</span>
<span class="line">    handleToken(token);</span>
<span class="line">}</span></code></pre></figure>
<p>Now do this:</p>
<figure><figcaption class="zig-cap"><cite class="file">example.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">var</span> tokenizer = json.Scanner.initCompleteInput(allocator, slice);</span>
<span class="line"><span class="tok-kw">defer</span> tokenizer.deinit();</span>
<span class="line"><span class="tok-kw">while</span> (<span class="tok-null">true</span>) {</span>
<span class="line">    <span class="tok-kw">const</span> token = <span class="tok-kw">try</span> tokenizer.next();</span>
<span class="line">    <span class="tok-kw">if</span> (token == .end_of_document) <span class="tok-kw">break</span>;</span>
<span class="line">    handleToken(token);</span>
<span class="line">}</span></code></pre></figure>
<p>See <code>json.Token</code> for more info.</p>


<h4 id="codeStreamingParsercode-replaced-by-codeReadercode"><a href="#toc-codeStreamingParsercode-replaced-by-codeReadercode"><code>StreamingParser</code> replaced by <code>Reader</code></a> <a class="hdr" href="#codeStreamingParsercode-replaced-by-codeReadercode">Â§</a></h4>

<p>For code that used to look like this:</p>
<figure><figcaption class="zig-cap"><cite class="file">example.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">const</span> slice = <span class="tok-kw">try</span> reader.readAllAlloc(allocator, max_size);</span>
<span class="line"><span class="tok-kw">defer</span> allocator.free(slice);</span>
<span class="line"><span class="tok-kw">var</span> tokenizer = json.StreamingParser.init();</span>
<span class="line"><span class="tok-kw">for</span> (slice) |c| {</span>
<span class="line">    <span class="tok-kw">var</span> token1: ?json.Token = <span class="tok-null">undefined</span>;</span>
<span class="line">    <span class="tok-kw">var</span> token2: ?json.Token = <span class="tok-null">undefined</span>;</span>
<span class="line">    <span class="tok-kw">try</span> tokenizer.feed(c, &amp;token1, &amp;token2);</span>
<span class="line">    <span class="tok-kw">if</span> (token1) |t| {</span>
<span class="line">        handleToken(t);</span>
<span class="line">        <span class="tok-kw">if</span> (token2) |t2| handleToken(t2);</span>
<span class="line">    }</span>
<span class="line">}</span></code></pre></figure>
<p>Now do this:</p>
<figure><figcaption class="zig-cap"><cite class="file">example.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">var</span> stream = json.reader(allocator, reader);</span>
<span class="line"><span class="tok-kw">defer</span> stream.deinit();</span>
<span class="line"><span class="tok-kw">while</span> (<span class="tok-null">true</span>) {</span>
<span class="line">    <span class="tok-kw">const</span> token = <span class="tok-kw">try</span> stream.next();</span>
<span class="line">    <span class="tok-kw">if</span> (token == .end_of_document) <span class="tok-kw">break</span>;</span>
<span class="line">    handleToken(token);</span>
<span class="line">}</span></code></pre></figure>
<p>See <code>json.Token</code> for more info.</p>

<h4 id="parsestringify-for-codeunioncode-types"><a href="#toc-parsestringify-for-codeunioncode-types">parse/stringify for <code>union</code> types</a> <a class="hdr" href="#parsestringify-for-codeunioncode-types">Â§</a></h4>

<p>Parsing and stringifying <code>union(enum)</code> types works differently now by default. For <code>const T = union(enum) { s: []const u8, i: i32};</code>, the old behavior used to accept documents in the form <code>"abc"</code> or <code>123</code> to parse into <code>.{.s="abc"}</code> or <code>.{.i=123}</code> respectively; the new behavior accepts documents in the form <code>{"s":"abc"}</code> or <code>{"i":123}</code> instead. Stringifying is updated as well to maintain the bijection.</p>
<p>The dynamic value <code>json.Value</code> can be used for simple int-or-string cases. For more complex cases, you can implement <code>jsonParse</code>, <code>jsonParseFromValue</code>, and <code>jsonStringify</code> as needed.</p>

<h4 id="An-allocator-is-always-required-for-parsing-now"><a href="#toc-An-allocator-is-always-required-for-parsing-now">An allocator is always required for parsing now</a> <a class="hdr" href="#An-allocator-is-always-required-for-parsing-now">Â§</a></h4>

<p>Sorry for the inconvenience. There are some ideas to restore support for allocatorless json parsing, but for now, you always must use an allocator. At a minimum it is used for tracking the <code>{}</code> vs <code>[]</code> nesting depth, and possibly other uses depending on what <code>std.json</code> API is being called.</p>
<p>If you use a <code>std.FixedBufferAllocator</code>, you can make parsing json work at comptime.</p>

    

    <h3 id="posix_spawn-Considered-Harmful"><a href="#toc-posix_spawn-Considered-Harmful">posix_spawn Considered Harmful</a> <a class="hdr" href="#posix_spawn-Considered-Harmful">Â§</a></h3>

commit 3169f0529b22fca2a387a841a62fec29b3d2096a
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Thu Mar 9 19:51:58 2023 -0700

    eliminate posix_spawn from the standard library
    
    Today I found out that posix_spawn is trash. It's actually implemented
    on top of fork/exec inside of libc (or libSystem in the case of macOS).
    
    So, anything posix_spawn can do, we can do better. In particular, what
    we can do better is handle spawning of child processes that are
    potentially foreign binaries. If you try to spawn a wasm binary, for
    example, posix spawn does the following:
    
     * Goes ahead and creates a child process.
     * The child process writes "foo.wasm: foo.wasm: cannot execute binary file"
       to stderr (yes, it prints the filename twice).
     * The child process then exits with code 126.
    
    This behavior is indistinguishable from the binary being successfully
    spawned, and then printing to stderr, and exiting with a failure -
    something that is an extremely common occurrence.
    
    Meanwhile, using the lower level fork/exec will simply return ENOEXEC
    code from the execve syscall (which is mapped to zig error.InvalidExe).
    
    The posix_spawn behavior means the zig build runner can't tell the
    difference between a failure to run a foreign binary, and a binary that
    did run, but failed in some other fashion. This is unacceptable, because
    attempting to excecve is the proper way to support things like Rosetta.
    
    

    <h2 id="Build-System"><a href="#toc-Build-System">Build System</a> <a class="hdr" href="#Build-System">Â§</a></h2>

    <p>With this release, the Zig Build System is no longer <strong>experimental</strong>.
    It is the dÃ©but of <a href="#Package-Management">Package Management</a>.</p>

    TODO
    * b.installArtifact(exe) rather than exe.install()
    * b.addRunArtifact(exe) rather than exe.run()
    * Each *Build object corresponds to a package, and it's important to do
      steps in the correct context.
    * addTest no longer runs it
    * talk about the build runner communicating with compiler over a protocol
      - no more --enable-cache
    * build summary
    * addition of config step, cmake step
    * the cache system moved to the build system
      - https://github.com/ziglang/zig/pull/14571 (nasm example)
    * allow run step to skip foreign binary execution if executor fails
    * enhancements to CheckObjectStep
    * build system: make `@embedFile` support module-mapped names the same way as `@import` (#14553)
    * build system: Add ability to import dependencies from build.zig
    * Add --build-runner `zig build` option (#14742)

commit f99b75360db55413f4accf43a6f4161b14a5de9f
Merge: 3aa0a7ecd 145f93ba9
Author: Jakub Konka <kubkon@jakubkonka.com>
Date:   Fri Mar 24 07:22:05 2023 +0100

    Merge pull request #15061 from ziglang/fix-15036
    build: fix adding rpaths on darwin, improve CheckObjectStep to allow matching FileSource paths

commit 7c2ba950a758b86893bfbe73521b29895f7ac4f0
Author: kcbanner <kcbanner@gmail.com>
Date:   Fri Jan 27 18:01:49 2023 -0500

    build: .c ofmt does not produce a pdb



 * combine `std.build` and `std.build.Builder` into `std.Build`
 * eliminate `setTarget` and `setBuildMode`; use an options struct for `b.addExecutable` and friends
 * implement passing options to dependency packages.
   * closes #14285
 * rename LibExeObjStep to CompileStep
 * move src.type.CType to std lib, use it from std.Build, this will help with populating config.h files. [motivating change](https://github.com/andrewrk/libmp3lame/commit/a33ffeb1bd0942405af77b6022e1954fad48e09d)

[example of the flexibility this system brings](https://github.com/andrewrk/groovebasin/blob/271bd7e4014e55a089b8d956228d90b57d8e3fa5/build.zig#L5-L31) (this is why we explicitly pass around optimization mode and target everywhere)


commit 60935decd318498529a016eeb1379d943a7e830d
Merge: 4c7f8286d 81c27c74b
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Fri Feb 3 14:20:49 2023 -0500

    Merge pull request #14523 from ziglang/zon
    
    introduce Zig Object Notation and use it for the build manifest file (build.zig.zon)


commit 693b12f8e1c1d99d33c01961c1fdc972a5255eb6
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Fri Feb 3 17:22:31 2023 -0700

    std.Build: support exposing and depending on zig modules
    
    New API introduced: std.Build.addModule
    
    This function exposes a zig module with the given name, which can be
    used by packages that depend on this one via std.Build.Dependency.module.
    
    std.Build.Pkg and related functionality is deleted. Every use case has a
    straightforward upgrade path using the new Module struct.
    
    std.Build.OptionsStep.getPackage is replaced by
    std.Build.OptionsStep.createModule.
    
    std.Build.CompileStep.addPackagePath is replaced by
    std.Build.CompileStep.addAnonymousModule.
    
    This partially addresses #14307 by renaming some of the instances of
    "package" to "module".
    
    Closes #14278

commit a5b34a61ab61882bf55d87e4cbc8186215ecf320
Merge: 11cc1c16f b29e3fa2c
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Sun Feb 5 08:27:53 2023 -0500

    Merge pull request #14562: std.Build: enhancements to ConfigHeaderStep

commit c6344866f9f6a38acd41f4c0ed36dfe00896f825
Author: Asherah Connor <asherah@hrzn.ee>
Date:   Thu Feb 9 08:45:49 2023 +1100

    std.Build.addAssembly: add missing .kind

commit 5e7b09ce9fbc95ec9fb9e277d262b9b5a5aa1917
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Sat Feb 18 11:31:31 2023 -0700

    std.Build.RunStep: fix default caching logic
    
    RunStep is supposed to auto-detect whether the intend is for
    side-effects or for producing an output file. The auto-detection logic
    was incorrect, and this commit fixes it.
    
    I tested this manually locally. Automated testing will require a more
    significant investment in the test harness, which I will work on in a
    future enhancement.
    
    closes #14666

commit d3c9bfada64230ad17badb739f15a492b4c2c065
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Wed Feb 22 17:23:03 2023 -0700

    std.Build.WriteFileStep: integrate with cache system
    
    And additionally support writing files to source files. This means a
    custom build step in zig's own build.zig is no longer needed for copying
    zig.h because it is handled by WriteFileStep.

commit 26196be344e971c26ed044a39b68d0420cd94b90
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Fri Feb 24 16:02:01 2023 -0700

    rename std.Build.InstallRawStep to ObjCopyStep
    
    And make it not do any installation, only objcopying. We already have
    install steps for doing installation.
    
    This commit also makes ObjCopyStep properly integrate with caching.

commit 653814f76ba5d678ebad91f140417cd5829c6aad
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Fri Mar 3 16:17:23 2023 -0700

    std.Build.addModule: return the created module

commit 8ae92fd17ee9a3d46e4f441864a8544b440c0b2d
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Mon Jul 3 21:47:57 2023 -0700

    std.Build.Step.Compile: fix clearing logic for empty cflags
    
    Commit c0b774fbc65e3e406a38d37b02fffda7c5d3df26 originally added this
    logic but it did not properly clear the C command line flags to empty
    when a previous positional argument had command line flags, because it
    never set the "previous" flag to true.
    
    This fixes C compiler flags not being reset to empty when using the
    build system and a second positional argument has no arguments after a
    first positional argument has arguments.
    
    Thanks to @squeek502 for finding this.

commit 6bc9c4f716afbb15465f79f84f61221f394fa5b6
Author: Michael Buckley <mokchira@gmail.com>
Date:   Sat Jul 8 21:38:27 2023 -0400

    std.Build: Add methods for creating modules from a TranslateC object.

commit f2d433a19375734d744656c1c231525aab6ee59f
Merge: 2896266a0 cea864542
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Thu Jul 13 09:48:39 2023 -0700

    Merge pull request #15708 from xxxbxxx/build-link
    
    build: avoid repeating objects when linking a static library

commit 546212ff7baee86d3408c465e906b52e2e585fe1
Merge: 3ec337484 77026c67a
Author: Jakub Konka <kubkon@jakubkonka.com>
Date:   Fri Jul 14 06:38:33 2023 +0200

    Merge pull request #16398 from ziglang/check-object-elf
    
    std: add ELF parse'n'dump functionality to std.Build.Step.CheckObject

commit e8fa19960243a99cef5d9af94c3db52173787a4e
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Sun Jul 23 21:13:58 2023 -0700

    std.Build.Step.Compile: getEmittedDocs API enhancements
    
     * Allow calling it multiple times.
     * Rename it. Sorry, this is to coincide with #16353.

commit 43b830415368ac4fb08bf5e154a222a38baf4a24
Merge: 235e6ac05 acbb6418c
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Sun Jul 30 21:27:29 2023 -0700

    Merge pull request #16446 from MasterQ32/buildsystem_rename_orgy
    
    Build.zig rename orgy. Renames FileSource to LazyPath and others


    <h3 id="Share-the-Compilers-Cache-System"><a href="#toc-Share-the-Compilers-Cache-System">Share the Compiler's Cache System</a> <a class="hdr" href="#Share-the-Compilers-Cache-System">Â§</a></h3>

    TODO
    

    <h3 id="Steps-Run-In-Parallel"><a href="#toc-Steps-Run-In-Parallel">Steps Run In Parallel</a> <a class="hdr" href="#Steps-Run-In-Parallel">Â§</a></h3>

commit bd242ce1ce9ef6ffb1af4432d892bf582dcdba8a
Merge: a2c6ecd6d 7177b3994
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Thu Mar 16 04:11:41 2023 -0400

    Merge pull request #14647 from ziglang/build-parallel
    
    zig build: run steps in parallel
    

    <h3 id="Embrace-LazyPath-for-Inputs-and-Outputs"><a href="#toc-Embrace-LazyPath-for-Inputs-and-Outputs">Embrace LazyPath for Inputs and Outputs</a> <a class="hdr" href="#Embrace-LazyPath-for-Inputs-and-Outputs">Â§</a></h3>

    TODO remove output_dir. explain the lazy file path thing
    * Build: make `InstallDirStep` use a `FileSource` Closes #16187
    

    <h3 id="Build-Summary"><a href="#toc-Build-Summary">Build Summary</a> <a class="hdr" href="#Build-Summary">Â§</a></h3>

    TODO
    

    <h3 id="System-Resource-Awareness"><a href="#toc-System-Resource-Awareness">System Resource Awareness</a> <a class="hdr" href="#System-Resource-Awareness">Â§</a></h3>

    TODO
    

    <h3 id="Foreign-Target-Execution-and-Testing"><a href="#toc-Foreign-Target-Execution-and-Testing">Foreign Target Execution and Testing</a> <a class="hdr" href="#Foreign-Target-Execution-and-Testing">Â§</a></h3>

    TODO
commit 626a75bbc21453237f95c186d1fea790f233bc58
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Sun Mar 19 16:26:19 2023 -0700

    std.Build.RunStep: fix control flow with qemu+glibc logic

    

    <ul>
    <li>Detect and disallow top-level step name clashes.</li>
    <li>Rename <code><span class="line">std.Build.FooStep</span></code> to <code><span class="line">std.Build.Step.Foo</span></code> (#14947).</li>
    <li>Fixed <code>WriteFile.getFileSource</code> failure on <a href="#Windows">Windows</a> (#15730).</li>
    <li>Allow dynamicbase to be disabled by Step.Compile (#14771).</li>
    </ul>
    <h3 id="Package-Management"><a href="#toc-Package-Management">Package Management</a> <a class="hdr" href="#Package-Management">Â§</a></h3>

    TODO
    TODO std.tar added. mention all the compressions available
    

    <h3 id="Configuration-File-Generation"><a href="#toc-Configuration-File-Generation">Configuration File Generation</a> <a class="hdr" href="#Configuration-File-Generation">Â§</a></h3>

commit b129f1b0462e6c80b4a97851ea3aa8b3f0a4aa37
Merge: ff0a88b13 f74285b3b
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Fri Jun 23 23:56:18 2023 -0700

    Merge pull request #16037 from Jan200101/PR/cmakedefine-fix
    
    Correct cmakedefine implementation

    

    <h3 id="Run-Step-Enhancements"><a href="#toc-Run-Step-Enhancements">Run Step Enhancements</a> <a class="hdr" href="#Run-Step-Enhancements">Â§</a></h3>

    TODO recommend to use this step for general purpose stuff rather than custom steps.
    TODO show how to use input file, output file

commit 44df3a148b4fa823979638dd8debb484a94a51af
Author: Jakub Konka <kubkon@jakubkonka.com>
Date:   Thu Jul 6 22:26:55 2023 +0200

    std: add prefixed versions of addFileSource and addDirectorySource to Step.Run

commit a7553107345bab99b0f5318e0fd3efae84f56b56
Author: Krzysztof Wolicki <der.teufel.mail@gmail.com>
Date:   Sun Jul 9 21:51:41 2023 +0200

    Changed Step.Run's stdin to accept FileSource (#16358)

    
    

    <h2 id="Compiler"><a href="#toc-Compiler">Compiler</a> <a class="hdr" href="#Compiler">Â§</a></h2>

    <img alt="Zero the Ziguana" src="https://ziglang.org/img/Zero_2.svg" style="height: 16em; float: right">

    <ul>
    <li>Ensure f128 alignment matches c_longdouble alignment.</li>
    <li><a href="https://github.com/ziglang/zig/issues?q=is%3Aclosed+is%3Aissue+label%3A%22error+message%22+milestone%3A0.11.0+">Many compile error messages were improved to be more helpful</a>.</li>
    <li>Implement packed unions (#13340).</li>
    <li>Support modifiers in inline asm. These are supported using
      <code>%[ident:mod]</code> syntax. This allows requesting, e.g., the "w" (32-bit) vs. "x"
      (64-bit) views of AArch64 registers.</li>
    <li>Fix error reporting the wrong line for struct field inits (#13502).</li>
    <li>zig-cache: support windows drive + fwd-slash paths (#13539).</li>
    <li>Added Valgrind client request support for aarch64 (#13292).</li>
    <li>Added detection of duplicate enum tag values.</li>
    <li>Added a helpful note when using <code><span class="line">**</span></code> on number types (#13871).</li>
    <li>Fixed packed vectors regression from 0.10.0 (#12812) (#13925).</li>
    <li>Fixed lowering a string literal converted to vector (#13897).</li>
    <li>Fixed taking the address of a field in a zero-bit struct (#14000).</li>
    <li>Handle vectors in packed structs (#14004).</li>
    <li>Fixed <code><span class="line"><span class="tok-builtin">@export</span></span></code> with <code><span class="line"><span class="tok-kw">linksection</span></span></code> option (#14035). </li>
    <li>Fixed cache-dir specified on the command line (#14076).</li>
    <li>Fixed some spurious "depends on itself" errors (#14159).</li>
    <li>Added <code>-fopt-bisect-limit</code> for debugging <a href="#LLVM-Backend">LLVM Backend</a> miscompilations (#13826).</li>
    <li>Expose an option for producing 64-bit DWARF info (#15193).</li>
    <li>Added missing compile error for coercing a slice to an anyopaque pointer.</li>
    <li>Added missing compile error for always_inline call of noinline function (#15503).</li>
    <li>Add support for <code>--build-id</code> styles (#15459).</li>
    <li>Deduplicate uses of the same package across dependencies (#15755).</li>
    <li>Added runtime safety for noreturn function returning (#15235).</li>
    <li>Added support for multiple global asm blocks per decl (#16076).</li>
    <li>Fixed auto-numbered enums with signed tag types (#16095).</li>
    <li>Fixed <code><span class="line"><span class="tok-type">usize</span></span></code> type inference in <code><span class="line"><span class="tok-kw">for</span></span></code> range start and end (#16311).</li>
    <li>Fixed wrong error location for <code><span class="line"><span class="tok-builtin">@unionInit</span></span></code> when first parameter is not a type (#16384).</li>
    <li>Include system headers path when compiling preprocessed assembly files (#16449).</li>
    <li>Add framework path detection for NIX_CFLAGS_COMPILE.</li>
    <li>TODO: something about rpaths.</li>
    <li>Implemented <code>writeToMemory</code>/<code>readFromMemory</code> for pointers, optionals, and packed unions.</li>
    <li>Fixed <code><span class="line"><span class="tok-builtin">@embedFile</span>(<span class="tok-str">&quot;&quot;</span>)</span></code> not giving a proper error (#16480).</li>
    <li>Implemented <code><span class="line"><span class="tok-builtin">@export</span></span></code> for arbitrary values.</li>
    <li><code><span class="line"><span class="tok-builtin">@extern</span></span></code> fixes.</li>
    <li>CLI: detect linker color diagnostics flags</li>
    <li>CLI: stop special-casing LLVM, LLD, and Clang</li>
    <li>CLI: Added --verbose-generic-instances to provide visibility on the number of generic function instantiations</li>
    <li>Added error for bad cast from <code><span class="line">*T</span></code> to <code><span class="line">*[n]T</span></code>
    <li>Added -ferror-tracing and -fno-error-tracing compile options</li>
    <li>build: add -Dpie option</li>
    <li>Implemented inline switch capture at comptime (#15157).</li>
    <li>correctly detect use of undefined within slices in <code><span class="line"><span class="tok-builtin">@Type</span></span></code> (#14712)</li>
    <li>Emit compile error for comptime or inline call of function pointer.</li>
    <li>Improved error message when calling non-member function as method (#14880).</li>
    <li>Fixed crash on callconv(.C) generic return type (#14854).</li>
    <li>Allow comptime mutation of multiple array elements.</li>
    <li>Fixed discarding of result location in <code><span class="line"><span class="tok-kw">for</span></span></code>/<code><span class="line"><span class="tok-kw">while</span></span></code> loops (#14684).</li>
    <li>Added compile-error on primitive value export (#14778)</li>
    <li>Fixed some builtin functions not returning <code><span class="line"><span class="tok-type">void</span></span></code> (#14779)</li>
    <li>Fixed miscompilation: Error propagates with <code><span class="line"><span class="tok-kw">return</span> x()</span></code> but not with <code><span class="line"><span class="tok-kw">return</span> <span class="tok-kw">try</span> x()</span></code> inside recursion (#15669).</li>
    <li>fix potential integer underflow in std.zig.Ast.fullCall</li>
    <li>std.zig.Ast: add helper functions to std.zig.Ast for extracting data out of nodes</li>
    <li>std.zig.Ast.parse: fix integer overflows during parsing, found while fuzzing zls.</li>
    <li>std: replace parseAppend with parseWrite in std.zig.string_literal</li>
    <li>std.zig.number_literal; Fix parsing of hexadecimal literals</li>
    </ul>

    <h3 id="Performance"><a href="#toc-Performance">Performance</a> <a class="hdr" href="#Performance">Â§</a></h3>

    <p>During this release cycle we worked towards <a href="#Incremental-Compilation">Incremental Compilation</a> and linking,
      but it is not ready to be enabled yet. We also worked towards <a href="#Code-Generation">Code Generation</a>
      backends that compete with the <a href="#LLVM-Backend">LLVM Backend</a> instead of depending on it,
      but those are also not ready to be enabled by default yet.</p>
    <p>Those two efforts will yield drastic results. However, even without those done,
      this release of the compiler is generally expected to be a little bit faster and 
      use a little bit less memory than 0.10.x releases.</p>
    <p>Here are some performance data points, 0.10.1 vs this release:</p>
    <ul>
      <li><code>zig build-exe</code> on
        <a href="https://github.com/andrewrk/tetris">this Tetris demo</a>: 14.5% Â±  2.7% faster wall clock time, 7.6% Â±  0.2% fewer bytes of peak memory usage (x86_64-linux, baseline).</li>
      <li><code>zig build-exe</code> on
        <a href="https://ziggit.dev/t/can-anyone-provide-compilation-speed-comparisons-for-their-project-0-10-1-to-0-11-x-dev-version/1241/4?u=andrewrk">someone's Advent-of-Code project</a>: 6.3% slower wall clock time, 8.7% more bytes of peak memory usage</li>
    </ul>
    <p>Note that the compiler is doing more work in 0.11.0 for most builds
    (including "Hello, World!") due to the <a href="#Standard-Library">Standard Library</a> having more advanced
    <a href="#Debugging">Debugging</a> capabilities, such as <a href="#Stack-Unwinding">Stack Unwinding</a>.</p>
    

    <h3 id="Bootstrapping"><a href="#toc-Bootstrapping">Bootstrapping</a> <a class="hdr" href="#Bootstrapping">Â§</a></h3>

    <p>During this release cycle, the C++ implementation of Zig was <em>deleted</em>.
    The <code>-fstage1</code> flag is no longer a recognized command-line parameter.</p>
    <p>Zig is now bootstrapped using a 2.4 MiB <a href="#WebAssembly">WebAssembly</a>
    file and a C compiler. Please enjoy this blog post which goes into the details:
    <a href="/news/goodbye-cpp/">Goodbye to the C++ Implementation of Zig</a>
    </p>
    <p>Thanks to improvements to the <a href="#C-Backend">C Backend</a>, it is now possible to bootstrap
      on <a href="#Windows">Windows</a> using MSVC.</p>
    <p>Also fixed: bootstrapping the compiler on <a href="#ARM">ARM</a> and on mingw.</p>
    <p>The logic for detecting MSVC installations on <a href="#Windows">Windows</a> has been ported
    from C++ to Zig (#15657). That was the last C++ source file; the compiler
    is now 100% Zig code, except for <a href="#LLVM-16">LLVM</a> libraries.</p>
    


    <h3 id="Reproducible-Builds"><a href="#toc-Reproducible-Builds">Reproducible Builds</a> <a class="hdr" href="#Reproducible-Builds">Â§</a></h3>

    <p>According to Zig's
    <a href="https://ziglang.org/documentation/0.11.0/#Build-Mode">build modes documentation</a>:
    </p>
    <ul>
      <li><code>-ODebug/</code> is not required to be reproducible (building the same zig source may output a different, semantically equivalent, binary)</li>
      <li><code>-OReleaseSafe</code>, <code>-OReleaseSmall</code> and <code>-OReleaseFast</code>
        are all required to be reproducible (building the same zig source outputs a
        deterministic binary)</li>
    </ul>
      <p>Terminology:</p>
      <ul>
        <li><strong>stage1</strong> is the compiler implementation in <code>src/stage1/*</code>, compiled with system toolchain</li>
        <li><strong>stage2</strong> is the compiler implementation in <code>src/*.zig</code>, compiled with stage1.</li>
        <li><strong>stage3</strong> is the compiler implementation in <code>src/*.zig</code>, compiled with stage2.</li>
        <li><strong>stage4</strong> is the compiler implementation in <code>src/*.zig</code>, compiled with stage3.</li>
      </ul>
      <p>
      In theory, stage3 and stage4 should be byte-for-byte identical when
      compiled in release mode. In practice, this was not true. However, this
      has been fixed in this release. They now produce byte-for-byte identical
      executable files.</p>
      <p>This property is verified by CI checks for these targets:</p>
      <ul>
        <li>x86-64 Linux</li>
        <li>aarch64 macOS</li>
      </ul>
    

    <h3 id="C-ABI-Compatibility"><a href="#toc-C-ABI-Compatibility">C ABI Compatibility</a> <a class="hdr" href="#C-ABI-Compatibility">Â§</a></h3>

    <ul>
      <li>Fixed C ABI compatibility with C <code>double</code> types and add a lot of new
          test coverage for them (#13376).</li>
      <li>Fixed x86_64 sysV ABI of big vectors on avx512 enabled CPUs in the <a href="#LLVM-Backend">LLVM Backend</a> (#13629).</li>
      <li>Fixed some floating-point issues (#14271).</li>
      <li>Various fixes (#16593).</li>
    </ul>
    <p>To get a sense of Zig's C ABI compatibility, have a look at the
    <a href="https://github.com/ziglang/zig/blob/0.11.0/test/tests.zig#L460-L517">target coverage</a>
    and
    <a href="https://github.com/ziglang/zig/tree/0.11.0/test/c_abi">test cases</a>.
    </p>
    

    <h3 id="C-Translation"><a href="#toc-C-Translation">C Translation</a> <a class="hdr" href="#C-Translation">Â§</a></h3>

    <ul>
      <li>Remainder macro fix (#13371).</li>
      <li>Use .identifier tokens in .identifier AST nodes (#13343).</li>
      <li>Cast unsuffixed floats to f64.</li>
      <li>Handle more wrapper types in <code>isAnyopaque</code>.</li>
      <li>Support brace-enclosed string initializers (c++20 9.4.2.1).</li>
      <li>Fixed codegen when C source has variables named the same as mangling prefixes (#15420).</li>
      <li>Deduplicate global declarations (#15456).</li>
      <li>Use <code><span class="line"><span class="tok-builtin">@constCast</span></span></code> and <code><span class="line"><span class="tok-builtin">@volatileCast</span></span></code> to remove CV-qualifiers instead of converting a pointer to an int and then back to a pointer.</li>
      <li>Fixed types on assign expression bool</li>
      <li>fixed typedeffed pointer subtraction (#14560)</li>
      <li>translate extern unknown-length arrays using @extern (#14743).</li>
    </ul>
    

    <h3 id="Cache-System"><a href="#toc-Cache-System">Cache System</a> <a class="hdr" href="#Cache-System">Â§</a></h3>


    Module: fix zir caching race condition and deadlock (#14821)

commit 81d2135ca6ebd71b8c121a19957c8fbf7f87125b
Merge: 32ce2f91a 984acae12
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Wed Nov 23 14:51:22 2022 -0500

    Merge pull request #13596 from ziglang/cache-path-prefixes
    
    Cache: introduce prefixes to manifests

commit 8ccb9a6ad327a4d7fbc321b33d4aa66a27a1f5ee
Author: Casey Banner <kcbanner@gmail.com>
Date:   Tue Dec 6 23:15:54 2022 -0500

    cache: Fix LockViolation during C compilation paths (#13591)
    
    - C compilation flows didn't hold an exclusive lock on the cache manifest file when writing to it in all cases
    - On windows, explicitly unlock the file lock before closing it

commit 8ff9284c469226faa2be0c73ab27672e1e8a55d1
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Wed Dec 14 17:19:43 2022 -0700

    glibc: avoid poisoning the cache namespace with zig lib dir
    
    In glibc.zig, there were a few instances where the zig lib dir path name
    incorrectly made its way into the cache namespace for various build
    artifacts, resulting in unnecessary rebuilds of glibc.
    
    Closes #13619

commit a3e2ee091139740d076da1176ac8c487ca20a9a6
Author: Casey Banner <kcbanner@gmail.com>
Date:   Wed Jan 4 14:51:43 2023 -0500

    Fix another LockViolation case on Windows (#14162)
    
    - Add an assert that an exclusive lock is help to writeManifest
    - Only call writeManifest in updateCObject if an exclusive lock is held
    - cache: fixup test to verify hits don't take an exclusive lock, instead of writing the manifest
commit 34286530b7c8beb070368b54abd8ec67a7344119
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Tue Apr 18 13:08:30 2023 -0700

    Cache: fix multi-process race condition on macOS
    
    This fixes `.INVAL => unreachable` being triggered by the cache system
    on macOS when multiple processes race to create the same compilation.
    The problem is that when two processes race to create a file, it
    sometimes returns ENOENT even though that error code is nonsensical for
    this situation.
    
    Commit 2b0929929d67e222ca6a9523a3a594ed456c4a51 purportedly solved this,
    but it did not open the file with write permissions, leading to the
    EINVAL panic later on. This commit remedies the situation by introducing
    a loop and simply retrying when the ENOENT occurs.

commit 4ea2f441df36cec61e1017f4d795d4037326c98c
Author: Andrius Bentkus <andrius.bentkus@gmail.com>
Date:   Sat Jul 16 15:46:13 2022 +0300

    Module: retry ZIR cache file creation
    
    There are no dir components, so you would think that this was
    unreachable, however we have observed on macOS two processes racing to
    do openat() with O_CREAT manifest in ENOENT.
    
    closes #12138

    

    <h3 id="Code-Generation"><a href="#toc-Code-Generation">Code Generation</a> <a class="hdr" href="#Code-Generation">Â§</a></h3>

    TODO

    <h4 id="LLVM-Backend"><a href="#toc-LLVM-Backend">LLVM Backend</a> <a class="hdr" href="#LLVM-Backend">Â§</a></h4>

    <ul>
      <li>Mangle extern function names for Wasm target (#13396).</li>
      <li>Improved emitted debug info (#12257) (#12665) (#13719) (#14130) (#15349).</li>
      <li>Improved load elision (#12215).</li>
      <li>Fixed f16, f32, and f64 signaled NaN bitcasts (#14198).</li>
      <li>Implement Stdcall calling convention.</li>
      <li>Optimize access of array member in a structure.</li>
      <li>Stop generating FPU code if there is no FPU (#14465).</li>
      <li>Began work on eliminating dependency on LLVM's IRBuilder API (#13265).</li>
      <li>Support read-write output constraints in assembly (#15227).</li>
    </ul>
    

    <h4 id="C-Backend"><a href="#toc-C-Backend">C Backend</a> <a class="hdr" href="#C-Backend">Â§</a></h4>

    <p>
    Now passing <strong>1652/1679 (98%)</strong> of the behavior tests, compared to the
    <a href="#LLVM-Backend">LLVM Backend</a>.
    </p>
    <p>The generated C code is now MSVC-compatible.</p>
    <p>This backend is now used for <a href="#Bootstrapping">Bootstrapping</a> and is
    no longer considered <strong>experimental</strong>.</p>
    <p>It has seen some optimizations to reduce the size of the outputted C code, such
    as reusing locals where possible. However, there are still many more optimizations that
    could be done to further reduce the size of the outputted C code.</p>
    

    <h4 id="x86-Backend"><a href="#toc-x86-Backend">x86 Backend</a> <a class="hdr" href="#x86-Backend">Â§</a></h4>

    <p>Although the x86 backend is still considered <strong>experimental</strong>, it
    is now passing <strong>1474/1679 (88%)</strong> of the behavior tests,
    compared to the <a href="#LLVM-Backend">LLVM Backend</a>.</p>
    <ul>
    <li>add <a href="#DWARF">DWARF</a> encoding for SIMD registers</li>
    <li>introduce table-drive instruction encoder based on <a href="https://github.com/kubkon/zig-dis-x86_64"><code>zig-dis-x86_64</code></a></li>
    <li>add basic Thread-Local Storage support when targeting <a href="#MachO">MachO</a></li>
    </ul>
    

    <h4 id="WebAssembly-Backend"><a href="#toc-WebAssembly-Backend">WebAssembly Backend</a> <a class="hdr" href="#WebAssembly-Backend">Â§</a></h4>

    <p>This release did not see many user-facing features added to the
    WebAssembly backend. A few notable features are:</p>
    <ul>
      <li>atomics</li>
      <li>packed structs</li>
      <li>initial SIMD support</li>
      <li>Several safety-checks</li>
    </ul>
    <p>
Besides those language features, the WebAssembly backend now also uses the
regular <code>start.zig</code> logic as well as the standard test-runner. This is a big
step as the default test-runner logic uses a client-server architecture,
requiring a lot of the language to be implemented for it to work. This will
also help us further with completing the WebAssembly backend as the test-runner
provides us with more details about which test failed.
    </p>
    <p>
    Lastly, a lot of bugs and miscompilations were fixed, passing more behavior tests.
    Although the WebAssembly backend is still considered
    <strong>experimental</strong>, it is now passing <strong>1428/1657
    (86%)</strong> of the behavior tests, compared to the <a href="#LLVM-Backend">LLVM Backend</a>.</p>
    

    <h4 id="SPIR-V-Backend"><a href="#toc-SPIR-V-Backend">SPIR-V Backend</a> <a class="hdr" href="#SPIR-V-Backend">Â§</a></h4>

    <p><a href="https://github.com/Snektron/">Robin "Snektron" Voetter</a> writes:</p>
  <p>This release cycle saw significant improvement of the self-hosted SPIR-V backend. SPIR-V is a bytecode representation for shaders and kernels that run on GPUs. For now, the SPIR-V backend of Zig is focused on generating code for OpenCL kernels, though Vulkan compatible shaders may see support in the future too.</p>
  <p>The main contributions in this release cycle feature a crude assembler for SPIR-V inline assembly, which is useful for supporting fringe types and operations, and other features from SPIR-V that do not expose itself well from within Zig.</p>
  <p>The backend also saw improvements to codegen, and is now able to compile and execute about 37% of the compiler behavior test suite on select OpenCL implementations. Unfortunately this does not yet include Rusticl, which is currently missing a few features that the Zig SPIR-V backend requires.</p>
  <p>Currently, executing SPIR-V tests requires third-party implementations of the test runner and test executor. In the future, these will be integrated further with Zig.</p>
    

    <h4 id="aarch64-Backend"><a href="#toc-aarch64-Backend">aarch64 Backend</a> <a class="hdr" href="#aarch64-Backend">Â§</a></h4>

    <p>During this release cycle, some progress was made on this
    <strong>experimental</strong> backend, but there is nothing user-facing to
    report. It has not yet graduated beyond the <strong>simplified start
    code</strong> routines, so we have no behavior test percentage to report.</p>
    
    

    <h3 id="Error-Return-Tracing"><a href="#toc-Error-Return-Tracing">Error Return Tracing</a> <a class="hdr" href="#Error-Return-Tracing">Â§</a></h3>

    TODO turn https://github.com/ziglang/zig/issues/13618 into release notes
    

    <h3 id="Safety-Checks"><a href="#toc-Safety-Checks">Safety Checks</a> <a class="hdr" href="#Safety-Checks">Â§</a></h3>

commit b8473ae7d333ea2750e55e712722d446076e99d9
Merge: 648579b33 b2b1d421c
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Tue Nov 29 19:59:55 2022 -0500

    Merge pull request #13693 from Vexu/safety
    
    Safety panic improvements & some bug fixes

commit 9684947faae674e093dda4c81d94f51b9568369e
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Sat Jun 24 15:03:15 2023 -0700

    compiler: start moving safety-checks into backends
    
    This actually used to be how it worked in stage1, and there was this
    issue to change it: #2649
    
    So this commit is a reversal to that idea. One motivation for that issue
    was avoiding emitting the panic handler in compilations that do not have
    any calls to panic. This commit only resolves the panic handler in the
    event of a safety check function being emitted, so it does not have that
    flaw.
    
    The other reason given in that issue was for optimizations that elide
    safety checks. It's yet to be determined whether that was a good idea or
    not; this can get re-explored when we start adding optimization passes
    to AIR.
    
    This commit adds these AIR instructions, which are only emitted if
    `backendSupportsFeature(.safety_checked_arithmetic)` is true:
     * add_safe
     * sub_safe
     * mul_safe
    
    It removes these nonsensical AIR instructions:
     * addwrap_optimized
     * subwrap_optimized
     * mulwrap_optimized
    
    The safety-checked arithmetic functions push the burden of invoking the
    panic handler into the backend. This makes for a messier compiler
    implementation, but it reduces the amount of AIR instructions emitted by
    Sema, which reduces time spent in the secondary bottleneck of the
    compiler. It also generates more compact LLVM IR, reducing time spent in
    the primary bottleneck of the compiler.
    
    Finally, it eliminates 1 stack allocation per safety-check which was
    being used to store the resulting tuple. These allocations were going to
    be annoying when combined with suspension points.
    

    <h3 id="Struct-Field-Order"><a href="#toc-Struct-Field-Order">Struct Field Order</a> <a class="hdr" href="#Struct-Field-Order">Â§</a></h3>

commit e646becd04c37fbaaa654f6419dd9f5e85d9f210
Merge: 37424fd11 b2c85464b
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Mon Jan 16 21:19:48 2023 -0500

    Merge pull request #14336 from Vexu/field-reorder
    
    Sema: automatically optimize order of struct fields
    

    <h3 id="Incremental-Compilation"><a href="#toc-Incremental-Compilation">Incremental Compilation</a> <a class="hdr" href="#Incremental-Compilation">Â§</a></h3>

    TODO
    TODO mention InternPool
    TODO outline the roadmap to get there
    

    <h3 id="New-Module-CLI"><a href="#toc-New-Module-CLI">New Module CLI</a> <a class="hdr" href="#New-Module-CLI">Â§</a></h3>

commit 7f691b3fe26f623d108a6b2b2018bbc3aa999224
Merge: 05da5b32a f94cbab3a
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Tue Feb 21 11:43:31 2023 -0500

    Merge pull request #14664 from mlugg/feat/new-module-cli
    
    New module CLI
    
    

    <h2 id="Linker"><a href="#toc-Linker">Linker</a> <a class="hdr" href="#Linker">Â§</a></h2>

    <p>
    Depending on the target, Zig will use <a href="#LLVM-16">LLD</a>, or its own
    linker implementation. In order to override the default, pass <code>-fLLD</code>
    or <code>-fno-LLD</code>.
    </p>

commit b3f4e0d091d83874af849f1d1a2328ad7c154d42
Author: Motiejus JakÅ¡tys <motiejus@uber.com>
Date:   Fri Dec 16 09:29:09 2022 +0200

    Elf: switch link order of libcompiler_rt and libc

    TODO: note: this commit message has a lot of possibly interesting text

    <ul>
    <li>decouple <code>Decl</code> from <code>Atom</code> - now every linker is free to track <code>Decl</code> however they like; the (in)famous change
    that removed the dreaded <code>link.File.allocateDeclIndexes</code> function</li>
    <li>handle <code>-u</code> flag</li>
    </ul>

    <h3 id="MachO"><a href="#toc-MachO">MachO</a> <a class="hdr" href="#MachO">Â§</a></h3>

    <img alt="Ziggy the Ziguana" src="https://ziglang.org/img/Ziggy_2.svg" style="height: 16em; float: right">
<ul>
<li>fix bug where we do not zero-out file if there are only zerofill sections</li>
<li>parse weak symbols in TBD files - emitting weak import definitions is still unimplemented however</li>
<li>improve parsing of DWARF debug info including <code>DW_FORM_block*</code> and <code>DW_FORM_string</code> forms</li>
<li>when linking incrementally, creating <code>dSYM</code> bundle directly in the emit directory rather than local cache</li>
<li>ensure <code>__DWARF</code> segment comes before <code>__LINKEDIT</code> in <code>dSYM</code> bundle which greatly simplifies incremental linking
of debug info on macOS</li>
<li>impl parallel MD5-like hash for UUID calculation - by pulling out the parallel hashing setup from 
<code>CodeSignature.zig</code>, we can now reuse it different places across MachO linker. The parallel hasher is generic 
over actual hasher such as Sha256 or MD5.</li>
<li>fix source of nondeterminism in code signature - identifier string in code signature should be just basename</li>
<li>add missing clang options: <code>-install_name</code> and <code>-undefined</code></li>
<li>handle <code>-undefined error</code> flag</li>
<li>add strict MachO validation test with test matrix pulled from Apple&#39;s <code>libstuff</code> library - ensures we catch 
regression which may invalidate the binary when inspected by Apple tooling such as <code>codesign</code>, etc.</li>
<li>improve <code>dyld</code> opcodes emitters - we now generate vastly compressed opcodes for the loader reducing overall binary
size and improve loading times</li>
<li>parse, synthesise and emit unwind information records - includes emitting <code>__TEXT,__unwind_info</code> and <code>__TEXT,
__eh_frame</code> sections making Zig linked binaries compatible with <code>libunwind</code></li>
<li>downgrade alignment requirements for symtab in object files, and especially object files in static archives - 
instead of requiring 8-byte alignment, we operate directly on unaligned data now</li>
<li>move macOS kernel inode cache invalidation to the MachO linker, and clean up opening/closing of file descriptors
ensuring we don&#39;t leak any file descriptors by accident</li>
<li>relax assumption about dead strip atoms uniqueness - in case the compiler output an object file that is not 
<code>MH_SUBSECTIONS_VIA_SYMBOLS</code> compatible, entry point may overlap with a section atom which is perfectly fine, 
so don&#39;t panic in that case</li>
<li>use <code>TOOL=0x5</code> to mean Zig as the build tool in <code>LC_BUILD_VERSION</code></li>
<li>save all defined globals in the export trie for executable - this matches the behavior of other linkers</li>
<li>when finding by address, note the end of section symbols too - previously, if we were looking for the very last 
symbol by address in some section, and the next symbol happened to also have the same address value but would 
reside in a different section, we would keep going finding the wrong symbol in the wrong section. This mechanism 
turns out vital for correct linking of Go binaries where the runtime looks for specially crafted synthetic symbols 
which mark the beginning and end of each section. In this case, we had an unfortunate clash between the end of PC 
marked machine code section (<code>_runtime.etext</code>) and beginning of read-only data (<code>_runtime.rodata</code>).</li>
<li>look for entry point in static archives and dynamic libraries</li>
<li>handle weird case of entry point being a stub entry (<code>__TEXT,__stubs</code> entry)</li>
<li>implement emitting TLS variables in incremental codepath</li>
<li>fix memory bugs in TAPI/yaml parser</li>
<li>fix parsing of <code>__TEXT,__eh_frame</code> sections emitted by Nix C++ compiler</li>
<li>fix parsing of TBDv3 input files</li>
<li>implement working hot-code swapping PoC</li>
</ul>
    

    <h3 id="COFF"><a href="#toc-COFF">COFF</a> <a class="hdr" href="#COFF">Â§</a></h3>

    <ul>
    <li>handle incremental linking of <code>aarch64-windows</code> target</li>
    <li>handle linking and loading against multiple DLLs</li>
    <li>implement working hot-code swapping PoC</li>
    </ul>
    

    <h3 id="ELF"><a href="#toc-ELF">ELF</a> <a class="hdr" href="#ELF">Â§</a></h3>

    <ul>
      <li>rename <code>TextBlock</code> into <code>Atom</code></li>
      <li>move logic for allocating a GOT entry into a helper</li>
      <li>fully zero-out ELF symbol record when appending to freelist - avoids uninitialized data in the output ELF file</li>
      <li>do not reserve a GOT slot for atoms that won't require them</li>
    </ul>
    

    <h3 id="WASM-Modules"><a href="#toc-WASM-Modules">WASM Modules</a> <a class="hdr" href="#WASM-Modules">Â§</a></h3>

    <p><a href="https://github.com/Luukdegram">Luuk de Gram</a> writes:</p>
    <p>During this release, a lot of work has gone into the in-house WebAssembly
    linker. The biggest feature it gained was the support of the <code>shared
    memory</code> feature. This allows multiple WebAssembly modules to access the
    same memory. This feature opens support for multi-threading in WebAssembly.
    This also required us to implement support for Thread-Local Storage. The linker is now fully
    capable of linking with <a href="#WASI-libc">WASI-libc</a>, also. Users can now make use of the in-house
    linker by supplying the <code>-fno-LLD</code> flag to your <code>zig
    build-{lib/exe}</code> CLI invocation.</p>

    <p>We are closer than ever to replace LLVM's linker wasm-ld with our
    in-house linker. The last feature to implement for statically built
    WebAssembly modules is garbage collection. This ensures unreferenced
    symbols get removed from the final binary keeping the binaries small in
    disk size. Once implemented, we can make the in-house linker the default
    linker when builing a WebAssembly module and gather feedback and fix any
    bugs that haven't been found yet. We can then start working on other
    features such as dynamic-linking support and any future proposals.</p>

commit fea14c78d1374af909a2f11e37fe057777f3985d
Author: Frank Denis <124872+jedisct1@users.noreply.github.com>
Date:   Wed Mar 8 14:50:06 2023 +0100

    wasm-linker: emit build_id section (#14820)
    
    The Build ID is a value that uniquely identifies a build.
    
    It is intended to capture the "meaning" or inputs of the build,
    and is usually associated with debug info.
    
    Reference: https://github.com/WebAssembly/tool-conventions/blob/main/BuildId.md

    

    <h3 id="DWARF"><a href="#toc-DWARF">DWARF</a> <a class="hdr" href="#DWARF">Â§</a></h3>

    <ul>
    <li>add support for multiple source files in self-hosted backends - this means we emit correct debug info for multifile
    Zig programs such as <code>zig test behavior.zig</code> and is now debuggable in a debugger</li>
    <li>decouple <code>Dwarf.Atom</code> from linkers&#39; <code>Atom</code>s</li>
    </ul>
    

    <h3 id="Move-Library-Path-Resolution-to-the-Frontend"><a href="#toc-Move-Library-Path-Resolution-to-the-Frontend">Move Library Path Resolution to the Frontend</a> <a class="hdr" href="#Move-Library-Path-Resolution-to-the-Frontend">Â§</a></h3>

    TODO https://github.com/ziglang/zig/pull/16058
    
    


    <h2 id="Bug-Fixes"><a href="#toc-Bug-Fixes">Bug Fixes</a> <a class="hdr" href="#Bug-Fixes">Â§</a></h2>

    <p><a href="https://github.com/ziglang/zig/issues?q=is%3Aclosed+is%3Aissue+label%3Abug+milestone%3A0.11.0">Full list of the 711 bug reports closed during this release cycle</a>.</p>
    <p>Many bugs were both introduced and resolved within this release cycle.
    Most bug fixes are omitted from these release notes for the sake of brevity.</p>
    <h3 id="This-Release-Contains-Bugs"><a href="#toc-This-Release-Contains-Bugs">This Release Contains Bugs</a> <a class="hdr" href="#This-Release-Contains-Bugs">Â§</a></h3>

    <img alt="Zero the Ziguana" src="https://ziglang.org/img/Zero_8.svg" style="height: 13em; float: right">
    <p>
    Zig has
    <a href="https://github.com/ziglang/zig/issues?q=is%3Aopen+is%3Aissue+label%3Abug">known bugs</a>
    and even some
    <a href="https://github.com/ziglang/zig/issues?q=is%3Aopen+is%3Aissue+label%3Amiscompilation">miscompilations</a>.
    </p>
    <p>Zig is immature. Even with Zig 0.11.0, working on a non-trivial project using Zig will
    likely require participating in the development process.</p>
    <p>When Zig reaches 1.0.0, <a href="#Tier-1-Support">Tier 1 Support</a> will gain a bug policy as an additional
    requirement.</p>
    <p>A <a href="https://github.com/ziglang/zig/milestone/21">0.11.1 release</a> is planned.
    Please test your projects against 0.11.0 and report any problems on the issue tracker
    so that we can deliver a stable 0.11.1 release.
    </p>
    

    <h3 id="Bug-Stability-Program"><a href="#toc-Bug-Stability-Program">Bug Stability Program</a> <a class="hdr" href="#Bug-Stability-Program">Â§</a></h3>

    TODO
    
    

    <h2 id="Toolchain"><a href="#toc-Toolchain">Toolchain</a> <a class="hdr" href="#Toolchain">Â§</a></h2>

    <ul>
      <li>Ability to specify a custom test runner via a new <code>--test-runner</code> CLI
        option, or the <code><span class="line">std.Build.test_runner_path</span></code> field (#6621).</li>
    </ul>
    <h3 id="LLVM-16"><a href="#toc-LLVM-16">LLVM 16</a> <a class="hdr" href="#LLVM-16">Â§</a></h3>

    <p>
    This release of Zig upgrades to
    <a href="http://releases.llvm.org/16.0.0/docs/ReleaseNotes.html">LLVM 16.0.6</a>.
    </p>
    <p>During this release cycle, it has become a goal of the Zig project to eventually
    <a href="https://github.com/ziglang/zig/issues/16270">eliminate all dependencies on LLVM, LLD, and Clang libraries</a>. There will still be an <a href="#LLVM-Backend">LLVM Backend</a>, however it will
    <a href="https://github.com/ziglang/zig/issues/13265">directly output bitcode files rather than using LLVM C++ APIs</a>.</p>
    

    <h3 id="musl-124"><a href="#toc-musl-124">musl 1.2.4</a> <a class="hdr" href="#musl-124">Â§</a></h3>

    <p>
    Zig ships with the source code to <a href="http://musl.libc.org/">musl</a>.
    When the musl C ABI is selected, Zig builds static musl from source for the selected target.
    Zig also supports targeting dynamically linked musl which is useful for Linux distributions
    that use it as their system libc, such as
    <a href="https://www.alpinelinux.org/">Alpine Linux</a>.
    </p>
    <p>
    This release upgrades from v1.2.3 to v1.2.4.
    </p>
    

    <h3 id="glibc-234"><a href="#toc-glibc-234">glibc 2.34</a> <a class="hdr" href="#glibc-234">Â§</a></h3>

    <img alt="Zero the Ziguana" src="https://ziglang.org/img/Zero_3.svg" style="height: 17em; float: right">
    TODO glibc is still stuck on the old version
    <ul>
    <li>Allow linking against external libcrypt (#5990).</li>
    </ul>
    

    <h3 id="mingw-w64-1101"><a href="#toc-mingw-w64-1101">mingw-w64 11.0.1</a> <a class="hdr" href="#mingw-w64-1101">Â§</a></h3>

    <p>
    Zig ships with the source code to <a href="https://mingw-w64.org/">mingw-w64</a>.
    When targeting *-windows-gnu and linking against libc, Zig builds mingw-w64 from source
    for the selected target.
    </p>
    <p>This release updates the bundled mingw-w64 source code to
    <a href="https://sourceforge.net/p/mingw-w64/mailman/message/37837156/">v11.0.1</a>.</p>
    <ul>
      <li>Added missing vscprintf.c file (#13733).</li>
    </ul>
    

    <h3 id="WASI-libc"><a href="#toc-WASI-libc">WASI-libc</a> <a class="hdr" href="#WASI-libc">Â§</a></h3>

    TODO
    

    <h3 id="compiler-rt"><a href="#toc-compiler-rt">compiler-rt</a> <a class="hdr" href="#compiler-rt">Â§</a></h3>

    <p>
    compiler-rt is the library that provides, for example, 64-bit integer multiplication for
    32-bit architectures which do not have a machine code instruction for it.
    The <a href="https://gcc.gnu.org/">GNU</a> toolchain calls this library
    <strong>libgcc</strong>.
    </p>
    <p>
    Unlike most compilers, which depend on a binary build of compiler-rt being installed alongside
    the compiler, Zig builds compiler-rt from source, lazily, for the
    target platform. It avoids repeating this work unnecessarily via the <a href="#Cache-System">Cache System</a>.
    </p>
    <p>This release saw some improvements to Zig's compiler-rt implementation:</p>
    <ul>
      <li>Fixed duplicate symbol error on aarch64 <a href="#Windows">Windows</a> (#13430).</li>
      <li>Removed some no-longer-needed workarounds thanks to <a href="#Compiler">Compiler</a>
      bugs being fixed (#13553).</li>
      <li>Added aarch64 outline atomics (#11828).</li>
      <li>Added <code>__udivei4</code> and <code>__umodei4</code> for
        dividing and formatting arbitrary-large unsigned integers (#14023).</li>
      <li>Added <code>__ashlsi3</code>, <code>__ashrsi3</code>, <code>__lshrsi3</code> for
        libgcc symbol compatibility.</li>
      <li>Added <code>__divmodti4</code> for libgcc symbol compatibility (#14608).</li>
      <li>Added <code>__powihf2</code>, <code>__powisf2</code>, <code>__powidf2</code>, <code>__powitf2</code>, <code>__powixf2</code>.</li>
      <li>Fixed <code><span class="line"><span class="tok-type">f16</span></span></code> ABI on <a href="#macOS">macOS</a> with <a href="#LLVM-16">LLVM 16</a>.</li>
      <li>Added
        <code>__fixkfti</code>, <code>__fixunskfti</code>,
        <code>__floattikf</code>, <code>__negkf2</code>, <code>__mulkc3</code>,
        <code>__divkc3</code>, and <code>__powikf2</code> for <a href="#PowerPC">PowerPC</a> (#16057).</li>
      <li>Optimized udivmod (#15265).</li>
    </ul>
    <h4 id="Bundling-Into-Object-Files"><a href="#toc-Bundling-Into-Object-Files">Bundling Into Object Files</a> <a class="hdr" href="#Bundling-Into-Object-Files">Â§</a></h4>

    <p>When the following is specified</p>
    <figure><figcaption class="shell-cap">Shell</figcaption><pre><samp>$ <kbd>zig build-obj -fcompiler-rt example.zig</kbd>
</samp></pre></figure>
    <p>the resulting relocatable object file will have the compiler-rt
    unconditionally embedded inside:</p>
    <figure><figcaption class="shell-cap">Shell</figcaption><pre><samp>$ <kbd>nm example.o</kbd>
...
0000000012345678 W __truncsfhf2
...
</samp></pre></figure>
    
    

    <h3 id="zig-cc"><a href="#toc-zig-cc">zig cc</a> <a class="hdr" href="#zig-cc">Â§</a></h3>

    <p><code>zig cc</code> is Zig's drop-in C compiler tool. Enhancements in this release:</p>
    <ul>
      <li>Support <code>-z</code> stack-size arguments.</li>
      <li>Add missing clang opts: <code>-install_name</code> and <code>-undefined</code>.</li>
      <li>Add support for <code>-undefined error</code> (#14046).</li>
      <li>Avoid passing redzone args when targeting powerpc.</li>
      <li>Support <code>-x</code> to override the language.</li>
      <li>Support <code>-r</code> (#11683).</li>
      <li>Properly pass soft-float option for MIPS assembly files.</li>
      <li>Fixed generating <a href="#COFF">COFF</a> debug info on GNU ABIs.</li>
      <li>Support reading from stdin (#14462).</li>
      <li>Implement <code>-###</code> (dry run) (#7170).</li>
      <li>Support <code>-l :path/to/lib.so</code> (#15743).</li>
      <li>Support <code>-version-script</code>.</li>
      <li>Support more <a href="#Linker">Linker</a> arguments:<ul>
        <li><code>--version</code> (#15549)</li>
        <li><code>--dynamicbase</code></li>
        <li><code>-wrap</code> (#15097)</li>
        <li><code>-stack</code> and <code>--stack</code></li>
        <li><code>--sort-common</code> (ignore)</li>
        <li><code>--sort-section</code></li>
        <li><code>--no-undefined</code> and <code>-z undefs</code> (#11912)</li>
        <li><code>-z&lt;arg&gt;</code> (equivalent to <code>-z &lt;arg&gt;</code>) (#14680)</li>
      </ul></li>
    </ul>
    <p>This feature is covered by our <a href="#Bug-Stability-Program">Bug Stability Program</a>.</p>
    <h4 id="Fail-Hard-on-Unsupported-Linker-Flags"><a href="#toc-Fail-Hard-on-Unsupported-Linker-Flags">Fail Hard on Unsupported Linker Flags</a> <a class="hdr" href="#Fail-Hard-on-Unsupported-Linker-Flags">Â§</a></h4>

    <p>Before, <code>zig cc</code>, when confronted with a linker argument it did
    not understand, would skip the flag and emit a warning.
    </p><p>
    This caused headaches for people that build third-party software. Zig
    would seemingly build and link the final executable, only to have it segfault when
    executed.
    </p><p>
    If there are linker warnings when compiling software, the first thing we
    have to do is add support for ones linker is complaining, and only then
    go file issues. If zig "successfully" (i.e. status code = 0) compiles a
    binary, there is instead a tendency to blaim "zig doing something
    weird". Adding the unsupported arguments is straightforward; see
    #11679, #11875, #11874 for examples.
    </p>
    <p>With Zig 0.11.0, unrecognized linker arguments are hard errors.</p>
    
    

    <h3 id="zig-c"><a href="#toc-zig-c">zig c++</a> <a class="hdr" href="#zig-c">Â§</a></h3>

    <p><code>zig c++</code> is equivalent to <a href="#zig-cc">zig cc</a> with an added <code>-lc++</code>
    parameter, but I made a separate heading here because I realized that some people are
    not aware that Zig supports compiling C++ code and providing libc++ too!
    </p>

    <figure><figcaption class="c-cap"><cite class="file">hello.cpp</cite></figcaption><pre><code><span class="line">#include &lt;iostream&gt;</span>
<span class="line">int main() {</span>
<span class="line">    std::cout &lt;&lt; &quot;Hello World!&quot; &gt;&gt; std::endl;</span>
<span class="line">    return 0;</span>
<span class="line">}</span></code></pre></figure>
    <figure><figcaption class="shell-cap">Shell</figcaption><pre><samp>$ <kbd>zig c++ -o hello hello.cpp</kbd>
$ <kbd>./hello</kbd>
Hello World!
</samp></pre></figure>
    <p>Cross-compiling too, of course:</p>
    <figure><figcaption class="shell-cap">Shell</figcaption><pre><samp>$ <kbd>zig c++ -o hello hello.cpp -target riscv64-linux</kbd>
$ <kbd>qemu-riscv64 ./hello</kbd>
Hello World!
</samp></pre></figure>
    <p>
    One thing that trips people up when they use this feature is that the
    <strong>C++ ABI is not stable across compilers</strong>, so always remember the rule:
    You must use the same C++ compiler to compile <em>all</em> your objects and static libraries.
    This is an unfortunate limitation of C++ which Zig can never fix.
    </p>
    

    <h3 id="zig-fmt"><a href="#toc-zig-fmt">zig fmt</a> <a class="hdr" href="#zig-fmt">Â§</a></h3>

    <ul>
      <li>Fixed extra whitespace with multiline strings (#13937).</li>
      <li>Improved handling of comptime tuple fields.</li>
      <li>Omit extra whitespace after last comment before EOF.</li>
      <li>Avoid canonicalizing enum fields named `@"_"` to `_` (#15617).</li>
      <li>additionally format .zon files</li>
      <li>make `--exclude` work on files (#16178)</li>
      <li>fix file ending in a multi line comment</li>
    </ul>
commit 68d2f68ed823984a59724e256e78c5654d55b088
Author: yujiri8 <yujiri@disroot.org>
Date:   Fri Dec 16 22:24:58 2022 +0000

    zig fmt: fix extra whitespace with multiline strings
    
    Fixes #13937

commit 346ec15c5005e523c2a1d4b967ee7a4e5d1e9775
Author: Tom Read Cutting <moosichu@users.noreply.github.com>
Date:   Sun Feb 19 12:14:03 2023 +0000

    Correctly handle carriage return characters according to the spec (#12661)
    
    * Scan from line start when finding tag in tokenizer
    
    This resolves a crash that can occur for invalid bytes like carriage
    returns that are valid characters when not parsed from within literals.
    
    There are potentially other edge cases this could resolve as well, as
    the calling code for this function didn't account for any potential
    'pending_invalid_tokens' that could be queued up by the tokenizer from
    within another state.
    
    * Fix carriage return crash in multiline string
    
    Follow the guidance of #38:
    
    > However CR directly before NL is interpreted as only a newline and not part of the multiline string. zig fmt will delete the CR.
    
    Zig fmt already had code for deleting carriage returns, but would still
    crash - now it no longer does so. Carriage returns encountered before
    line-feeds are now appropriately removed on program compilation as well.
    
    * Only accept carriage returns before line feeds
    
    Previous commit was much less strict about this, this more closely
    matches the desired spec of only allow CR characters in a CRLF pair, but
    not otherwise.
    
    * Fix CR being rejected when used as whitespace
    
    Missed this comment from ziglang/zig-spec#83:
    
    > CR used as whitespace, whether directly preceding NL or stray, is still unambiguously whitespace. It is accepted by the grammar and replaced by the canonical whitespace by zig fmt.
    
    * Add tests for carriage return handling

    <h4 id="Canonicalization-of-Identifiers"><a href="#toc-Canonicalization-of-Identifiers">Canonicalization of Identifiers</a> <a class="hdr" href="#Canonicalization-of-Identifiers">Â§</a></h4>

    <p>This adds new behavior to <code>zig fmt</code> which normalizes (renders a canonical form of) quoted identifiers like <code>@"hi_mom"</code> to some extent. This can make codebases more consistent and searchable.</p>
    <p>To prevent making the details of Unicode and UTF-8 dependencies of the Zig language, only bytes in the ASCII range are interpreted and normalized. Besides avoiding complexity, this means invalid UTF-8 strings cannot break <code>zig fmt</code>.</p>
    <p>Both the tokenizer and the new formatting logic may overlook certain errors in quoted identifiers, such as nonsense escape sequences like <code>\m</code>. For now, those are ignored and we defer to existing later analysis to catch.</p>
    <p>This change is not expected to break any existing code.</p>
    <h2 id="behavior">Behavior</h2>
    <p>Below, "verbatim" means "as it was in the original source"; in other words, not altered.</p>
    <ul>
    <li>If an identifier is bare (not quoted) in the original source, no change is made. Everything below only applies to quoted identifiers.</li>
    <li>Quoted identifiers are processed byte-wise, not interpreted as a UTF-8 sequence.</li>
    <li><code>\x</code> and <code>\u</code> escapes are processed.<ul>
    <li>If the escape sequence itself is invalid, the sequence is rendered verbatim.</li>
    <li>If the un-escaped codepoint is not ASCII, the sequence is rendered verbatim.</li>
    <li>Otherwise, the character is rendered with <a href="https://github.com/ziglang/zig/blob/cbdd21c/lib/std/zig/fmt.zig#L50-L87"><code>formatEscapes</code></a> rules: either literally or <code>\x</code>-escaped as needed.</li>
    </ul>
    </li>
    <li>If the resulting identifier still contains escapes, it it remains quoted.</li>
    <li>If the resulting identifier is not a valid bare symbol (<code>[A-Za-z_][A-Za-z0-9_]*</code>), it remains quoted.</li>
    <li>If the resulting identifier is a keyword, it remains quoted.</li>
    <li>If the resulting identifier is a primitive value/type (<code>i33</code>, <code>void</code>, <code>type</code>, <code>null</code>, <code>_</code>, etc.), it is rendered unquoted if the syntactical context allows it (field access, container member), otherwise it remains quoted.</li>
    <li>Otherwise, it is unquoted. Celebrate in the manner of your choosing.</li>
    </ul>
    <p>(#166)</p>
    
    

    <h3 id="zig-objcopy"><a href="#toc-zig-objcopy">zig objcopy</a> <a class="hdr" href="#zig-objcopy">Â§</a></h3>

    <p>This is a new subcommand added in this release. Functionality is limited,
      but we can add features as needed. This subcommand has no dependency
      on <a href="#LLVM-16">LLVM</a>.</p>
    

    

    <h2 id="Roadmap"><a href="#toc-Roadmap">Roadmap</a> <a class="hdr" href="#Roadmap">Â§</a></h2>

    <img alt="Ziggy the Ziguana" src="https://ziglang.org/img/Ziggy_8.svg" style="height: 12em; float: right; transform: scaleX(-1)">

    <p>The major themes of the 0.12.0 release cycle will be
    <strong>language changes</strong>,
    <strong>compilation speed</strong>, and <strong>package management</strong>.
    </p>

    <p>Some upcoming milestones we will be working towards in the 0.12.0 release cycle:</p>
    <ul>
      <li>Many <a href="#Accepted-Proposals">Accepted Proposals</a> implemented. Expect breakage!</li>
      <li>Behavior tests passing for the <a href="#x86-Backend">x86 Backend</a>, <a href="#aarch64-Backend">aarch64 Backend</a>, and
        <a href="#WebAssembly-Backend">WebAssembly Backend</a>.
        Unleashes our full compilation speed when targeting the respective architecture.</li>
      <li>Fuzz test <a href="#Incremental-Compilation">Incremental Compilation</a> so that we can enable it and gain compilation
        speed for all backends, including the <a href="#LLVM-16">LLVM</a> backend.</li>
      <li><a href="#Linker">Linker</a> support for <a href="#ELF">ELF</a> and <a href="#COFF">COFF</a>.
        Eliminate dependency on <a href="https://lld.llvm.org/">LLD</a>.</li>
      <li>Hot code swapping for <a href="#Windows">Windows</a>, <a href="#macOS">macOS</a>, and <a href="#Linux">Linux</a>.</li>
      <li>Introduce <a href="#Concurrency">Concurrency</a> to semantic analysis to further increase compilation speed.</li>
      <li>An explosion of reusable packages in the Zig ecosystem, creating the need for
        <a href="https://github.com/ziglang/zig/issues/14288">additional tooling</a>
        to deal with <a href="#Build-System">Build System</a> dependency trees.</li>
    </ul>

    <p>Here are the <strong>steps for Zig to reach 1.0</strong>:</p>
    <ol>
      <li>Stabilize the language. No more <a href="#Language-Changes">Language Changes</a> after this.</li>
      <li>Complete the language specification first draft.</li>
      <li>Stabilize the <a href="#Build-System">Build System</a> (this includes <a href="#Package-Management">Package Management</a>).</li>
      <li>Stabilize the <a href="#Standard-Library">Standard Library</a>. That means to add any missing functionality,
        audit the existing functionality, curate it, re-organize everything, and
        fix all the <a href="#Bug-Fixes">bugs</a>.</li>
      <li>Go one full release cycle without any breaking changes.</li>
      <li>Finally we can tag 1.0.</li>
    </ol>

    <h3 id="Accepted-Proposals"><a href="#toc-Accepted-Proposals">Accepted Proposals</a> <a class="hdr" href="#Accepted-Proposals">Â§</a></h3>

    <p>
    If you want more of a sense of the direction Zig is heading, you can look at
    <a href="https://github.com/ziglang/zig/issues?q=is%3Aopen+is%3Aissue+label%3Aaccepted">the set of accepted proposals</a>.
    </p>
    
    

    <h2 id="Thank-You-Contributors"><a href="#toc-Thank-You-Contributors">Thank You Contributors!</a> <a class="hdr" href="#Thank-You-Contributors">Â§</a></h2>

    <img alt="Ziggy the Ziguana" src="https://ziglang.org/img/Ziggy_7.svg" style="height: 11em; float: right">
    <p>Here are all the people who landed at least one contribution into this release:</p>
    <ul style="columns: 3">
<li>Andrew Kelley</li>
<li>Jacob Young</li>
<li>Jakub Konka</li>
<li>Veikka Tuominen</li>
<li>Casey Banner</li>
<li>Luuk de Gram</li>
<li>mlugg</li>
<li>Wooster</li>
<li>Robin Voetter</li>
<li>Dominic</li>
<li>Loris Cro</li>
<li>Frank Denis</li>
<li>Ryan Liptak</li>
<li>Krzysztof Wolicki</li>
<li>Manlio Perillo</li>
<li>Michael Dusan</li>
<li>Nameless</li>
<li>Eric Joldasov</li>
<li>Motiejus JakÅ¡tys</li>
<li>Koakuma</li>
<li>Evin Yulo</li>
<li>Linus Groh</li>
<li>Xavier Bouchoux</li>
<li>Ali Chraghi</li>
<li>fn âŒƒ âŒ¥</li>
<li>Jan Philipp Hafer</li>
<li>xEgoist</li>
<li>Cody Tapscott</li>
<li>Joachim Schmidt</li>
<li>Jacob G-W</li>
<li>Stevie Hryciw</li>
<li>Techatrix</li>
<li>Jonathan Marler</li>
<li>Josh Wolfe</li>
<li>IntegratedQuantum</li>
<li>Meghan Denny</li>
<li>antlilja</li>
<li>John Schmidt</li>
<li>Ian Johnson</li>
<li>Isaac Freund</li>
<li>Niles Salter</li>
<li>xdBronch</li>
<li>Auguste Rame</li>
<li>Ryo Ota</li>
<li>Zachary Raineri</li>
<li>DraagrenKirneh</li>
<li>Evan Haas</li>
<li>Jan200101</li>
<li>Marc Tiehuis</li>
<li>yujiri8</li>
<li>Bogdan Romanyuk</li>
<li>David Gonzalez Martin</li>
<li>Erik Arvstedt</li>
<li>Felix "xq" QueiÃŸner</li>
<li>Ganesan Rajagopal</li>
<li>Tw</li>
<li>GethDW</li>
<li>Guillaume Wenzek</li>
<li>InKryption</li>
<li>Jimmi Holst Christensen</li>
<li>Ronald Chen</li>
<li>Takeshi Yoneda</li>
<li>Travis Staloch</li>
<li>jim price</li>
<li>matu3ba</li>
<li>mllken</li>
<li>Bas Westerbaan</li>
<li>Carl Ã…stholm</li>
<li>Emile Badenhorst</li>
<li>Felix "xq" QueiÃŸner</li>
<li>Igor AnicÌ</li>
<li>Lee Cannon</li>
<li>Matt Knight</li>
<li>Mizuochi Keita</li>
<li>Nguyá»…n Gia Phong</li>
<li>Nicolas Sterchele</li>
<li>Pyrolistical</li>
<li>Roman FroÅ‚ow</li>
<li>Ryan Schneider</li>
<li>Tom Read Cutting</li>
<li>bfredl</li>
<li>jcalabro</li>
<li>notcancername</li>
<li>praschke</li>
<li>AdamGoertz</li>
<li>Adrian Delgado</li>
<li>Alex Kladov</li>
<li>Brendan Burns</li>
<li>Chris Boesch</li>
<li>Clement Espeute</li>
<li>Coin</li>
<li>Cortex</li>
<li>Eckhart KÃ¶ppen</li>
<li>Edoardo Vacchi</li>
<li>Emile Badenhorst</li>
<li>Eric Milliken</li>
<li>Felix (xq) QueiÃŸner</li>
<li>Ganesan Rajagopal</li>
<li>Garrett</li>
<li>GaÃ«tan S</li>
<li>Gregory Mullen</li>
<li>Jason Phan</li>
<li>Jay Petacat</li>
<li>Jeremy Volkman</li>
<li>Lauri Tirkkonen</li>
<li>Leo Constantinides</li>
<li>Luis CÃ¡ceres</li>
<li>Maciej 'vesim' KuliÅ„ski</li>
<li>Martin Wickham</li>
<li>Mason Remaley</li>
<li>Mateusz Poliwczak</li>
<li>Mathew R Gordon</li>
<li>Michael Bartnett</li>
<li>Mitchell Hashimoto</li>
<li>Philippe Pittoli</li>
<li>Stephen Gregoratto</li>
<li>Tw</li>
<li>cryptocode</li>
<li>d18g</li>
<li>hequn</li>
<li>serg</li>
<li>shwqf</li>
<li>star-tek-mb</li>
<li>travisstaloch</li>
<li>-k</li>
<li>0x5a4</li>
<li>Adam Goertz</li>
<li>Adrian Cole</li>
<li>Alexis Brodeur</li>
<li>Andrius Bentkus</li>
<li>AnnikaCodes</li>
<li>Arnau</li>
<li>Arya-Elfren</li>
<li>Asherah Connor</li>
<li>Bertie Wheen</li>
<li>Binary Craft</li>
<li>BjÃ¶rn Linse</li>
<li>Borja Clemente</li>
<li>Brett Hill</li>
<li>Chris Heyes</li>
<li>Christofer Nolander</li>
<li>David Carlier</li>
<li>David Vanderson</li>
<li>DerryAlex</li>
<li>Devin Singh</li>
<li>Dumitru Stavila</li>
<li>Ed Yu</li>
<li>Eric Rowley</li>
<li>Evan Typanski</li>
<li>Fabio Arnold</li>
<li>Felix QueiÃŸner</li>
<li>Frechdachs</li>
<li>George  Zhao</li>
<li>Gregory Oakes</li>
<li>Halil</li>
<li>Hao Li</li>
<li>Hardy</li>
<li>Hashi364</li>
<li>Hayden Pope</li>
<li>Hubert Jasudowicz</li>
<li>Ivan Velickovic</li>
<li>J.C. Moyer</li>
<li>Janne Hellsten</li>
<li>Jarred Sumner</li>
<li>Jayden</li>
<li>Jens Goldberg</li>
<li>Jiacai Liu</li>
<li>Jim Price</li>
<li>Jobat</li>
<li>John Schmidt</li>
<li>John Simon</li>
<li>John Zhang</li>
<li>Jon</li>
<li>Jon-Eric Cook</li>
<li>Jonathan</li>
<li>Jonta</li>
<li>Jordan Lewis</li>
<li>Josh</li>
<li>Josh Holland</li>
<li>KOUNOIKE Yuusuke</li>
<li>Ken Kochis</li>
<li>Kim SHrier</li>
<li>Kirk Scheibelhut</li>
<li>Kitty-Cricket Piapiac</li>
<li>Kotaro Inoue</li>
<li>Kyle Coffey</li>
<li>Lavt Niveau</li>
<li>Luiz Berti</li>
<li>Marco Munizaga</li>
<li>Marcos O</li>
<li>Marcus Ramse</li>
<li>Mateusz Radomski</li>
<li>Matt Chudleigh</li>
<li>Matteo Briani</li>
<li>Micah Switzer</li>
<li>Michael Buckley</li>
<li>Mikael Berthe</li>
<li>Mikko Kaihlavirta</li>
<li>Naoki MATSUMOTO</li>
<li>Nathan Bourgeois</li>
<li>Nick Cernis</li>
<li>Nicolas Goy</li>
<li>Nikita Ronja</li>
<li>Phil Eaton</li>
<li>Philipp LÃ¼hmann</li>
<li>Piotr Sarna</li>
<li>Piotr Sikora</li>
<li>Pyry Kovanen</li>
<li>Reuben Dunnington</li>
<li>Robert Burke</li>
<li>Rohlem</li>
<li>Sebastian Bensusan</li>
<li>Silver</li>
<li>Simon A. Nielsen Knights</li>
<li>Sizhe Zhao</li>
<li>Steven Kabbes</li>
<li>Suirad</li>
<li>The Potato Chronicler</li>
<li>Tristan Ross</li>
<li>Walther Chen</li>
<li>Yujiri</li>
<li>Yusuf Bham</li>
<li>Zach Cheung</li>
<li>Zapolsky Anton</li>
<li>alex</li>
<li>alion02</li>
<li>begly</li>
<li>bing</li>
<li>dantecatalfamo</li>
<li>dec05eba</li>
<li>delitako</li>
<li>e4m2</li>
<li>ee7</li>
<li>flexicoding</li>
<li>frmdstryr</li>
<li>fsh</li>
<li>gettsu</li>
<li>h57624paen</li>
<li>iacore</li>
<li>jackji</li>
<li>jagt</li>
<li>jiacai2050</li>
<li>kkHAIKE</li>
<li>leap123</li>
<li>lockbox</li>
<li>mateusz</li>
<li>mike</li>
<li>mnordine</li>
<li>mparadinha</li>
<li>nc</li>
<li>ominitay</li>
<li>pluick</li>
<li>protty</li>
<li>pseudoc</li>
<li>remeh</li>
<li>sentientwaffle</li>
<li>square</li>
<li>sv99</li>
<li>techatrix</li>
<li>tison</li>
<li>tjog</li>
<li>tranquillity-codes</li>
<li>wrongnull</li>
<li>ypsvlq</li>
<li>zenith391</li>
<li>zhaozg</li>
<li>zigster64</li>
<li>å±±ä¸‹</li>
<li>æœ•ä¸å°†å†›è§£æˆ˜è¢</li>
    </ul>
    

    <h2 id="Thank-You-Sponsors"><a href="#toc-Thank-You-Sponsors">Thank You Sponsors!</a> <a class="hdr" href="#Thank-You-Sponsors">Â§</a></h2>

    <img alt="Ziggy the Ziguana" src="https://ziglang.org/img/Ziggy_6.svg" style="height: 18em">
    <p>
    Special thanks to those who <a href="/zsf/">sponsor Zig</a>.
    Because of recurring donations, Zig is driven by the open source community, rather
    than the goal of making profit. In particular, these fine folks sponsor Zig
    for $50/month or more:
    </p>
    <ul style="columns: 3">
<li><a href="https://github.com/thejoshwolfe" rel="nofollow noopener" target="_blank" class="external-link">Josh Wolfe</a></li>
<li><a href="https://mattnite.blog" rel="nofollow noopener" target="_blank" class="external-link">Matt Knight</a></li>
<li><a href="https://www.hryx.net/" rel="nofollow noopener" target="_blank" class="external-link">Stevie Hryciw</a></li>
<li><a href="https://jethron.id.au" rel="nofollow noopener" target="_blank" class="external-link">Jethro Nederhof</a></li>
<li><a href="https://hachyderm.io/@karrick" rel="nofollow noopener" target="_blank" class="external-link">Karrick McDermott</a></li>
<li><a href="https://www.kapricornmedia.com" rel="nofollow noopener" target="_blank" class="external-link">JosÃ© M Rico</a></li>
<li><a href="https://github.com/drfuchs" rel="nofollow noopener" target="_blank" class="external-link">drfuchs</a></li>
<li><a href="https://github.com/tigerbeetle/tigerbeetle" rel="nofollow noopener" target="_blank" class="external-link">Joran Dirk Greef</a></li>
<li><a href="https://github.com/rui314" rel="nofollow noopener" target="_blank" class="external-link">Rui Ueyama</a></li>
<li><a href="https://github.com/bfredl" rel="nofollow noopener" target="_blank" class="external-link">bfredl</a></li>
<li><a href="https://slimsag.com" rel="nofollow noopener" target="_blank" class="external-link">Stephen Gutekanst</a></li>
<li><a href="https://derekcollison.net" rel="nofollow noopener" target="_blank" class="external-link">Derek Collison</a></li>
<li><a href="https://twitter.com/dcocca88" rel="nofollow noopener" target="_blank" class="external-link">Daniele Cocca</a></li>
<li><a href="https://twitter.com/rbatiati" rel="nofollow noopener" target="_blank" class="external-link">Rafael Batiati</a></li>
<li><a href="https://github.com/alunbestor" rel="nofollow noopener" target="_blank" class="external-link">Alun Bestor</a></li>
<li><a href="https://aras-p.info" rel="nofollow noopener" target="_blank" class="external-link">Aras PranckeviÄius</a></li>
<li><a href="https://terinstock.com" rel="nofollow noopener" target="_blank" class="external-link">Terin Stock</a></li>
<li><a href="https://kalvad.com" rel="nofollow noopener" target="_blank" class="external-link">LoÃ¯c Tosser</a></li>
<li><a href="https://scheibo.com" rel="nofollow noopener" target="_blank" class="external-link">Kirk Scheibelhut</a></li>
<li><a href="https://mitchellh.com" rel="nofollow noopener" target="_blank" class="external-link">Mitchell Hashimoto</a></li>
<li><a href="https://github.com/briangold" rel="nofollow noopener" target="_blank" class="external-link">Brian Gold</a></li>
<li><a href="https://github.com/phrrngtn" rel="nofollow noopener" target="_blank" class="external-link">Paul Harrington</a></li>
<li><a href="https://mikoverse.com" rel="nofollow noopener" target="_blank" class="external-link">MikoVerse</a></li>
<li><a href="https://github.com/cgaebel" rel="nofollow noopener" target="_blank" class="external-link">Clark Gaebel</a></li>
<li><a href="https://oven.sh/" rel="nofollow noopener" target="_blank" class="external-link">Oven</a></li>
<li><a href="https://www.marcus.art/" rel="nofollow noopener" target="_blank" class="external-link">Marcus</a></li>
<li><a href="https://bhgomes.dev" rel="nofollow noopener" target="_blank" class="external-link">Brandon H. Gomes</a></li>
<li><a href="https://www.kchilton.com" rel="nofollow noopener" target="_blank" class="external-link">Ken Chilton</a></li>
<li><a href="https://twitter.com/soworston" rel="nofollow noopener" target="_blank" class="external-link">Sebastian</a></li>
<li><a href="https://keybase.io/jakehemmerle" rel="nofollow noopener" target="_blank" class="external-link">jake hemmerle</a></li>
<li>Luuk de Gram</li>
<li>Jamie Brandon</li>
<li>Auguste Rame</li>
<li>Jay Petacat</li>
<li>Dirk de Visser</li>
<li>Santiago Andaluz</li>
<li>Andrew Mangogna</li>
<li>Yaroslav Zhavoronkov</li>
<li>Charlie Cheever</li>
<li>Anton Kochkov</li>
<li>Max Bernstein</li>
<li>Timothy Ham</li>
<li>Jordan Orelli</li>
<li>James McGill</li>
<li>Luke Champine</li>
<li>ç‹çˆ±å›½</li>
<li>Wojtek Mach</li>
<li>Daniel Hensley</li>
<li>Erik MÃ¥llberg</li>
<li>Christopher Dolan</li>
<li>Fabio Arnold</li>
<li>Mateusz Czarnecki</li>
<li>Ross Rheingans-Yoo</li>
<li>Emily A. Bellows</li>
<li>Mykhailo Tsiuptsiun (miktwon)</li>
<li>sparrisable</li>
<li>Kiril Mihaylov</li>
<li>Brett Slatkin</li>
<li>Martin H</li>
<li>Sean Carey</li>
<li>Yurii Rashkovskii</li>
<li>Benjamin Ebby</li>
<li>Ralph Brorsen</li>
<li>OM PropTech GmbH</li>
<li>Alex Sergeev</li>
<li>mlugg</li>
<li>Aaron Olson</li>
<li>Marco Munizaga</li>
<li>Baptiste Canton</li>
<li>Josh Ashby</li>
<li>Chris Baldwin</li>
<li>Malcolm Still</li>
<li>Francis Bouvier</li>
<li>Jacob Young</li>
<li>Alve Larsson</li>
<li>Nicolas Goy</li>
<li>Ian Johnson</li>
<li>Carlos Pizano Uribe</li>
<li>Rene Schallner</li>
<li>Alec Graves</li>
<li>Lucas Myers</li>
<li>Jinkyu Yi</li>
    </ul>
    
    </div>
  </body>
</html>
TODO check with tidy
