<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>0.8.1 Release Notes ⚡ The Zig Programming Language</title>
    <link rel="icon" href="/favicon.png">
    <link rel="icon" href="/favicon.svg">
    <style>
      body{
        font-family: system-ui, -apple-system, Roboto, "Segoe UI", sans-serif;
        line-height: 1.45;
        margin-left: 0;
        margin-right: 0;
      }
      p {
        margin: 0.8em 0;
      }

      h1, h2, h3, h4, h5 {
        margin: 0.5em 0 0.5em;
        line-height: 1.2;
        font-weight: bold;
        color: #666;
      }

      h1 a, h2 a, h3 a, h4 a, h5 a {
        text-decoration: none;
        color: #666;
      }

      h1 { font-size: 2.0em; }

      h2 { font-size: 1.5em; }

      h3 { font-size: 1.25em; }

      h4 { font-size: 1.0em; }

      a.hdr {
        visibility: hidden;
      }
      h1:hover > a.hdr, h2:hover > a.hdr, h3:hover > a.hdr, h4:hover > a.hdr, h5:hover > a.hdr {
        visibility: visible;
      }

      a {
        color: #2A6286;
      }

      a:not(:hover) {
        text-decoration: none;
      }

      th, td {
        padding: 0.6em;
        text-align: left;
      }

      td {
        font-size: 0.96em;
      }

      th {
        border-bottom: 2px solid #f2f3f3;
      }

      tr:nth-child(even) {
        background: #f2f3f3;
      }

      .t0_1, .t37, .t37_1 {
        font-weight: bold;
      }
      .t2_0 {
        color: grey;
      }
      .t31_1 {
        color: red;
      }
      .t32_1 {
        color: green;
      }
      .t36_1 {
        color: #0086b3;
      }
      .file {
        text-decoration: underline;
      }
      pre,code {
        font-size: 12pt;
      }
      pre > code {
        display: block;
        overflow: auto;
        padding: 0.5em;
        color: #333;
        background: #f8f8f8;
      }
      .table-wrapper {
        width: 100%;
        overflow-y: auto;
      }

      .tok-kw {
          color: #333;
          font-weight: bold;
      }
      .tok-str {
          color: #d14;
      }
      .tok-builtin {
          color: #0086b3;
      }
      .tok-comment {
          color: #777;
          font-style: italic;
      }
      .tok-fn {
          color: #900;
          font-weight: bold;
      }
      .tok-null {
          color: #008080;
      }
      .tok-number {
          color: #008080;
      }
      .tok-type {
          color: #458;
          font-weight: bold;
      }

      #contents {
        max-width: 60em;
        margin: auto;
        padding: 0 0.2em;
      }

      #logo {
        width: 100%;
        height: 7em;
        display: block;
        background-image: url(/img/zig-logo-dark.svg);
        background-repeat: no-repeat;
      }

      @media (prefers-color-scheme: dark) {
        body{
            background-color:#111;
            color: #bbb;
        }
        a {
            color: #88f;
        }
        table, th, td {
            border-color: grey;
        }
        tr:nth-child(even) {
          background: #1e1e1e;
        }
        .t2_0 {
            color: grey;
        }
        .t31_1 {
            color: red;
        }
        .t32_1 {
            color: green;
        }
        .t36_1 {
            color: #0086b3;
        }
        pre > code {
            color: #ccc;
            background: #222;
        }
        .tok-kw {
            color: #eee;
        }
        .tok-str {
            color: #2e5;
        }
        .tok-builtin {
            color: #ff894c;
        }
        .tok-comment {
            color: #aa7;
        }
        .tok-fn {
            color: #e33;
        }
        .tok-null {
            color: #ff8080;
        }
        .tok-number {
            color: #ff8080;
        }
        .tok-type {
            color: #68f;
        }
        h1, h2, h3, h4, h5 {
          color: #aaa;
        }
        h1 a, h2 a, h3 a, h4 a, h5 a {
            color: #aaa;
        }
        #logo {
          background-image: url(/img/zig-logo-light.svg);
        }
      }
    </style>
  </head><!--
-. .-.   .-. .-.   .-. .-.   .  
||\|||\ /|||\|||\ /|||\|||\ /|
|/ \|||\|||/ \|||\|||/ \|||\||
~   `-~ `-`   `-~ `-`   `-~ `-
  --><body>
    <div id="contents">
    <a href="https://ziglang.org/"><span id="logo"></span></a>
    <h1>0.8.1 Release Notes</h1>
    <p>
    <a href="https://ziglang.org/download/">Download &amp; Documentation</a>
    </p>
    <p>
    Zig is a general-purpose programming language and toolchain for maintaining
    <strong>robust</strong>, <strong>optimal</strong>, and <strong>reusable</strong> software.
    </p>
    <p>
    Backed by the <a href="/zsf/">Zig Software Foundation</a>,
    the project is <strong>financially sustainable</strong> and offers billable
    hours for core team members:
    </p>
    <ul style="columns: 3">
      <li><a href="https://andrewkelley.me/">Andrew Kelley</a></li>
      <li><a href="https://kristoff.it/">Loris Cro</a></li>
      <li><a href="http://www.jakubkonka.com/">Jakub Konka</a></li>
      <li><a href="https://github.com/Vexu">Veikka Tuominen</a></li>
      <li><a href="https://github.com/SpexGuy">Martin Wickham</a></li>
      <li><a href="https://github.com/alexnask">Alexandros Naskos</a></li>
    </ul>
    <p>
    Please consider <a href="/zsf/">donating to the ZSF</a> to help us pay even more contributors!
    </p>
    <p>
    This release contains <strong>only bug fixes</strong>.
    </p>
    <img alt="Zero the ziguana fixing bugs" src="/img/zero-fix.svg" style="height: 14em">
    <h1 id="Table-of-Contents"><a href="#toc-Table-of-Contents">Table of Contents</a> <a class="hdr" href="#Table-of-Contents">§</a></h1>

    

    <ul>
        <li><a id="toc-Table-of-Contents" href="#Table-of-Contents">Table of Contents</a></li>
        <li><a id="toc-Support-Table" href="#Support-Table">Support Table</a>
        <ul>
            <li><a id="toc-Tier-System" href="#Tier-System">Tier System</a>
            <ul>
                <li><a id="toc-Tier-1-Support" href="#Tier-1-Support">Tier 1 Support</a></li>
                <li><a id="toc-Tier-2-Support" href="#Tier-2-Support">Tier 2 Support</a></li>
                <li><a id="toc-Tier-3-Support" href="#Tier-3-Support">Tier 3 Support</a></li>
                <li><a id="toc-Tier-4-Support" href="#Tier-4-Support">Tier 4 Support</a></li>
            </ul></li>
            <li><a id="toc-MIPS-Support" href="#MIPS-Support">MIPS Support</a></li>
        </ul></li>
        <li><a id="toc-LLVM-1201" href="#LLVM-1201">LLVM 12.0.1</a></li>
        <li><a id="toc-Compiler" href="#Compiler">Compiler</a></li>
        <li><a id="toc-Standard-Library" href="#Standard-Library">Standard Library</a></li>
        <li><a id="toc-compiler-rt" href="#compiler-rt">compiler-rt</a></li>
        <li><a id="toc-Zig-Build-System" href="#Zig-Build-System">Zig Build System</a></li>
        <li><a id="toc-zig-cc--zig-c" href="#zig-cc--zig-c">zig cc / zig c++</a></li>
        <li><a id="toc-Language-Reference" href="#Language-Reference">Language Reference</a></li>
        <li><a id="toc-There-Are-Still-Known-Bugs-Remaining" href="#There-Are-Still-Known-Bugs-Remaining">There Are Still Known Bugs Remaining</a></li>
        <li><a id="toc-Thank-You-Contributors" href="#Thank-You-Contributors">Thank You Contributors!</a></li>
        <li><a id="toc-Thank-You-Sponsors" href="#Thank-You-Sponsors">Thank You Sponsors!</a></li>
    </ul>

    

    <h1 id="Support-Table"><a href="#toc-Support-Table">Support Table</a> <a class="hdr" href="#Support-Table">§</a></h1>

    <h2 id="Tier-System"><a href="#toc-Tier-System">Tier System</a> <a class="hdr" href="#Tier-System">§</a></h2>

    <p>
    A green check mark (✅) indicates the target meets all the requirements for the
    support tier. The other icons indicate what is <em>preventing the target from
      reaching the support tier</em>. In other words, the icons are
    <strong>to-do items</strong>. If you find any wrong data here please
    <a href="https://github.com/ziglang/www.ziglang.org">submit a pull request</a>!
    </p>
    <h3 id="Tier-1-Support"><a href="#toc-Tier-1-Support">Tier 1 Support</a> <a class="hdr" href="#Tier-1-Support">§</a></h3>

    <ul>
      <li>Not only can Zig generate machine code for these targets, but the standard
        library cross-platform abstractions have implementations for these targets.</li>
      <li>🧪 The CI server automatically tests these targets on every commit to master
        branch.</li>
      <li>📦 The CI server automatically produces pre-built binaries for these targets,
        on every commit to master, and updates
        <a href="https://ziglang.org/download/">the download page</a> with links.</li>
      <li>These targets have debug info capabilities and therefore produce stack traces
        on failed assertions.</li>
      <li>libc is available for this target even when cross compiling.</li>
      <li>🐛 All the behavior tests and applicable standard library tests pass for this target.
          All language features are known to work correctly. Experimental features do not
          count towards disqualifying an operating system or architecture from Tier 1.</li>
      <li><code>zig cc</code>, <code>zig c++</code> and related toolchain commands support
        this target.</li>
      <li>💀 If the Operating System is proprietary then the target is not marked deprecated
        by the vendor,
        <a href="https://support.apple.com/en-us/HT208436">such as macos/x86</a>.</li>
    </ul>
    <table>
    <thead>
    <tr>
    <th></th>
    <th>freestanding</th>
    <th>Linux 3.16+</th>
    <th>macOS 10.13+</th>
    <th>Windows 8.1+</th>
    <th>WASI</th>
    </tr>
    </thead>
    <tbody>
    <tr>
    <td>x86_64</td>
    <td>✅</td>
    <td>✅</td>
    <td>✅</td>
    <td>✅</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>x86</td>
    <td>✅</td>
    <td><a href="https://github.com/ziglang/zig/issues/1929">#1929</a> 🐛📦</td>
    <td>💀</td>
    <td><a href="https://github.com/ziglang/zig/issues/537">#537</a> 🐛📦</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>aarch64</td>
    <td>✅</td>
    <td><a href="https://github.com/ziglang/zig/issues/2443">#2443</a> 🐛</td>
    <td>✅</td>
    <td>🐛📦🧪</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>arm</td>
    <td>✅</td>
    <td><a href="https://github.com/ziglang/zig/issues/3174">#3174</a> 🐛📦</td>
    <td>💀</td>
    <td>🐛📦🧪</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>mips</td>
    <td>✅</td>
    <td><a href="https://github.com/ziglang/zig/issues/3345">#3345</a> 🐛📦</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>riscv64</td>
    <td>✅</td>
    <td><a href="https://github.com/ziglang/zig/issues/4456">#4456</a> 🐛📦</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>sparcv9</td>
    <td>✅</td>
    <td><a href="https://github.com/ziglang/zig/issues/4931">#4931</a> 🐛📦🧪</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>wasm32</td>
    <td>✅</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>✅</td>
    </tr>
    </tbody>
    </table>
    

    <h3 id="Tier-2-Support"><a href="#toc-Tier-2-Support">Tier 2 Support</a> <a class="hdr" href="#Tier-2-Support">§</a></h3>

    <ul>
    <li>📖 The standard library supports this target, but it's possible that some
      APIs will give an "Unsupported OS" compile error. One can link with libc or other
      libraries to fill in the gaps in the standard library.</li>
    <li>🔍 These targets are known to work, but may not be automatically tested, so there
      are occasional regressions.</li>
    <li>Some tests may be disabled for these targets as we work toward
      <a href="#Tier-1-Support">Tier 1 Support</a>.
    </li>
    </ul>
    <table>
    <thead>
    <tr>
    <th></th>
    <th>free standing</th>
    <th>Linux 3.16+</th>
    <th>macOS 10.13+</th>
    <th>Windows 8.1+</th>
    <th>FreeBSD 12.0+</th>
    <th>NetBSD 8.0+</th>
    <th>DragonFlyBSD 5.8+</th>
    <th>UEFI</th>
    </tr>
    </thead>
    <tbody>
    <tr>
    <td>x86_64</td>
    <td><a href="#Tier-1-Support">Tier 1</a></td>
    <td><a href="#Tier-1-Support">Tier 1</a></td>
    <td><a href="#Tier-1-Support">Tier 1</a></td>
    <td><a href="#Tier-1-Support">Tier 1</a></td>
    <td>✅</td>
    <td>✅</td>
    <td>✅</td>
    <td>✅</td>
    </tr>
    <tr>
    <td>x86</td>
    <td><a href="#Tier-1-Support">Tier 1</a></td>
    <td>✅</td>
    <td>💀</td>
    <td>✅</td>
    <td>🔍</td>
    <td>🔍</td>
    <td>N/A</td>
    <td>✅</td>
    </tr>
    <tr>
    <td>aarch64</td>
    <td><a href="#Tier-1-Support">Tier 1</a></td>
    <td>✅</td>
    <td><a href="#Tier-1-Support">Tier 1</a></td>
    <td>🔍</td>
    <td>🔍</td>
    <td>🔍</td>
    <td>N/A</td>
    <td>🔍</td>
    </tr>
    <tr>
    <td>arm</td>
    <td><a href="#Tier-1-Support">Tier 1</a></td>
    <td>✅</td>
    <td>💀</td>
    <td>🔍</td>
    <td>🔍</td>
    <td>🔍</td>
    <td>N/A</td>
    <td>🔍</td>
    </tr>
    <tr>
    <td>mips64</td>
    <td>✅</td>
    <td>✅</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>🔍</td>
    <td>🔍</td>
    <td>N/A</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>mips</td>
    <td><a href="#Tier-1-Support">Tier 1</a></td>
    <td>✅</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>🔍</td>
    <td>🔍</td>
    <td>N/A</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>powerpc64</td>
    <td>✅</td>
    <td>📖</td>
    <td>💀</td>
    <td>N/A</td>
    <td>🔍</td>
    <td>🔍</td>
    <td>N/A</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>powerpc</td>
    <td>✅</td>
    <td>✅</td>
    <td>💀</td>
    <td>N/A</td>
    <td>🔍</td>
    <td>🔍</td>
    <td>N/A</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>riscv64</td>
    <td><a href="#Tier-1-Support">Tier 1</a></td>
    <td>✅</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>🔍</td>
    <td>🔍</td>
    <td>N/A</td>
    <td>🔍</td>
    </tr>
    <tr>
    <td>sparcv9</td>
    <td><a href="#Tier-1-Support">Tier 1</a></td>
    <td>✅</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>🔍</td>
    <td>🔍</td>
    <td>N/A</td>
    <td>N/A</td>
    </tr>
    </tbody>
    </table>
    

    <h3 id="Tier-3-Support"><a href="#toc-Tier-3-Support">Tier 3 Support</a> <a class="hdr" href="#Tier-3-Support">§</a></h3>

    <ul>
    <li>The standard library has little to no knowledge of the existence of this
        target.</li>
    <li>If this target is provided by LLVM, LLVM has the target enabled by default.</li>
    <li>These targets are not frequently tested; one will likely need to contribute
      to Zig in order to build for these targets.</li>
    <li>The Zig compiler might need to be updated with a few things such as<ul>
       <li>what sizes are the C integer types</li>
       <li>C ABI calling convention for this target</li>
       <li>start code and default panic handler</li>
      </ul></li>
     <li><code>zig targets</code> is guaranteed to include this target.</li>
    </ul>
    <table>
      <thead>
        <tr>
          <th></th>
          <th>freestanding</th>
          <th>Linux 3.16+</th>
          <th>Windows 8.1+</th>
          <th>FreeBSD 12.0+</th>
          <th>NetBSD 8.0+</th>
          <th>UEFI</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>x86_64</td>
          <td><a href="#Tier-1-Support">Tier 1</a></td>
          <td><a href="#Tier-1-Support">Tier 1</a></td>
          <td><a href="#Tier-1-Support">Tier 1</a></td>
          <td><a href="#Tier-2-Support">Tier 2</a></td>
          <td><a href="#Tier-2-Support">Tier 2</a></td>
          <td><a href="#Tier-2-Support">Tier 2</a></td>
        </tr>
        <tr>
          <td>x86</td>
          <td><a href="#Tier-1-Support">Tier 1</a></td>
          <td><a href="#Tier-2-Support">Tier 2</a></td>
          <td><a href="#Tier-2-Support">Tier 2</a></td>
          <td>✅</td>
          <td>✅</td>
          <td><a href="#Tier-2-Support">Tier 2</a></td>
        </tr>
        <tr>
          <td>aarch64</td>
          <td><a href="#Tier-1-Support">Tier 1</a></td>
          <td><a href="#Tier-2-Support">Tier 2</a></td>
          <td>✅</td>
          <td>✅</td>
          <td>✅</td>
          <td>✅</td>
        </tr>
        <tr>
          <td>arm</td>
          <td><a href="#Tier-1-Support">Tier 1</a></td>
          <td><a href="#Tier-2-Support">Tier 2</a></td>
          <td>✅</td>
          <td>✅</td>
          <td>✅</td>
          <td>✅</td>
        </tr>
        <tr>
          <td>mips64</td>
          <td><a href="#Tier-2-Support">Tier 2</a></td>
          <td><a href="#Tier-2-Support">Tier 2</a></td>
          <td>N/A</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>mips</td>
          <td><a href="#Tier-1-Support">Tier 1</a></td>
          <td><a href="#Tier-2-Support">Tier 2</a></td>
          <td>N/A</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>riscv64</td>
          <td><a href="#Tier-1-Support">Tier 1</a></td>
          <td><a href="#Tier-2-Support">Tier 2</a></td>
          <td>N/A</td>
          <td>✅</td>
          <td>✅</td>
          <td>✅</td>
        </tr>
        <tr>
          <td>powerpc32</td>
          <td><a href="#Tier-2-Support">Tier 2</a></td>
          <td><a href="#Tier-2-Support">Tier 2</a></td>
          <td>N/A</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>powerpc64</td>
          <td><a href="#Tier-2-Support">Tier 2</a></td>
          <td>✅</td>
          <td>N/A</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>bpf</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>hexagon</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>amdgcn</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>sparc</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>s390x</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>lanai</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>csky</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
        </tr>
      </tbody>
    </table>
    <table>
      <thead>
        <tr>
          <th></th>
          <th>freestanding</th>
          <th>emscripten</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>wasm32</td>
          <td><a href="#Tier-1-Support">Tier 1</a></td>
          <td>✅</td>
        </tr>
      </tbody>
    </table>
    

    <h3 id="Tier-4-Support"><a href="#toc-Tier-4-Support">Tier 4 Support</a> <a class="hdr" href="#Tier-4-Support">§</a></h3>

    <ul>
      <li>Support for these targets is entirely experimental.</li>
      <li>If this target is provided by LLVM, LLVM may have the target as an
        experimental target, which means that you need to use Zig-provided binaries
        for the target to be available, or build LLVM from source with special configure flags.
        <code>zig targets</code> will display the target if it is available.</li>
      <li>This target may be considered deprecated by an official party,
        <a href="https://support.apple.com/en-us/HT208436">such as macosx/i386</a> in which
        case this target will remain forever stuck in Tier 4.</li>
      <li>This target may only support <code>-femit-asm</code> and cannot emit object files
        (<code>-fno-emit-bin</code> enabled by default and cannot be overridden).</li>
    </ul>
    <p>Tier 4 targets:</p>
    <ul style="columns: 3">
      <li>avr</li>
      <li>riscv32</li>
      <li>xcore</li>
      <li>nvptx</li>
      <li>msp430</li>
      <li>r600</li>
      <li>arc</li>
      <li>tce</li>
      <li>le</li>
      <li>amdil</li>
      <li>hsail</li>
      <li>spir</li>
      <li>kalimba</li>
      <li>shave</li>
      <li>renderscript</li>
      <li>32-bit x86 macOS, 32-bit ARM macOS, powerpc32 and powerpc64 macOS,
        because Apple has officially dropped support for them.</li>
    </ul>
    
    

    <h2 id="MIPS-Support"><a href="#toc-MIPS-Support">MIPS Support</a> <a class="hdr" href="#MIPS-Support">§</a></h2>

    <p>
    0.8.1 upgrades to <a href="#LLVM-1201">LLVM 12.0.1</a>, which solved a regression introduced in LLVM 12.0.0.
    Mips tests are now re-enabled on Zig's CI infrastructure.
    </p>
    <p>
    Additionally syscall_pipe is fixed. Previously the fd parameter was ignored and so the
    result would not get populated. Now it passes the fd pointer to the inline assembly
    so that the results can be observed.
    </p>
    
    

    <h1 id="LLVM-1201"><a href="#toc-LLVM-1201">LLVM 12.0.1</a> <a class="hdr" href="#LLVM-1201">§</a></h1>

    <p>This release upgrades to LLVM 12.0.1 which solved a handful of issues, including
    regressions introduced in 12.0.0, notably to <a href="#MIPS-Support">MIPS Support</a> (<a href="https://github.com/ziglang/zig/issues/8155">#8155</a>), DragonFlyBSD support
    (<a href="https://github.com/ziglang/zig/issues/3563">#3563</a>), and WebAssembly support (<a href="https://github.com/ziglang/zig/issues/5339">#5339</a>).</p>
    

    <h1 id="Compiler"><a href="#toc-Compiler">Compiler</a> <a class="hdr" href="#Compiler">§</a></h1>

    <p>
    This release will downgrade the expected CPU for x86 targets from
    x86-64-v2 back down to baseline. We had
    <a href="https://github.com/ziglang/zig/issues/8562">multiple reports</a> of people wanting to
    run the compiler binaries on older hardware. This has to do with the
    <a href="https://github.com/ziglang/release-cutter/">release process</a>;
    not the Zig compiler codebase.
    </p>
    <ul>
      <li>Fix building stage1 via <code>zig build</code>.</li>
      <li>Adjust dynamic linker path on OpenBSD (<a href="https://github.com/ziglang/zig/issues/9010">#9010</a>).</li>
      <li>stage1: Apply the same set of fn attributes everywhere. Make sure to
        propagate the target-specific attributes to internal functions too. (<a href="https://github.com/ziglang/zig/issues/8965">#8965</a>)</li>
      <li>stage1: fix render_const_value for printing const optional pointers.</li>
      <li>link: windows: look for more DLL import lib path names (<a href="https://github.com/ziglang/zig/issues/7799">#7799</a>).<br>
        When linking with -lfoo syntax, this indicates to Zig that the
        dependency should either be provided by Zig, or it should be dynamically
        provided by the system.<br>
        For windows-gnu targets, the search path was "foo.lib". Now it
        additionally looks for "libfoo.dll.a".</li>
      <li>stage1: make <code class="zig"><span class="tok-builtin">@truncate</span></code> to an integer type of different sign an error at comptime too.</li>
      <li>CLI: remove --verbose-ast and --verbose-tokenize (<a href="https://github.com/ziglang/zig/issues/9034">#9034</a>).<br>
        These options were listed under the "Debug Options (Zig Compiler Development)" heading.
        Anything in this section should be considered unstable and can be modified at any time
        at any developer's discretion.<br>
        In this case, these options no longer make sense due to <a href="/download/0.8.0/release-notes.html#Whole-File-AST-Lowering">Whole-File AST Lowering</a> which debuted in <a href="/download/0.8.0/release-notes.html">0.8.0</a>.
      </li>
      <li>stage1: Fix handling of C ABI parameters split in multiple regs (<a href="https://github.com/ziglang/zig/issues/9061">#9061</a>).<br>
          Take into account the increased number of parameters when flattening a
          structure into one or more SSE registers.
      </li>
      <li>better awareness of unwind tables (<a href="https://github.com/ziglang/zig/issues/9046">#9046</a>).<ul>
          <li>stage1 backend allows configuring the uwtables function attr
            via a flag rather than its own logic.</li>
          <li>stage2 defaults to enabling uwtable attr when
            linking libunwind, or always on windows.</li>
          <li>stage2 makes link_eh_frame_hdr true automatically if uwtable
            attr is set to be on for zig functions.</li>
          <li>CLI: add <code>-funwind-tables</code> and <code>-fno-unwind-tables</code>
            to allow the user to override the defaults.</li>
          <li>Hook it up to <code>zig cc</code>.</li>
        </ul></li>
      <li>NetBSD: add args to limit number of PT_LOAD segs (<a href="https://github.com/ziglang/zig/issues/9109">#9109</a>).<br>
        NetBSD expects 2 PT_LOAD segments in a shared object, otherwise
        ld.elf_so fails to load, emitting a general "not found" error.<br>
        Workaround issue by adding args <code>--no-rosegment</code> and <code>-znorelro</code></li>
      <li>Fix lakemont CpuModel (<a href="https://github.com/ziglang/zig/issues/9099">#9099</a>).<br>
        Lakemont has no x86, no MMX, no SSE and no way of handling any fp-math.</li>
      <li>stage1: fix zig0 help message (<a href="https://github.com/ziglang/zig/issues/9140">#9140</a>).</li>
      <li>stage2: Unify compiler error printing (<a href="https://github.com/ziglang/zig/issues/9117">#9117</a>).</li>
      <li>stage1: Store the specified code model in the LLVM module. This is needed for LTO builds to pick up the correct module (<a href="https://github.com/ziglang/zig/issues/9132">#9132</a>).</li>
      <li>AstGen: properly generate errdefer expressions when returning (<a href="https://github.com/ziglang/zig/issues/8821">#8821</a>).</li>
      <li>linker: macho: LC_RPATH: reserve byte for null-terminator.</li>
      <li>stage2: add --sysroot link option.<br>
          This feature is necessary for cross-compiling code that dynamically
          links system libraries, at least with the current feature set of lld.</li>
      <li>stage1: Properly put <code class="zig"><span class="tok-builtin">@shuffle</span></code> type and mask params in
        comptime scope.</li>
      <li>Shared Cache Locking - prevents deadlocks from multiple zig processes compiling
        at the same time which both need a shared subset of build artifacts (<a href="https://github.com/ziglang/zig/issues/9258">#9258</a>).</li>
      <li>stage2: fix <code class="zig"><span class="tok-builtin">@asyncCall</span></code> parameter count (<a href="https://github.com/ziglang/zig/issues/9269">#9269</a>).</li>
      <li>stage2: add the Zig version to AstGen cache hash. This solves the problem of
          different versions of Zig having different binary representations of ZIR code (<a href="https://github.com/ziglang/zig/issues/9290">#9290</a>).</li>
      <li>Fix unexpected truncation behavior with comptime_int larger than u64 range (#9303, #9299).</li>
      <li>mingw-w64: add odbc32 and dbghelp def files (<a href="https://github.com/ziglang/zig/issues/9124">#9124</a>).</li>
      <li>Fix libc include directories for the MSVC target.</li>
      <li>Fix bigint_shl (<a href="https://github.com/ziglang/zig/issues/9305">#9305</a>).</li>
      <li>-rdynamic now implies -fdll-export-fns unless the latter is explicitly set (<a href="https://github.com/ziglang/zig/issues/9340">#9340</a>).</li>
      <li>Don't define valgrind_support on macOS (<a href="https://github.com/ziglang/zig/issues/9612">#9612</a>). Unfortunately, Valgrind for macOS
        has been broken for years, and the Homebrew formula is only for Linux.</li>
      <li>libunwind: fix unwinding through libunwind stack frames (<a href="https://github.com/ziglang/zig/issues/9591">#9591</a>).</li>
    </ul>
    

    <h1 id="Standard-Library"><a href="#toc-Standard-Library">Standard Library</a> <a class="hdr" href="#Standard-Library">§</a></h1>

    <ul>
      <li>Better handing of POLLHUP in ChildProcess (<a href="https://github.com/ziglang/zig/issues/8988">#8988</a>).</li>
      <li>Fix some BPF function definitions.</li>
      <li>Fix pointer alignment unsafety on i386 (<a href="https://github.com/ziglang/zig/issues/8924">#8924</a>).</li>
      <li>Limit Fixed Buffer Stream seekTo (<a href="https://github.com/ziglang/zig/issues/9023">#9023</a>).</li>
      <li>Progress: use <code>*W</code> functions on Windows (<a href="https://github.com/ziglang/zig/issues/534">#534</a>).</li>
      <li>math.sqrt_int: fixed odd size integers types</li>
      <li>AES 128-bit key expansion test - properly test the inverse round keys (<a href="https://github.com/ziglang/zig/issues/9065">#9065</a>).</li>
      <li>Fix tanh for negative inputs (<a href="https://github.com/ziglang/zig/issues/9047">#9047</a>).<br>
          It turns out the code was not ported correctly from C and produced wrong
          results for negative input values. As a bonus fix the NaN codepath by
          adding yet another missing piece of code.</li>
      <li>Fix bigint add failures with aliasing (<a href="https://github.com/ziglang/zig/issues/8330">#8330</a>).</li>
      <li>Fix <code class="zig">std.c.waitpid</code> definition.</li>
      <li>Fix complex ldexp implementation (<a href="https://github.com/ziglang/zig/issues/9047">#9047</a>).<br>
          Two bugs in the implementation ported from musl made all the complex
          functions relying on ldexp return incorrect results in some cases.</li>
      <li>Windows: fix <code>OVERLAPPED</code>, add <code>OVERLAPPED_ENTRY</code>.</li>
      <li>Fix auto hash of tagged union with void field.</li>
      <li>Don't reference non-existant ComptimeStringHashMap type</li>
      <li>NetBSD: add more std.os bits.</li>
      <li>HashMap.getOrPutAssumeCapacityAdapted now sets key to undefined (<a href="https://github.com/ziglang/zig/issues/9138">#9138</a>).</li>
      <li>Make copy_file_range checks run at compile-time (<a href="https://github.com/ziglang/zig/issues/9146">#9146</a>).<ul>
          <li>Avoid emitting the copy_file_range symbol at all to prevent link-time errors.</li>
          <li>Fix a bug in the check logic, the has_copy_file_range_syscall was set to the wrong value in case of ENOSYS.</li>
          <li>If link_libc is true don't fall-back to the raw syscall approach.</li>
        </ul></li>
      <li>Fix PIE startup sequence (<a href="https://github.com/ziglang/zig/issues/9168">#9168</a>).</li>
    <li>Restore ability for root source file to override <code>MAX_PATH_BYTES</code>.</li>
    <li>os.linux.bpf: fix incorrect usage of unexpectedErrno.</li>
    <li>crypto.p256: fix neg function compile error.</li>
    <li>finish ChildProcess collectOutputWindows (<a href="https://github.com/ziglang/zig/issues/9148">#9148</a>).</li>
    <li>os.uefi: fix packed struct bitfields.</li>
    <li>Add waitid syscall on linux (<a href="https://github.com/ziglang/zig/issues/9335">#9335</a>).</li>
    <li>Add NotDir as possible error for os.inotify_add_watch. It's possible when mask
      contains <code>IN_ONLYDIR</code> and pathname is not a directory.</li>
    <li>Add inotify_rm_watch definition to c/linux.zig and make inotify_add_watch's pathname marked as nul-terminated.</li>
    <li>ArrayList: add missing assertion in appendSliceAssumeCapacity.</li>
    <li>Correct hasUniqueRepresentation for vectors (<a href="https://github.com/ziglang/zig/issues/9333">#9333</a>).</li>
    <li>crypto: handle the top bit in 25519.field.fromBytes64() (<a href="https://github.com/ziglang/zig/issues/9435">#9435</a>).
      The only known use case for this is the hash-to-curve operation where the top bit is
      always cleared. But the function is public, so this makes it work as one would expect
      in the general case.</li>
    <li>linux stdlib: fix definition of RW flags (<a href="https://github.com/ziglang/zig/issues/9428">#9428</a>).</li>
    <li>user32.zig: fixed compile error: 'bMenu' needs to casted (<a href="https://github.com/ziglang/zig/issues/9426">#9426</a>).</li>
    <li>ArrayList: Allow `ArrayList(u0)` to be created.</li>
    <li>Use truncating cast in WIFSTOPPED for Linux, FreeBSD and DragonFly.</li>
    </ul>
    

    <h1 id="compiler-rt"><a href="#toc-compiler-rt">compiler-rt</a> <a class="hdr" href="#compiler-rt">§</a></h1>

    <ul>
      <li>compiler-rt: Fix __floatunsitf signature. The function transforms an unsigned integer into a <code class="zig"><span class="tok-type">f128</span></code> (<a href="https://github.com/ziglang/zig/issues/8996">#8996</a>).</li>
    </ul>
    

    <h1 id="Zig-Build-System"><a href="#toc-Zig-Build-System">Zig Build System</a> <a class="hdr" href="#Zig-Build-System">§</a></h1>

    <ul>
      <li>Avoid using undefined variables (<a href="https://github.com/ziglang/zig/issues/9013">#9013</a>, <a href="https://github.com/ziglang/zig/issues/8928">#8928</a>, <a href="https://github.com/ziglang/zig/issues/7991">#7991</a>).</li>
    <li>zig build: add --libc general option.<br>
        This new option sets a default libc paths file to be used for all
        LibExeObjSteps. Setting LibExeObjStep.libc_file overrides this default.
        <br>
        This is required to allow users to cross compile projects linking system
        libraries without needing to patch the build.zig.</li>
    <li>Add <code>--sysroot</code> general option.</li>
    </ul>
    

    <h1 id="zig-cc--zig-c"><a href="#toc-zig-cc--zig-c">zig cc / zig c++</a> <a class="hdr" href="#zig-cc--zig-c">§</a></h1>

    <ul>
      <li>libc,macOS: update and add missing libc headers.</li>
      <li>native libc detection: respect spaces in CC env var (<a href="https://github.com/ziglang/zig/issues/8960">#8960</a>).<br>
          Zig has detection for when it is accidentally being called recursively
          when trying to find the native libc installation. However it was not
          working, resulting in a cryptic failure, because zig tried to execute
          a command which had spaces in it rather than tokenizing it.<br>
          This improves the user experience of <code>zig cc</code> for systems that Zig
          does not support cross-compiling for.</li>
      <li>Recognize more PIE flags.</li>
      <li>Fix RISC-V assembly CPU features.<br>
          Previously, Zig did not properly communicate the target CPU features for
          RISC-V to Clang assembler, because Clang has a different way to pass CPU
          features for C code and for assembly code. This fix makes Zig pass a
          RISC-V -march flag in order to communicate CPU features to Clang when
          compiling assembly files.</li>
      <li>Improve linker args parsing to handle linker args joined with a = like
        <code>-Wl,-rpath=foo</code>. Also handle <code>-Wl,--script</code> in addition
        to <code>-Wl,-T</code>.</li>
      <li>Fix argument forwarding to LLVM on Windows.</li>
      <li>Use -isysroot on Mojave too.</li>
      <li>stage1: Wasm,libc: fix wasm-ld failure in matching libc symbols.</li>
      <li>stage1: add c_longdouble mapping for s390x.</li>
    </ul>
    

    <h1 id="Language-Reference"><a href="#toc-Language-Reference">Language Reference</a> <a class="hdr" href="#Language-Reference">§</a></h1>

    <ul>
      <li>Remove paragraph that mentions IRC (<a href="https://github.com/ziglang/zig/issues/9055">#9055</a>).<br>
          The language reference is independent from any particular
          community. Also remove the call to action since the docs are
          known to be incomplete and are not the current focus of the project.
      </li>
      <li>Link to 0.7.1 not 0.7.0 for the previous docs.</li>
      <li>Rename "top level global assembly" to "container level".</li>
      <li>Clarify local static variable (<a href="https://github.com/ziglang/zig/issues/8381">#8381</a>).</li>
      <li>Make <code class="zig"><span class="tok-builtin">@setRuntimeSafety</span></code> more correct.</li>
      <li>Clarify <code class="zig"><span class="tok-builtin">@bitSizeOf</span></code> behavior.</li>
      <li>remove incorrect statement on <code class="zig"><span class="tok-type">c_void</span></code>.</li>
      <li>Fix array/pointer/slice type coercion section (<a href="https://github.com/ziglang/zig/issues/9392">#9392</a>).</li>
    </ul>
    

    <h1 id="There-Are-Still-Known-Bugs-Remaining"><a href="#toc-There-Are-Still-Known-Bugs-Remaining">There Are Still Known Bugs Remaining</a> <a class="hdr" href="#There-Are-Still-Known-Bugs-Remaining">§</a></h1>

    <p>
    Zig has
    <a href="https://github.com/ziglang/zig/issues?q=is%3Aopen+is%3Aissue+label%3Abug">known bugs</a>
    and even some
    <a href="https://github.com/ziglang/zig/issues?q=is%3Aopen+is%3Aissue+label%3Amiscompilation">miscompilations</a>.
    </p>
    <p>Zig is immature. Even with Zig 0.8.1, working on a non-trivial project using Zig will
    likely require participating in the development process.</p>
    

    <h1 id="Thank-You-Contributors"><a href="#toc-Thank-You-Contributors">Thank You Contributors!</a> <a class="hdr" href="#Thank-You-Contributors">§</a></h1>

    <p>
    These release notes have been edited down to avoid excessive detail as to not overwhelm
    the reader with content. In order to make sure everyone gets credit who contributed, here
    is a list of everyone who landed commits during this release cycle (produced with
    <code>git shortlog -sne 0.8.0..0.8.1</code>):
    </p>
    <ul style="columns: 3">
<li>Andrew Kelley</li>
<li>LemonBoy</li>
<li>Isaac Freund</li>
<li>Michael Dusan</li>
<li>Frank Denis</li>
<li>Jacob G-W</li>
<li>Jakub Konka</li>
<li>Martin Wickham</li>
<li>Matthew Borkowski</li>
<li>Nulo</li>
<li>Ryan Liptak</li>
<li>Veikka Tuominen</li>
<li>leesongun</li>
<li>viri</li>
<li>Adam C</li>
<li>Alex Rønne Petersen</li>
<li>Biolunar</li>
<li>Björn Linse</li>
<li>David May</li>
<li>Dustin Taylor</li>
<li>Filippo Casarin</li>
<li>Jonathan Marler</li>
<li>Malcolm Still</li>
<li>Meghan Denny</li>
<li>Michal Ziulek</li>
<li>Nameless</li>
<li>Nicolas</li>
<li>Philip Åkesson</li>
<li>Philipp Lühmann</li>
<li>Roman Frołow</li>
<li>Sebastian Ullrich</li>
<li>Sebastien Marie</li>
<li>Takeshi Yoneda</li>
<li>Tau</li>
<li>Vincent Rischmann</li>
<li>Zach Banks</li>
<li>codic12</li>
<li>d18g</li>
<li>fn ⌃ ⌥</li>
<li>hadroncfy</li>
<li>mason1920</li>
<li>pithlessly</li>
<li>xackus</li>
    </ul>
    

    <h1 id="Thank-You-Sponsors"><a href="#toc-Thank-You-Sponsors">Thank You Sponsors!</a> <a class="hdr" href="#Thank-You-Sponsors">§</a></h1>

    <p>
    Special thanks to those who <a href="/zsf/">sponsor Zig</a>.
    Because of you, Zig is driven by the open source community, rather than the goal of making profit.
    In particular, these fine folks sponsor Zig for $50/month or more:
    </p>
    <ul style="columns: 3">
<li><a href="https://pex.com">Pex</a></li>
<li><a href="https://github.com/drfuchs">drfuchs</a></li>
<li><a href="https://lagerdata.com">Lager Data</a></li>
<li><a href="https://slimsag.com">Stephen Gutekanst</a></li>
<li><a href="https://www.hryx.net/">Stevie Hryciw</a></li>
<li><a href="derekcollison.net">Derek Collison</a></li>
<li><a href="https://github.com/karrick">Karrick McDermott</a></li>
<li><a href="https://github.com/coilhq/tigerbeetle">Joran Dirk Greef</a></li>
<li><a href="https://github.com/Vulfox">Dustin Taylor</a></li>
<li><a href="www.kapricornmedia.com">José M Rico</a></li>
<li><a href="https://www.synadia.com/">ConnectEverything</a></li>
<li><a href="https://github.com/tauoverpi">Simon A. Nielsen Knights</a></li>
<li><a href="https://github.com/thejoshwolfe">Josh Wolfe</a></li>
<li><a href="https://github.com/dimenus">Ryan Saunderson</a></li>
<li><a href="https://github.com/ryanworl">ryanworl</a></li>
<li><a href="http://washboardabs.net">Alun Bestor</a></li>
<li><a href="https://github.com/Verdagon">Evan Ovadia</a></li>
<li><a href="https://aras-p.info">Aras Pranckevičius</a></li>
<li><a href="https://github.com/bfredl">Björn Linse</a></li>
<li><a href="https://jethron.id.au">Jethro Nederhof</a></li>
<li><a href="https://github.com/david-vanderson">David Vanderson</a></li>
<li><a href="https://skunkwerks.at/">SkunkWerks GmbH</a></li>
<li><a href="mknight.io">Matthew Knight</a></li>
<li><a href="https://github.com/tawawhite">tawawhite</a></li>
<li>Martin Schwaighofer</li>
<li>Santiago Andaluz</li>
<li>Rand Fitzpatrick</li>
<li>Jesus Alvarez</li>
<li>Vincent Foley</li>
<li>Rui Ueyama</li>
<li>Charlie Cheever</li>
<li>Wojtek Mach</li>
<li>Max De Marzi</li>
<li>Matyas Tamas</li>
<li>Christopher Dolan</li>
<li>Robert Hencke</li>
<li>Anton Kochkov</li>
<li>devzero</li>
<li>Mitchell Kember</li>
<li>Jamie Brandon</li>
<li>Jordan Orelli</li>
<li>Max Bernstein</li>
<li>Timothy Ham</li>
<li>mbarkhau</li>
<li>Andrew Gallant</li>
<li>Jay Petacat</li>
<li>Tyler Gibbons</li>
<li>Keith Devens</li>
<li>Agam Dua</li>
<li>Daniel Hensley</li>
<li>Erik Lundin</li>
<li>Beyang Liu</li>
<li>Christopher David Shirk</li>
<li>Vincent Rischmann</li>
<li>Emily A. Bellows</li>
<li>Martin Wickham</li>
<li>Steve Powers</li>
<li>Luke Champine</li>
<li>Neil Wang</li>
<li>Ross Rheingans-Yoo</li>
<li>Felix Queißner</li>
<li>Luuk de Gram</li>
<li>Mateusz Czarnecki</li>
<li>jamesmcgill</li>
<li>Yaroslav Zhavoronkov</li>
<li>Clay Kuppinger</li>
<li>Tom Maenan Read Cutting</li>
<li>Mykhailo Tsiuptsiun</li>
<li>meraymond2</li>
<li>Auguste Rame</li>
<li>Mamadou S Diallo</li>
<li>Dirk de Visser</li>
    </ul>
    
    </div>
  </body>
</html>
